/*! For license information please see main.61774aa5.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!u||!u[g])){var y=h(n,g);try{c(t,g,y)}catch(k){}}}}return t}},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function B(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case I:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ie(e){if(e=mi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=yi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Te(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Re(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==_e||null!==Se)&&(Ae(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=yi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ue=!1,je=null,Ve={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,xt,_t,St,It=!1,Et=[],Tt=null,Ct=null,At=null,Nt=new Map,Rt=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=mi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=vi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=mi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function jt(){It=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==At&&Ft(At)&&(At=null),Nt.forEach(Ut),Rt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function Bt(e){function t(t){return Vt(t,e)}if(0<Et.length){Vt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Vt(Tt,e),null!==Ct&&Vt(Ct,e),null!==At&&Vt(At,e),Nt.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var zt=b.ReactCurrentBatchConfig;function qt(e,t,n,r){var i=yt,a=zt.transition;zt.transition=null;try{yt=1,Kt(e,t,n,r)}finally{yt=i,zt.transition=a}}function Wt(e,t,n,r){var i=yt,a=zt.transition;zt.transition=null;try{yt=4,Kt(e,t,n,r)}finally{yt=i,zt.transition=a}}function Kt(e,t,n,r){var i=Gt(e,t,n,r);if(null===i)zr(e,t,r,Ht,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,i),!0;case"dragenter":return Ct=Lt(Ct,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Lt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Lt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=mi(i);if(null!==a&&bt(a),null===(a=Gt(e,t,n,r))&&zr(e,t,r,Ht,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else zr(e,t,r,null,n)}var Ht=null;function Gt(e,t,n,r){if(Ht=null,null!==(e=vi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ht=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Yt=null,Xt=null;function Jt(){if(Xt)return Xt;var e,t,n=Yt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function Zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,an,on,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=nn(un),cn=F({},un,{view:0,detail:0}),ln=nn(cn),fn=F({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(rn=e.screenX-on.screenX,an=e.screenY-on.screenY):an=rn=0,on=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=nn(fn),dn=nn(F({},fn,{dataTransfer:0})),pn=nn(F({},cn,{relatedTarget:0})),vn=nn(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gn=nn(mn),yn=nn(F({},un,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function _n(){return xn}var Sn=F({},cn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?Zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=nn(Sn),En=nn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=nn(F({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Cn=nn(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=nn(An),Rn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,On=null;l&&"documentMode"in document&&(On=document.documentMode);var Dn=l&&"TextEvent"in window&&!On,Ln=l&&(!Pn||On&&8<On&&11>=On),Mn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function qn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Hn(e){Mr(e,0)}function Gn(e){if(G(gi(e)))return e}function Qn(e,t){if("change"===e)return t}var $n=!1;if(l){var Yn;if(l){var Xn="oninput"in document;if(!Xn){var Jn=document.createElement("div");Jn.setAttribute("oninput","return;"),Xn="function"===typeof Jn.oninput}Yn=Xn}else Yn=!1;$n=Yn&&(!document.documentMode||9<document.documentMode)}function Zn(){Wn&&(Wn.detachEvent("onpropertychange",er),Kn=Wn=null)}function er(e){if("value"===e.propertyName&&Gn(Kn)){var t=[];qn(t,Kn,e,we(e)),Re(Hn,t)}}function tr(e,t,n){"focusin"===e?(Zn(),Kn=n,(Wn=t).attachEvent("onpropertychange",er)):"focusout"===e&&Zn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Kn)}function rr(e,t){if("click"===e)return Gn(t)}function ir(e,t){if("input"===e||"change"===e)return Gn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function cr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=lr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=sr(n,a);var o=sr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dr=l&&"documentMode"in document&&11>=document.documentMode,pr=null,vr=null,mr=null,gr=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;gr||null==pr||pr!==Q(r)||("selectionStart"in(r=pr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&or(mr,r)||(mr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},wr={},xr={};function _r(e){if(wr[e])return wr[e];if(!br[e])return e;var t,n=br[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return wr[e]=n[t];return e}l&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var Sr=_r("animationend"),Ir=_r("animationiteration"),Er=_r("animationstart"),Tr=_r("transitionend"),Cr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Cr.set(e,t),s(t,[e])}for(var Rr=0;Rr<Ar.length;Rr++){var Pr=Ar[Rr];Nr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Nr(Sr,"onAnimationEnd"),Nr(Ir,"onAnimationIteration"),Nr(Er,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ue||(Ue=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,c),a=s}}}if(Ue)throw e=je,Ue=!1,je=null,e}function Fr(e,t){var n=t[hi];void 0===n&&(n=t[hi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[jr]){e[jr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Ur("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Qt(t)){case 1:var i=qt;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=vi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var u=Cr.get(e);if(void 0!==u){var s=sn,c=e;switch(e){case"keypress":if(0===Zt(n))break e;case"keydown":case"keyup":s=In;break;case"focusin":c="focus",s=pn;break;case"focusout":c="blur",s=pn;break;case"beforeblur":case"afterblur":s=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Tn;break;case Sr:case Ir:case Er:s=vn;break;case Tr:s=Cn;break;case"scroll":s=ln;break;case"wheel":s=Nn;break;case"copy":case"cut":case"paste":s=gn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=En}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(qr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[fi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=hn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=En,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:gi(s),d=null==c?u:gi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,vi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==s&&Hr(o,u,s,l,!1),null!==c&&null!==f&&Hr(o,f,c,l,!0)}if("select"===(s=(u=r?gi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Qn;else if(zn(u))if($n)m=ir;else{m=nr;var g=tr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=rr);switch(m&&(m=m(e,r))?qn(o,m,n,i):(g&&g(e,u,r),"focusout"===e&&(g=u._wrapperState)&&g.controlled&&"number"===u.type&&ee(u,"number",u.value)),g=r?gi(r):window,e){case"focusin":(zn(g)||"true"===g.contentEditable)&&(pr=g,vr=r,mr=null);break;case"focusout":mr=vr=pr=null;break;case"mousedown":gr=!0;break;case"contextmenu":case"mouseup":case"dragend":gr=!1,yr(o,n,i);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":yr(o,n,i)}var y;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Vn?Un(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Ln&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Vn&&(y=Jt()):(Yt="value"in($t=i)?$t.value:$t.textContent,Vn=!0)),0<(g=Wr(r,k)).length&&(k=new yn(k,e,null,n,i),o.push({event:k,listeners:g}),y?k.data=y:null!==(y=jn(n))&&(k.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Pn&&Un(e,t)?(e=Jt(),Xt=Yt=$t=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Mr(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(qr(e,a,i)),null!=(a=Pe(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Hr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(qr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(qr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Gr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Qr,"")}function Yr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Xr(){}var Jr=null;function Zr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"===typeof setTimeout?setTimeout:void 0,ti="function"===typeof clearTimeout?clearTimeout:void 0,ni="function"===typeof Promise?Promise:void 0,ri="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ni?function(e){return ni.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout((function(){throw e}))}function ai(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function oi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),ci="__reactFiber$"+si,li="__reactProps$"+si,fi="__reactContainer$"+si,hi="__reactEvents$"+si,di="__reactListeners$"+si,pi="__reactHandles$"+si;function vi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[ci])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function mi(e){return!(e=e[ci]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function gi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function yi(e){return e[li]||null}var ki=[],bi=-1;function wi(e){return{current:e}}function xi(e){0>bi||(e.current=ki[bi],ki[bi]=null,bi--)}function _i(e,t){bi++,ki[bi]=e.current,e.current=t}var Si={},Ii=wi(Si),Ei=wi(!1),Ti=Si;function Ci(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){xi(Ei),xi(Ii)}function Ri(e,t,n){if(Ii.current!==Si)throw Error(a(168));_i(Ii,t),_i(Ei,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ti=Ii.current,_i(Ii,e),_i(Ei,Ei.current),!0}function Di(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Pi(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,xi(Ei),xi(Ii),_i(Ii,e)):xi(Ei),_i(Ei,n)}var Li=null,Mi=!1,Fi=!1;function Ui(e){null===Li?Li=[e]:Li.push(e)}function ji(){if(!Fi&&null!==Li){Fi=!0;var e=0,t=yt;try{var n=Li;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Li=null,Mi=!1}catch(i){throw null!==Li&&(Li=Li.slice(e+1)),Ge(Ze,ji),i}finally{yt=t,Fi=!1}}return null}var Vi=b.ReactCurrentBatchConfig;function Bi(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var zi=wi(null),qi=null,Wi=null,Ki=null;function Hi(){Ki=Wi=qi=null}function Gi(e){var t=zi.current;xi(zi),e._currentValue=t}function Qi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $i(e,t){qi=e,Ki=Wi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(gu=!0),e.firstContext=null)}function Yi(e){var t=e._currentValue;if(Ki!==e)if(e={context:e,memoizedValue:t,next:null},null===Wi){if(null===qi)throw Error(a(308));Wi=e,qi.dependencies={lanes:0,firstContext:e}}else Wi=Wi.next=e;return t}var Xi=null,Ji=!1;function Zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ea(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ta(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function na(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==ys&&0!==(1&e.mode)&&0===(2&gs)?(null===(e=n.interleaved)?(t.next=t,null===Xi?Xi=[n]:Xi.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function ia(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function aa(e,t,n,r){var i=e.updateQueue;Ji=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Ji=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Is|=o,e.lanes=o,e.memoizedState=f}}function oa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ua=(new r.Component).refs;function sa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ca={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=zs(),i=qs(e),a=ta(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Ws(e,i,r))&&ra(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=zs(),i=qs(e),a=ta(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Ws(e,i,r))&&ra(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=zs(),r=qs(e),i=ta(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),na(e,i),null!==(t=Ws(e,r,n))&&ra(t,e,r)}};function la(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,a))}function fa(e,t,n){var r=!1,i=Si,a=t.contextType;return"object"===typeof a&&null!==a?a=Yi(a):(i=Ai(t)?Ti:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ci(e,i):Si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ca,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ca.enqueueReplaceState(t,t.state,null)}function da(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ua,Zi(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Yi(a):(a=Ai(t)?Ti:Ii.current,i.context=Ci(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(sa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ca.enqueueReplaceState(i,i.state,null),aa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var pa=[],va=0,ma=null,ga=0,ya=[],ka=0,ba=null,wa=1,xa="";function _a(e,t){pa[va++]=ga,pa[va++]=ma,ma=e,ga=t}function Sa(e,t,n){ya[ka++]=wa,ya[ka++]=xa,ya[ka++]=ba,ba=e;var r=wa;e=xa;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wa=1<<32-ot(t)+i|n<<i|r,xa=a+e}else wa=1<<a|n<<i|r,xa=e}function Ia(e){null!==e.return&&(_a(e,1),Sa(e,1,0))}function Ea(e){for(;e===ma;)ma=pa[--va],pa[va]=null,ga=pa[--va],pa[va]=null;for(;e===ba;)ba=ya[--ka],ya[ka]=null,xa=ya[--ka],ya[ka]=null,wa=ya[--ka],ya[ka]=null}var Ta=null,Ca=null,Aa=!1,Na=null;function Ra(e,t){var n=bc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Pa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ta=e,Ca=oi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ta=e,Ca=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ba?{id:wa,overflow:xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=bc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ta=e,Ca=null,!0);default:return!1}}function Oa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Da(e){if(Aa){var t=Ca;if(t){var n=t;if(!Pa(e,t)){if(Oa(e))throw Error(a(418));t=oi(n.nextSibling);var r=Ta;t&&Pa(e,t)?Ra(r,n):(e.flags=-4097&e.flags|2,Aa=!1,Ta=e)}}else{if(Oa(e))throw Error(a(418));e.flags=-4097&e.flags|2,Aa=!1,Ta=e}}}function La(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ta=e}function Ma(e){if(e!==Ta)return!1;if(!Aa)return La(e),Aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zr(e.type,e.memoizedProps)),t&&(t=Ca)){if(Oa(e)){for(e=Ca;e;)e=oi(e.nextSibling);throw Error(a(418))}for(;t;)Ra(e,t),t=oi(t.nextSibling)}if(La(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ca=oi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ca=null}}else Ca=Ta?oi(e.stateNode.nextSibling):null;return!0}function Fa(){Ca=Ta=null,Aa=!1}function Ua(e){null===Na?Na=[e]:Na.push(e)}function ja(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ba(e){return(0,e._init)(e._payload)}function za(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=xc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ec(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Ba(a)===t.type)?((r=i(t,n.props)).ref=ja(e,t,n),r.return=e,r):((r=_c(n.type,n.key,n.props,null,e.mode,r)).ref=ja(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Tc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Sc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ec(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=_c(t.type,t.key,t.props,null,e.mode,n)).ref=ja(e,null,t),n.return=e,n;case x:return(t=Tc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Sc(t,e.mode,n,null)).return=e,t;Va(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Va(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Va(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,u[v],s);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===u.length)return n(i,f),Aa&&_a(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Aa&&_a(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),Aa&&_a(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,g=null,y=s.next();null!==v&&!y.done;m++,y=s.next()){v.index>m?(g=v,v=null):g=v.sibling;var k=d(i,v,y.value,c);if(null===k){null===v&&(v=g);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=g}if(y.done)return n(i,v),Aa&&_a(i,m),l;if(null===v){for(;!y.done;m++,y=s.next())null!==(y=h(i,y.value,c))&&(u=o(y,u,m),null===f?l=y:f.sibling=y,f=y);return Aa&&_a(i,m),l}for(v=r(i,v);!y.done;m++,y=s.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),u=o(y,u,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),Aa&&_a(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Ba(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=ja(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Sc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=_c(o.type,o.key,o.props,null,r.mode,s)).ref=ja(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Tc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Va(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Ec(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var qa=za(!0),Wa=za(!1),Ka={},Ha=wi(Ka),Ga=wi(Ka),Qa=wi(Ka);function $a(e){if(e===Ka)throw Error(a(174));return e}function Ya(e,t){switch(_i(Qa,t),_i(Ga,e),_i(Ha,Ka),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Ha),_i(Ha,t)}function Xa(){xi(Ha),xi(Ga),xi(Qa)}function Ja(e){$a(Qa.current);var t=$a(Ha.current),n=se(t,e.type);t!==n&&(_i(Ga,e),_i(Ha,n))}function Za(e){Ga.current===e&&(xi(Ha),xi(Ga))}var eo=wi(0);function to(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function ro(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var io=b.ReactCurrentDispatcher,ao=b.ReactCurrentBatchConfig,oo=0,uo=null,so=null,co=null,lo=!1,fo=!1,ho=0,po=0;function vo(){throw Error(a(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(oo=o,uo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?Zo:eu,e=n(r,i),fo){o=0;do{if(fo=!1,ho=0,25<=o)throw Error(a(301));o+=1,co=so=null,t.updateQueue=null,io.current=tu,e=n(r,i)}while(fo)}if(io.current=Jo,t=null!==so&&null!==so.next,oo=0,co=so=uo=null,lo=!1,t)throw Error(a(300));return e}function yo(){var e=0!==ho;return ho=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?uo.memoizedState=co=e:co=co.next=e,co}function bo(){if(null===so){var e=uo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===co?uo.memoizedState:co.next;if(null!==t)co=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===co?uo.memoizedState=co=e:co=co.next=e}return co}function wo(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((oo&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,uo.lanes|=f,Is|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ar(r,t.memoizedState)||(gu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,uo.lanes|=o,Is|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _o(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ar(o,t.memoizedState)||(gu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function Io(e,t){var n=uo,r=bo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,gu=!0),r=r.queue,Mo(Co.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,Ro(9,To.bind(null,n,r,i,t),void 0,null),null===ys)throw Error(a(349));0!==(30&oo)||Eo(n,t,i)}return i}function Eo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function To(e,t,n,r){t.value=n,t.getSnapshot=r,Ao(t)&&Ws(e,1,-1)}function Co(e,t,n){return n((function(){Ao(t)&&Ws(e,1,-1)}))}function Ao(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function No(e){var t=ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Go.bind(null,uo,e),[t.memoizedState,e]}function Ro(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Po(){return bo().memoizedState}function Oo(e,t,n,r){var i=ko();uo.flags|=e,i.memoizedState=Ro(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var i=bo();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Ro(t,n,a,r))}uo.flags|=e,i.memoizedState=Ro(1|t,n,a,r)}function Lo(e,t){return Oo(8390656,8,e,t)}function Mo(e,t){return Do(2048,8,e,t)}function Fo(e,t){return Do(4,2,e,t)}function Uo(e,t){return Do(4,4,e,t)}function jo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,jo.bind(null,t,e),n)}function Bo(){}function zo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{yt=n,ao.transition=r}}function Ko(){return bo().memoizedState}function Ho(e,t,n){var r=qs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e)?$o(t,n):(Yo(e,t,n),null!==(e=Ws(e,r,n=zs()))&&Xo(e,t,r))}function Go(e,t,n){var r=qs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))$o(t,i);else{Yo(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ar(u,o))return}catch(s){}null!==(e=Ws(e,r,n=zs()))&&Xo(e,t,r)}}function Qo(e){var t=e.alternate;return e===uo||null!==t&&t===uo}function $o(e,t){fo=lo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yo(e,t,n){null!==ys&&0!==(1&e.mode)&&0===(2&gs)?(null===(e=t.interleaved)?(n.next=n,null===Xi?Xi=[t]:Xi.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Xo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var Jo={readContext:Yi,useCallback:vo,useContext:vo,useEffect:vo,useImperativeHandle:vo,useInsertionEffect:vo,useLayoutEffect:vo,useMemo:vo,useReducer:vo,useRef:vo,useState:vo,useDebugValue:vo,useDeferredValue:vo,useTransition:vo,useMutableSource:vo,useSyncExternalStore:vo,useId:vo,unstable_isNewReconciler:!1},Zo={readContext:Yi,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:Yi,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4194308,4,jo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oo(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ho.bind(null,uo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:No,useDebugValue:Bo,useDeferredValue:function(e){var t=No(e),n=t[0],r=t[1];return Lo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){var e=No(!1),t=e[0];return e=Wo.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=uo,i=ko();if(Aa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===ys)throw Error(a(349));0!==(30&oo)||Eo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Lo(Co.bind(null,r,o,e),[e]),r.flags|=2048,Ro(9,To.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=ys.identifierPrefix;if(Aa){var n=xa;t=":"+t+"R"+(n=(wa&~(1<<32-ot(wa)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eu={readContext:Yi,useCallback:zo,useContext:Yi,useEffect:Mo,useImperativeHandle:Vo,useInsertionEffect:Fo,useLayoutEffect:Uo,useMemo:qo,useReducer:xo,useRef:Po,useState:function(){return xo(wo)},useDebugValue:Bo,useDeferredValue:function(e){var t=xo(wo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[xo(wo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:Io,useId:Ko,unstable_isNewReconciler:!1},tu={readContext:Yi,useCallback:zo,useContext:Yi,useEffect:Mo,useImperativeHandle:Vo,useInsertionEffect:Fo,useLayoutEffect:Uo,useMemo:qo,useReducer:_o,useRef:Po,useState:function(){return _o(wo)},useDebugValue:Bo,useDeferredValue:function(e){var t=_o(wo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[_o(wo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:Io,useId:Ko,unstable_isNewReconciler:!1};function nu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ru(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var iu,au,ou,uu="function"===typeof WeakMap?WeakMap:Map;function su(e,t,n){(n=ta(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ps||(Ps=!0,Os=r),ru(0,t)},n}function cu(e,t,n){(n=ta(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ru(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ru(0,t),"function"!==typeof r&&(null===Ds?Ds=new Set([this]):Ds.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function lu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new uu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=pc.bind(null,e,t,n),t.then(e,e))}function fu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function hu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ta(-1,1)).tag=2,na(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function du(e,t){if(!Aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vu(e,t,n){var r=t.pendingProps;switch(Ea(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pu(t),null;case 1:case 17:return Ai(t.type)&&Ni(),pu(t),null;case 3:return r=t.stateNode,Xa(),xi(Ei),xi(Ii),ro(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ma(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Na&&($s(Na),Na=null))),pu(t),null;case 5:Za(t);var i=$a(Qa.current);if(n=t.type,null!==e&&null!=t.stateNode)au(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return pu(t),null}if(e=$a(Ha.current),Ma(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ci]=t,r[li]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var s in ye(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(Yr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(Yr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Fr("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ci]=t,e[li]=r,iu(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Fr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return pu(t),null;case 6:if(e&&null!=t.stateNode)ou(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=$a(Qa.current),$a(Ha.current),Ma(t)){if(r=t.stateNode,n=t.memoizedProps,r[ci]=t,(o=r.nodeValue!==n)&&null!==(e=Ta))switch(s=0!==(1&e.mode),e.tag){case 3:Yr(r.nodeValue,n,s);break;case 5:!0!==e.memoizedProps[void 0]&&Yr(r.nodeValue,n,s)}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ci]=t,t.stateNode=r}return pu(t),null;case 13:if(xi(eo),r=t.memoizedState,Aa&&null!==Ca&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ca;r;)r=oi(r.nextSibling);return Fa(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ma(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[ci]=t}else Fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return pu(t),null}return null!==Na&&($s(Na),Na=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ma(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&eo.current)?0===_s&&(_s=3):ic())),null!==t.updateQueue&&(t.flags|=4),pu(t),null);case 4:return Xa(),null===e&&Vr(t.stateNode.containerInfo),pu(t),null;case 10:return Gi(t.type._context),pu(t),null;case 19:if(xi(eo),null===(o=t.memoizedState))return pu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)du(o,!1);else{if(0!==_s||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=to(e))){for(t.flags|=128,du(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(eo,1&eo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Rs&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=to(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),du(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Aa)return pu(t),null}else 2*Xe()-o.renderingStartTime>Rs&&1073741824!==n&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=eo.current,_i(eo,r?1&n|2:1&n),t):(pu(t),null);case 22:case 23:return ec(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&ws)&&(pu(t),6&t.subtreeFlags&&(t.flags|=8192)):pu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}iu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},au=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$a(Ha.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Fr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},ou=function(e,t,n,r){n!==r&&(t.flags|=4)};var mu=b.ReactCurrentOwner,gu=!1;function yu(e,t,n,r){t.child=null===e?Wa(t,null,n,r):qa(t,e.child,n,r)}function ku(e,t,n,r,i){n=n.render;var a=t.ref;return $i(t,i),r=go(e,t,n,r,a,i),n=yo(),null===e||gu?(Aa&&n&&Ia(t),t.flags|=1,yu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ju(e,t,i))}function bu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||wc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=_c(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,wu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:or)(o,r)&&e.ref===t.ref)return ju(e,t,i)}return t.flags|=1,(e=xc(a,r)).ref=t.ref,e.return=t,t.child=e}function wu(e,t,n,r,i){if(null!==e&&or(e.memoizedProps,r)&&e.ref===t.ref){if(gu=!1,0===(e.lanes&i))return t.lanes=e.lanes,ju(e,t,i);0!==(131072&e.flags)&&(gu=!0)}return Su(e,t,n,r,i)}function xu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},_i(xs,ws),ws|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,_i(xs,ws),ws|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,_i(xs,ws),ws|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_i(xs,ws),ws|=r;return yu(e,t,i,n),t.child}function _u(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Su(e,t,n,r,i){var a=Ai(n)?Ti:Ii.current;return a=Ci(t,a),$i(t,i),n=go(e,t,n,r,a,i),r=yo(),null===e||gu?(Aa&&r&&Ia(t),t.flags|=1,yu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ju(e,t,i))}function Iu(e,t,n,r,i){if(Ai(n)){var a=!0;Oi(t)}else a=!1;if($i(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),fa(t,n,r),da(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Yi(c):c=Ci(t,c=Ai(n)?Ti:Ii.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ha(t,o,r,c),Ji=!1;var h=t.memoizedState;o.state=h,aa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ei.current||Ji?("function"===typeof l&&(sa(t,n,l,r),s=t.memoizedState),(u=Ji||la(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ea(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Bi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Yi(s):s=Ci(t,s=Ai(n)?Ti:Ii.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ha(t,o,r,s),Ji=!1,h=t.memoizedState,o.state=h,aa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ei.current||Ji?("function"===typeof d&&(sa(t,n,d,r),p=t.memoizedState),(c=Ji||la(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Eu(e,t,n,r,a,i)}function Eu(e,t,n,r,i,a){_u(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Di(t,n,!1),ju(e,t,a);r=t.stateNode,mu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=qa(t,e.child,null,a),t.child=qa(t,null,u,a)):yu(e,t,u,a),t.memoizedState=r.state,i&&Di(t,n,!0),t.child}function Tu(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),Ya(e,t.containerInfo)}function Cu(e,t,n,r,i){return Fa(),Ua(i),t.flags|=256,yu(e,t,n,r),t.child}var Au={dehydrated:null,treeContext:null,retryLane:0};function Nu(e){return{baseLanes:e,cachePool:null}}function Ru(e,t,n){var r,i=t.pendingProps,o=eo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),_i(eo,1&o),null===e)return Da(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=Ic(o,i,0,null),e=Sc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Nu(n),t.memoizedState=Au,e):Pu(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Lu(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=Ic({mode:"visible",children:i.children},o,0,null),(u=Sc(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&qa(t,e.child,null,n),t.child.memoizedState=Nu(n),t.memoizedState=Au,u);if(0===(1&t.mode))t=Lu(e,t,n,null);else if("$!"===r.data)t=Lu(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),gu||i){if(null!==(i=ys)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Ws(e,i,-1))}ic(),t=Lu(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=mc.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Ca=oi(r.nextSibling),Ta=t,Aa=!0,Na=null,null!==n&&(ya[ka++]=wa,ya[ka++]=xa,ya[ka++]=ba,wa=n.id,xa=n.overflow,ba=t),(t=Pu(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Du(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Nu(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Au,i):(n=Ou(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Du(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Nu(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Au,i):(n=Ou(e,t,i.children,n),t.memoizedState=null,n)}function Pu(e,t){return(t=Ic({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ou(e,t,n,r){var i=e.child;return e=i.sibling,n=xc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Du(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=xc(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=xc(o,r):(r=Sc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Lu(e,t,n,r){return null!==r&&Ua(r),qa(t,e.child,null,n),(e=Pu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Mu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Qi(e.return,t,n)}function Fu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Uu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(yu(e,t,r.children,n),0!==(2&(r=eo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mu(e,n,t);else if(19===e.tag)Mu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(eo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===to(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===to(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fu(t,!0,n,null,a);break;case"together":Fu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ju(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Is|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=xc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=xc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vu(e,t){switch(Ea(t),t.tag){case 1:return Ai(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xa(),xi(Ei),xi(Ii),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(xi(eo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(eo),null;case 4:return Xa(),null;case 10:return Gi(t.type._context),null;case 22:case 23:return ec(),null;default:return null}}var Bu=!1,zu=!1,qu="function"===typeof WeakSet?WeakSet:Set,Wu=null;function Ku(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){dc(e,t,r)}else n.current=null}function Hu(e,t,n){try{n()}catch(r){dc(e,t,r)}}var Gu=!1;function Qu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Hu(t,n,a)}i=i.next}while(i!==r)}}function $u(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Yu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function Xu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&Hu(t,n,a),r=r.next}while(r!==e)}break;case 1:if(Ku(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){dc(t,n,o)}break;case 5:Ku(t,n);break;case 4:is(e,t,n)}}function Ju(e){var t=e.alternate;null!==t&&(e.alternate=null,Ju(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ci],delete t[li],delete t[hi],delete t[di],delete t[pi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zu(e){return 5===e.tag||3===e.tag||4===e.tag}function es(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Zu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ts(e){e:{for(var t=e.return;null!==t;){if(Zu(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(he(t,""),n.flags&=-33),rs(e,n=es(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,ns(e,n=es(e),t);break;default:throw Error(a(161))}}function ns(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ns(e,t,n),e=e.sibling;null!==e;)ns(e,t,n),e=e.sibling}function rs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(rs(e,t,n),e=e.sibling;null!==e;)rs(e,t,n),e=e.sibling}function is(e,t,n){for(var r,i,o=t,u=!1;;){if(!u){u=o.return;e:for(;;){if(null===u)throw Error(a(160));switch(r=u.stateNode,u.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}u=u.return}u=!0}if(5===o.tag||6===o.tag){e:for(var s=e,c=o,l=n,f=c;;)if(Xu(s,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(s=r,c=o.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):r.removeChild(o.stateNode)}else if(18===o.tag)i?(s=r,c=o.stateNode,8===s.nodeType?ai(s.parentNode,c):1===s.nodeType&&ai(s,c),Bt(s)):ai(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(Xu(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(u=!1)}o.sibling.return=o.return,o=o.sibling}}function as(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return Qu(3,t,t.return),$u(3,t),void Qu(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for("input"===e&&"radio"===r.type&&null!=r.name&&X(n,r),ke(e,i),t=ke(e,r),i=0;i<o.length;i+=2){var u=o[i],s=o[i+1];"style"===u?me(n,s):"dangerouslySetInnerHTML"===u?fe(n,s):"children"===u?he(n,s):k(n,u,s,t)}switch(e){case"input":J(n,r);break;case"textarea":ae(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ne(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ne(n,!!r.multiple,r.defaultValue,!0):ne(n,!!r.multiple,r.multiple?[]:"",!1))}n[li]=r}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&Bt(t.stateNode.containerInfo));case 13:case 19:return void os(t)}throw Error(a(163))}function os(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qu),t.forEach((function(t){var r=gc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function us(e,t,n){Wu=e,ss(e,t,n)}function ss(e,t,n){for(var r=0!==(1&e.mode);null!==Wu;){var i=Wu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Bu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||zu;u=Bu;var c=zu;if(Bu=o,(zu=s)&&!c)for(Wu=i;null!==Wu;)s=(o=Wu).child,22===o.tag&&null!==o.memoizedState?fs(i):null!==s?(s.return=o,Wu=s):fs(i);for(;null!==a;)Wu=a,ss(a,t,n),a=a.sibling;Wu=i,Bu=u,zu=c}cs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Wu=a):cs(e)}}function cs(e){for(;null!==Wu;){var t=Wu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:zu||$u(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!zu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Bi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&oa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}oa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}zu||512&t.flags&&Yu(t)}catch(d){dc(t,t.return,d)}}if(t===e){Wu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Wu=n;break}Wu=t.return}}function ls(e){for(;null!==Wu;){var t=Wu;if(t===e){Wu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Wu=n;break}Wu=t.return}}function fs(e){for(;null!==Wu;){var t=Wu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$u(4,t)}catch(s){dc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){dc(t,i,s)}}var a=t.return;try{Yu(t)}catch(s){dc(t,a,s)}break;case 5:var o=t.return;try{Yu(t)}catch(s){dc(t,o,s)}}}catch(s){dc(t,t.return,s)}if(t===e){Wu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Wu=u;break}Wu=t.return}}var hs,ds=Math.ceil,ps=b.ReactCurrentDispatcher,vs=b.ReactCurrentOwner,ms=b.ReactCurrentBatchConfig,gs=0,ys=null,ks=null,bs=0,ws=0,xs=wi(0),_s=0,Ss=null,Is=0,Es=0,Ts=0,Cs=null,As=null,Ns=0,Rs=1/0,Ps=!1,Os=null,Ds=null,Ls=!1,Ms=null,Fs=0,Us=0,js=null,Vs=-1,Bs=0;function zs(){return 0!==(6&gs)?Xe():-1!==Vs?Vs:Vs=Xe()}function qs(e){return 0===(1&e.mode)?1:0!==(2&gs)&&0!==bs?bs&-bs:null!==Vi.transition?(0===Bs&&(e=ct,0===(4194240&(ct<<=1))&&(ct=64),Bs=e),Bs):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function Ws(e,t,n){if(50<Us)throw Us=0,js=null,Error(a(185));var r=Ks(e,t);return null===r?null:(mt(r,t,n),0!==(2&gs)&&r===ys||(r===ys&&(0===(2&gs)&&(Es|=t),4===_s&&Ys(r,bs)),Hs(r,n),1===t&&0===gs&&0===(1&e.mode)&&(Rs=Xe()+500,Mi&&ji())),r)}function Ks(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Hs(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===ys?bs:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Mi=!0,Ui(e)}(Xs.bind(null,e)):Ui(Xs.bind(null,e)),ri((function(){0===gs&&ji()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=yc(n,Gs.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Gs(e,t){if(Vs=-1,Bs=0,0!==(6&gs))throw Error(a(327));var n=e.callbackNode;if(fc()&&e.callbackNode!==n)return null;var r=ht(e,e===ys?bs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ac(e,r);else{t=r;var i=gs;gs|=2;var o=rc();for(ys===e&&bs===t||(Rs=Xe()+500,tc(e,t));;)try{uc();break}catch(s){nc(e,s)}Hi(),ps.current=o,gs=i,null!==ks?t=0:(ys=null,bs=0,t=_s)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=Qs(e,i))),1===t)throw n=Ss,tc(e,0),Ys(e,r),Hs(e,Xe()),n;if(6===t)Ys(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ar(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ac(e,r))&&(0!==(o=pt(e))&&(r=o,t=Qs(e,o))),1===t))throw n=Ss,tc(e,0),Ys(e,r),Hs(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:lc(e,As);break;case 3:if(Ys(e,r),(130023424&r)===r&&10<(t=Ns+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){zs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ei(lc.bind(null,e,As),t);break}lc(e,As);break;case 4:if(Ys(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ds(r/1960))-r)){e.timeoutHandle=ei(lc.bind(null,e,As),r);break}lc(e,As);break;default:throw Error(a(329))}}}return Hs(e,Xe()),e.callbackNode===n?Gs.bind(null,e):null}function Qs(e,t){var n=Cs;return e.current.memoizedState.isDehydrated&&(tc(e,t).flags|=256),2!==(e=ac(e,t))&&(t=As,As=n,null!==t&&$s(t)),e}function $s(e){null===As?As=e:As.push.apply(As,e)}function Ys(e,t){for(t&=~Ts,t&=~Es,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function Xs(e){if(0!==(6&gs))throw Error(a(327));fc();var t=ht(e,0);if(0===(1&t))return Hs(e,Xe()),null;var n=ac(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=Qs(e,r))}if(1===n)throw n=Ss,tc(e,0),Ys(e,t),Hs(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lc(e,As),Hs(e,Xe()),null}function Js(e,t){var n=gs;gs|=1;try{return e(t)}finally{0===(gs=n)&&(Rs=Xe()+500,Mi&&ji())}}function Zs(e){null!==Ms&&0===Ms.tag&&0===(6&gs)&&fc();var t=gs;gs|=1;var n=ms.transition,r=yt;try{if(ms.transition=null,yt=1,e)return e()}finally{yt=r,ms.transition=n,0===(6&(gs=t))&&ji()}}function ec(){ws=xs.current,xi(xs)}function tc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ti(n)),null!==ks)for(n=ks.return;null!==n;){var r=n;switch(Ea(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:Xa(),xi(Ei),xi(Ii),ro();break;case 5:Za(r);break;case 4:Xa();break;case 13:case 19:xi(eo);break;case 10:Gi(r.type._context);break;case 22:case 23:ec()}n=n.return}if(ys=e,ks=e=xc(e.current,null),bs=ws=t,_s=0,Ss=null,Ts=Es=Is=0,As=Cs=null,null!==Xi){for(t=0;t<Xi.length;t++)if(null!==(r=(n=Xi[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Xi=null}return e}function nc(e,t){for(;;){var n=ks;try{if(Hi(),io.current=Jo,lo){for(var r=uo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}lo=!1}if(oo=0,co=so=uo=null,fo=!1,ho=0,vs.current=null,null===n||null===n.return){_s=1,Ss=t,ks=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=bs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=fu(u);if(null!==p){p.flags&=-257,hu(p,u,s,0,t),1&p.mode&&lu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){lu(o,l,t),ic();break e}c=Error(a(426))}else if(Aa&&1&s.mode){var g=fu(u);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),hu(g,u,s,0,t),Ua(c);break e}}o=c,4!==_s&&(_s=2),null===Cs?Cs=[o]:Cs.push(o),c=nu(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ia(s,su(0,c,t));break e;case 1:o=c;var y=s.type,k=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ds||!Ds.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t,ia(s,cu(s,o,t));break e}}s=s.return}while(null!==s)}cc(n)}catch(b){t=b,ks===n&&null!==n&&(ks=n=n.return);continue}break}}function rc(){var e=ps.current;return ps.current=Jo,null===e?Jo:e}function ic(){0!==_s&&3!==_s&&2!==_s||(_s=4),null===ys||0===(268435455&Is)&&0===(268435455&Es)||Ys(ys,bs)}function ac(e,t){var n=gs;gs|=2;var r=rc();for(ys===e&&bs===t||tc(e,t);;)try{oc();break}catch(i){nc(e,i)}if(Hi(),gs=n,ps.current=r,null!==ks)throw Error(a(261));return ys=null,bs=0,_s}function oc(){for(;null!==ks;)sc(ks)}function uc(){for(;null!==ks&&!$e();)sc(ks)}function sc(e){var t=hs(e.alternate,e,ws);e.memoizedProps=e.pendingProps,null===t?cc(e):ks=t,vs.current=null}function cc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=vu(n,t,ws)))return void(ks=n)}else{if(null!==(n=Vu(n,t)))return n.flags&=32767,void(ks=n);if(null===e)return _s=6,void(ks=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ks=t);ks=t=e}while(null!==t);0===_s&&(_s=5)}function lc(e,t){var n=yt,r=ms.transition;try{ms.transition=null,yt=1,function(e,t,n){do{fc()}while(null!==Ms);if(0!==(6&gs))throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===ys&&(ks=ys=null,bs=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Ls||(Ls=!0,yc(tt,(function(){return fc(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=ms.transition,ms.transition=null;var u=yt;yt=1;var s=gs;gs|=4,vs.current=null,function(e,t){if(fr(e=lr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jr={focusedElem:e,selectionRange:n},Wu=t;null!==Wu;)if(e=(t=Wu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Wu=e;else for(;null!==Wu;){t=Wu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,k=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Bi(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var w=b.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(x){dc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Wu=e;break}Wu=t.return}v=Gu,Gu=!1}(e,r),function(e,t){for(Wu=t;null!==Wu;){var n=(t=Wu).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{is(e,i,t);var a=i.alternate;null!==a&&(a.return=null),i.return=null}catch(S){dc(i,t,S)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,Wu=n;else for(;null!==Wu;){t=Wu;try{var o=t.flags;if(32&o&&he(t.stateNode,""),512&o){var u=t.alternate;if(null!==u){var s=u.ref;null!==s&&("function"===typeof s?s(null):s.current=null)}}if(8192&o)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(Ns=Xe())}break;case 22:var l=null!==t.memoizedState,f=t.alternate,h=null!==f&&null!==f.memoizedState;e:{i=l;for(var d=null,p=r=n=t;;){if(5===p.tag){if(null===d){d=p;var v=p.stateNode;if(i){var m=v.style;"function"===typeof m.setProperty?m.setProperty("display","none","important"):m.display="none"}else{var g=p.stateNode,y=p.memoizedProps.style,k=void 0!==y&&null!==y&&y.hasOwnProperty("display")?y.display:null;g.style.display=ve("display",k)}}}else if(6===p.tag)null===d&&(p.stateNode.nodeValue=i?"":p.memoizedProps);else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}if(l&&!h&&0!==(1&n.mode)){Wu=n;for(var b=n.child;null!==b;){for(n=Wu=b;null!==Wu;){var w=(r=Wu).child;switch(r.tag){case 0:case 11:case 14:case 15:Qu(4,r,r.return);break;case 1:Ku(r,r.return);var x=r.stateNode;if("function"===typeof x.componentWillUnmount){var _=r.return;try{x.props=r.memoizedProps,x.state=r.memoizedState,x.componentWillUnmount()}catch(S){dc(r,_,S)}}break;case 5:Ku(r,r.return);break;case 22:if(null!==r.memoizedState){ls(n);continue}}null!==w?(w.return=r,Wu=w):ls(n)}b=b.sibling}}}switch(4102&o){case 2:ts(t),t.flags&=-3;break;case 6:ts(t),t.flags&=-3,as(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,as(t.alternate,t);break;case 4:as(t.alternate,t)}}catch(S){dc(t,t.return,S)}if(null!==(n=t.sibling)){n.return=t.return,Wu=n;break}Wu=t.return}}}(e,r),hr(Jr),Jr=null,e.current=r,us(r,e,i),Ye(),gs=s,yt=u,ms.transition=o}else e.current=r;if(Ls&&(Ls=!1,Ms=e,Fs=i),0===(o=e.pendingLanes)&&(Ds=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Hs(e,Xe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(Ps)throw Ps=!1,e=Os,Os=null,e;0!==(1&Fs)&&0!==e.tag&&fc(),0!==(1&(o=e.pendingLanes))?e===js?Us++:(Us=0,js=e):Us=0,ji()}(e,t,n)}finally{ms.transition=r,yt=n}return null}function fc(){if(null!==Ms){var e=kt(Fs),t=ms.transition,n=yt;try{if(ms.transition=null,yt=16>e?16:e,null===Ms)var r=!1;else{if(e=Ms,Ms=null,Fs=0,0!==(6&gs))throw Error(a(331));var i=gs;for(gs|=4,Wu=e.current;null!==Wu;){var o=Wu,u=o.child;if(0!==(16&Wu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Wu=l;null!==Wu;){var f=Wu;switch(f.tag){case 0:case 11:case 15:Qu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Wu=h;else for(;null!==Wu;){var d=(f=Wu).sibling,p=f.return;if(Ju(f),f===l){Wu=null;break}if(null!==d){d.return=p,Wu=d;break}Wu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Wu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Wu=u;else e:for(;null!==Wu;){if(0!==(2048&(o=Wu).flags))switch(o.tag){case 0:case 11:case 15:Qu(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Wu=y;break e}Wu=o.return}}var k=e.current;for(Wu=k;null!==Wu;){var b=(u=Wu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Wu=b;else e:for(u=k;null!==Wu;){if(0!==(2048&(s=Wu).flags))try{switch(s.tag){case 0:case 11:case 15:$u(9,s)}}catch(x){dc(s,s.return,x)}if(s===u){Wu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Wu=w;break e}Wu=s.return}}if(gs=i,ji(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{yt=n,ms.transition=t}}return!1}function hc(e,t,n){na(e,t=su(0,t=nu(n,t),1)),t=zs(),null!==(e=Ks(e,1))&&(mt(e,1,t),Hs(e,t))}function dc(e,t,n){if(3===e.tag)hc(e,e,n);else for(;null!==t;){if(3===t.tag){hc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ds||!Ds.has(r))){na(t,e=cu(t,e=nu(n,e),1)),e=zs(),null!==(t=Ks(t,1))&&(mt(t,1,e),Hs(t,e));break}}t=t.return}}function pc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=zs(),e.pingedLanes|=e.suspendedLanes&n,ys===e&&(bs&n)===n&&(4===_s||3===_s&&(130023424&bs)===bs&&500>Xe()-Ns?tc(e,0):Ts|=n),Hs(e,t)}function vc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=zs();null!==(e=Ks(e,t))&&(mt(e,t,n),Hs(e,n))}function mc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),vc(e,n)}function gc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),vc(e,n)}function yc(e,t){return Ge(e,t)}function kc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bc(e,t,n,r){return new kc(e,t,n,r)}function wc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function xc(e,t){var n=e.alternate;return null===n?((n=bc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _c(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)wc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Sc(n.children,i,o,t);case S:u=8,i|=8;break;case I:return(e=bc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case A:return(e=bc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=bc(19,n,t,i)).elementType=N,e.lanes=o,e;case O:return Ic(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case R:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=bc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Sc(e,t,n,r){return(e=bc(7,e,r,t)).lanes=n,e}function Ic(e,t,n,r){return(e=bc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={},e}function Ec(e,t,n){return(e=bc(6,e,null,t)).lanes=n,e}function Tc(e,t,n){return(t=bc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ac(e,t,n,r,i,a,o,u,s){return e=new Cc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=bc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},Zi(a),e}function Nc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Rc(e){if(!e)return Si;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Pi(e,n,t)}return t}function Pc(e,t,n,r,i,a,o,u,s){return(e=Ac(n,r,!0,e,0,a,0,u,s)).context=Rc(null),n=e.current,(a=ta(r=zs(),i=qs(n))).callback=void 0!==t&&null!==t?t:null,na(n,a),e.current.lanes=i,mt(e,i,r),Hs(e,r),e}function Oc(e,t,n,r){var i=t.current,a=zs(),o=qs(i);return n=Rc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ta(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),na(i,t),null!==(e=Ws(i,o,a))&&ra(e,i,o),o}function Dc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Lc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Mc(e,t){Lc(e,t),(e=e.alternate)&&Lc(e,t)}hs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ei.current)gu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return gu=!1,function(e,t,n){switch(t.tag){case 3:Tu(t),Fa();break;case 5:Ja(t);break;case 1:Ai(t.type)&&Oi(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(zi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(eo,1&eo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ru(e,t,n):(_i(eo,1&eo.current),null!==(e=ju(e,t,n))?e.sibling:null);_i(eo,1&eo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Uu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(eo,eo.current),r)break;return null;case 22:case 23:return t.lanes=0,xu(e,t,n)}return ju(e,t,n)}(e,t,n);gu=0!==(131072&e.flags)}else gu=!1,Aa&&0!==(1048576&t.flags)&&Sa(t,ga,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ci(t,Ii.current);$i(t,n),i=go(null,t,r,e,i,n);var o=yo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(o=!0,Oi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Zi(t),i.updater=ca,t.stateNode=i,i._reactInternals=t,da(t,r,e,n),t=Eu(null,t,r,!0,o,n)):(t.tag=0,Aa&&o&&Ia(t),yu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return wc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=Bi(r,e),i){case 0:t=Su(null,t,r,e,n);break e;case 1:t=Iu(null,t,r,e,n);break e;case 11:t=ku(null,t,r,e,n);break e;case 14:t=bu(null,t,r,Bi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Su(e,t,r,i=t.elementType===r?i:Bi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Iu(e,t,r,i=t.elementType===r?i:Bi(r,i),n);case 3:e:{if(Tu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ea(e,t),aa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Cu(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Cu(e,t,r,n,i=Error(a(424)));break e}for(Ca=oi(t.stateNode.containerInfo.firstChild),Ta=t,Aa=!0,Na=null,n=Wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Fa(),r===i){t=ju(e,t,n);break e}yu(e,t,r,n)}t=t.child}return t;case 5:return Ja(t),null===e&&Da(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,Zr(r,i)?u=null:null!==o&&Zr(r,o)&&(t.flags|=32),_u(e,t),yu(e,t,u,n),t.child;case 6:return null===e&&Da(t),null;case 13:return Ru(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=qa(t,null,r,n):yu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ku(e,t,r,i=t.elementType===r?i:Bi(r,i),n);case 7:return yu(e,t,t.pendingProps,n),t.child;case 8:case 12:return yu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,_i(zi,r._currentValue),r._currentValue=u,null!==o)if(ar(o.value,u)){if(o.children===i.children&&!Ei.current){t=ju(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ta(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Qi(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Qi(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}yu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,$i(t,n),r=r(i=Yi(i)),t.flags|=1,yu(e,t,r,n),t.child;case 14:return i=Bi(r=t.type,t.pendingProps),bu(e,t,r,i=Bi(r.type,i),n);case 15:return wu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Bi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ai(r)?(e=!0,Oi(t)):e=!1,$i(t,n),fa(t,r,i),da(t,r,i,n),Eu(null,t,r,!0,e,n);case 19:return Uu(e,t,n);case 22:return xu(e,t,n)}throw Error(a(156,t.tag))};var Fc="function"===typeof reportError?reportError:function(e){console.error(e)};function Uc(e){this._internalRoot=e}function jc(e){this._internalRoot=e}function Vc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Bc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function zc(){}function qc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Dc(o);u.call(e)}}Oc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Dc(o);a.call(e)}}var o=Pc(t,r,e,0,null,!1,0,"",zc);return e._reactRootContainer=o,e[fi]=o.current,Vr(8===e.nodeType?e.parentNode:e),Zs(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Dc(s);u.call(e)}}var s=Ac(e,0,!1,null,0,!1,0,"",zc);return e._reactRootContainer=s,e[fi]=s.current,Vr(8===e.nodeType?e.parentNode:e),Zs((function(){Oc(t,s,n,r)})),s}(n,t,e,i,r);return Dc(o)}jc.prototype.render=Uc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Oc(e,t,null,null)},jc.prototype.unmount=Uc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zs((function(){Oc(null,e,null,null)})),t[fi]=null}},jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),Hs(t,Xe()),0===(6&gs)&&(Rs=Xe()+500,ji()))}break;case 13:var r=zs();Zs((function(){return Ws(e,1,r)})),Mc(e,1)}},wt=function(e){13===e.tag&&(Ws(e,134217728,zs()),Mc(e,134217728))},xt=function(e){if(13===e.tag){var t=zs(),n=qs(e);Ws(e,n,t),Mc(e,n)}},_t=function(){return yt},St=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=yi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=Js,Ae=Zs;var Wc={usingClientEntryPoint:!1,Events:[mi,gi,yi,Ee,Te,Js]},Kc={findFiberByHostInstance:vi,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Hc={bundleType:Kc.bundleType,version:Kc.version,rendererPackageName:Kc.rendererPackageName,rendererConfig:Kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:Kc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{it=Gc.inject(Hc),at=Gc}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Vc(t))throw Error(a(200));return Nc(e,t,null,n)},t.createRoot=function(e,t){if(!Vc(e))throw Error(a(299));var n=!1,r="",i=Fc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Ac(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Uc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return Zs(e)},t.hydrate=function(e,t,n){if(!Bc(t))throw Error(a(200));return qc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Vc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Fc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Pc(t,null,e,1,null!=n?n:null,i,0,o,u),e[fi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new jc(t)},t.render=function(e,t,n){if(!Bc(t))throw Error(a(200));return qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Bc(e))throw Error(a(40));return!!e._reactRootContainer&&(Zs((function(){qc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=Js,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return qc(e,t,n,!1,r)},t.version="18.0.0-fc46dba67-20220329"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===k||e.$$typeof===b||e.$$typeof===g)},t.typeOf=w},441:function(e,t,n){"use strict";e.exports=n(372)},459:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),m=Symbol.for("react.module.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case f:case h:return e;default:switch(e=e&&e.$$typeof){case c:case s:case l:case p:case d:case u:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return g(e)===s}},900:function(e,t,n){"use strict";e.exports=n(459)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=k.prototype=new y;b.constructor=k,v(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(R){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=I(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function g(){}function y(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=y.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return g.prototype=y,s(x,"constructor",y),s(y,"constructor",g),g.displayName=s(y,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(S.prototype),s(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,O(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,y(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,I=null,E=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?_():(S=!1,I=null)}}else S=!1}if("function"===typeof k)_=function(){k(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=N,_=function(){P.postMessage(null)}}else _=function(){g(N,0)};function O(e){I=e,S||(S=!0,_())}function D(e,n){E=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(y(E),E=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,O(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Vn},SDK_VERSION:function(){return Mr},_DEFAULT_ENTRY_NAME:function(){return _r},_addComponent:function(){return Tr},_addOrOverwriteComponent:function(){return Cr},_apps:function(){return Ir},_clearComponents:function(){return Pr},_components:function(){return Er},_getProvider:function(){return Nr},_registerComponent:function(){return Ar},_removeServiceInstance:function(){return Rr},deleteApp:function(){return Vr},getApp:function(){return Ur},getApps:function(){return jr},initializeApp:function(){return Fr},onLog:function(){return qr},registerVersion:function(){return zr},setLogLevel:function(){return Wr}});var t,r=n(791),i=n(250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||s()}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var f=function(e){return e};var h="beforeunload",d="popstate";function p(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=k(r.location.hash.substr(1)),t=e.pathname,n=void 0===t?"/":t,a=e.search,o=void 0===a?"":a,u=e.hash,s=void 0===u?"":u,c=i.state||{};return[c.idx,f({pathname:n,search:o,hash:s,state:c.usr||null,key:c.key||"default"})]}var o=null;function u(){if(o)x.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(x.length){if(null!=r){var u=p-r;u&&(o={action:e,location:i,retry:function(){C(-1*u)}},C(u))}}else T(e)}}r.addEventListener(d,u),r.addEventListener("hashchange",(function(){y(a()[1])!==y(b)&&u()}));var s=t.Pop,c=a(),p=c[0],b=c[1],w=m(),x=m();function _(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var n=r.location.href,i=n.indexOf("#");t=-1===i?n:n.slice(0,i)}return t}()+"#"+("string"===typeof e?e:y(e))}function S(e,t){return void 0===t&&(t=null),f(l({pathname:b.pathname,hash:"",search:""},"string"===typeof e?k(e):e,{state:t,key:g()}))}function I(e,t){return[{usr:e.state,key:e.key,idx:t},_(e)]}function E(e,t,n){return!x.length||(x.call({action:e,location:t,retry:n}),!1)}function T(e){s=e;var t=a();p=t[0],b=t[1],w.call({action:s,location:b})}function C(e){i.go(e)}null==p&&(p=0,i.replaceState(l({},i.state,{idx:p}),""));var A={get action(){return s},get location(){return b},createHref:_,push:function e(n,a){var o=t.Push,u=S(n,a);if(E(o,u,(function(){e(n,a)}))){var s=I(u,p+1),c=s[0],l=s[1];try{i.pushState(c,"",l)}catch(f){r.location.assign(l)}T(o)}},replace:function e(n,r){var a=t.Replace,o=S(n,r);if(E(a,o,(function(){e(n,r)}))){var u=I(o,p),s=u[0],c=u[1];i.replaceState(s,"",c),T(a)}},go:C,back:function(){C(-1)},forward:function(){C(1)},listen:function(e){return w.push(e)},block:function(e){var t=x.push(e);return 1===x.length&&r.addEventListener(h,v),function(){t(),x.length||r.removeEventListener(h,v)}}};return A}function v(e){e.preventDefault(),e.returnValue=""}function m(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function g(){return Math.random().toString(36).substr(2,8)}function y(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function k(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var b=(0,r.createContext)(null);var w=(0,r.createContext)(null);var x=(0,r.createContext)({outlet:null,matches:[]});function _(e,t){if(!e)throw new Error(t)}function S(e,t,n){void 0===n&&(n="/");var r=P(("string"===typeof t?k(t):t).pathname||"/",n);if(null==r)return null;var i=I(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=A(i[o],r);return a}function I(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||_(!1),a.relativePath=a.relativePath.slice(r.length));var o=O([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&_(!1),I(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:C(o,e.index),routesMeta:u})})),t}var E=/^:\w+$/,T=function(e){return"*"===e};function C(e,t){var n=e.split("/"),r=n.length;return n.some(T)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!T(e)})).reduce((function(e,t){return e+(E.test(t)?3:""===t?1:10)}),r)}function A(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=N({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:O([i,l.pathname]),pathnameBase:D(O([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=O([i,l.pathnameBase]))}return a}function N(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function R(e,t,n){var r,i="string"===typeof e?k(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?k(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:L(a),hash:M(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var O=function(e){return e.join("/").replace(/\/\/+/g,"/")},D=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},L=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},M=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function F(){return null!=(0,r.useContext)(w)}function U(){return F()||_(!1),(0,r.useContext)(w).location}function j(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(x.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function V(e){var t=e.to,n=e.replace,i=e.state;F()||_(!1);var a=function(){F()||_(!1);var e=(0,r.useContext)(b),t=e.basename,n=e.navigator,i=(0,r.useContext)(x).matches,a=U().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,r.useRef)(!1);(0,r.useEffect)((function(){u.current=!0}));var s=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=R(e,JSON.parse(o),a);"/"!==t&&(i.pathname=O([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return s}();return(0,r.useEffect)((function(){a(t,{replace:n,state:i})})),null}function B(e){_(!1)}function z(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;F()&&_(!1);var d=D(i),p=(0,r.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=k(u));var v=u,m=v.pathname,g=void 0===m?"/":m,y=v.search,x=void 0===y?"":y,S=v.hash,I=void 0===S?"":S,E=v.state,T=void 0===E?null:E,C=v.key,A=void 0===C?"default":C,N=(0,r.useMemo)((function(){var e=P(g,d);return null==e?null:{pathname:e,search:x,hash:I,state:T,key:A}}),[d,g,x,I,T,A]);return null==N?null:(0,r.createElement)(b.Provider,{value:p},(0,r.createElement)(w.Provider,{children:o,value:{location:N,navigationType:c}}))}function q(e){var t=e.children,n=e.location;return function(e,t){F()||_(!1);var n,i=(0,r.useContext)(x).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,U());if(t){var c,l="string"===typeof t?k(t):t;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||_(!1),n=l}else n=s;var f=n.pathname||"/",h=S(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return j(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:O([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:O([u,e.pathnameBase])})})),i)}(W(t),n)}function W(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==B&&_(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=W(e.props.children)),t.push(n)}else t.push.apply(t,W(e.props.children))})),t}function K(e){var t=e.basename,n=e.children,i=e.window,a=(0,r.useRef)();null==a.current&&(a.current=p({window:i}));var o=a.current,u=c((0,r.useState)({action:o.action,location:o.location}),2),s=u[0],l=u[1];return(0,r.useLayoutEffect)((function(){return o.listen(l)}),[o]),(0,r.createElement)(z,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o})}function H(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var G=n(248),Q=n(327),$=n(164);var Y=function(e){e()},X=function(){return Y},J=r.createContext(null);var Z=function(){throw new Error("uSES not initialized!")};function ee(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function te(e){return function(e){if(Array.isArray(e))return o(e)}(e)||ee(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var re=n(110),ie=n.n(re),ae=n(900),oe=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function ue(e,t,n,r,i){var a,o,u,s,c,l=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,d=!1;function p(i,d){var p=!f(d,o),v=!l(i,a);return a=i,o=d,p&&v?(u=e(a,o),t.dependsOnOwnProps&&(s=t(r,o)),c=n(u,s,o)):p?(e.dependsOnOwnProps&&(u=e(a,o)),t.dependsOnOwnProps&&(s=t(r,o)),c=n(u,s,o)):v?function(){var t=e(a,o),r=!h(t,u);return u=t,r&&(c=n(u,s,o)),c}():c}return function(i,l){return d?p(i,l):(u=e(a=i,o=l),s=t(r,o),c=n(u,s,o),d=!0,c)}}function se(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=ne(t,oe);return ue(n(e,a),r(e,a),i(e,a),e,a)}function ce(e){return function(t){var n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function le(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function fe(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=le(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=le(i),i=r(t,n)),i},r}}function he(e,t){return function(n,r){throw new Error("Invalid value of type ".concat(typeof e," for ").concat(t," argument when connecting component ").concat(r.wrappedComponentName,"."))}}function de(e){return e&&"object"===typeof e?ce((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):e?"function"===typeof e?fe(e):he(e,"mapDispatchToProps"):ce((function(e){return{dispatch:e}}))}function pe(e){return e?"function"===typeof e?fe(e):he(e,"mapStateToProps"):ce((function(){return{}}))}function ve(e,t,n){return l({},n,e,t)}function me(e){return e?"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.areMergedPropsEqual,a=!1;return function(t,n,o){var u=e(t,n,o);return a?i(u,r)||(r=u):(a=!0,r=u),r}}}(e):he(e,"mergeProps"):function(){return ve}}var ge={notify:function(){},get:function(){return[]}};function ye(e,t){var n,r=ge;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=X(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=ge)},getListeners:function(){return r}};return o}var ke=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?r.useLayoutEffect:r.useEffect;function be(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function we(e,t){if(be(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!be(e[n[i]],t[n[i]]))return!1;return!0}var xe=["reactReduxForwardedRef"],_e=Z,Se=[null,null];function Ie(e,t,n){ke((function(){return e.apply(void 0,te(t))}),n)}function Ee(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function Te(e,t,n,r,i,a,o,u,s,c,l){if(!e)return function(){};var f=!1,h=null,d=function(){if(!f&&u.current){var e,n,d=t.getState();try{e=r(d,i.current)}catch(p){n=p,h=p}n||(h=null),e===a.current?o.current||c():(a.current=e,s.current=e,o.current=!0,l())}};n.onStateChange=d,n.trySubscribe(),d();return function(){if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}function Ce(e,t){return e===t}var Ae=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(i.pure,i.areStatesEqual),o=void 0===a?Ce:a,u=i.areOwnPropsEqual,s=void 0===u?we:u,f=i.areStatePropsEqual,h=void 0===f?we:f,d=i.areMergedPropsEqual,p=void 0===d?we:d,v=i.forwardRef,m=void 0!==v&&v,g=i.context,y=void 0===g?J:g,k=y,b=pe(e),w=de(t),x=me(n),_=Boolean(e),S=function(e){var t=e.displayName||e.name||"Component",n="Connect(".concat(t,")"),i={shouldHandleStateChanges:_,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:b,initMapDispatchToProps:w,initMergeProps:x,areStatesEqual:o,areStatePropsEqual:h,areOwnPropsEqual:s,areMergedPropsEqual:p};function a(t){var n=(0,r.useMemo)((function(){var e=t.reactReduxForwardedRef,n=ne(t,xe);return[t.context,e,n]}),[t]),a=c(n,3),o=a[0],u=a[1],s=a[2],f=(0,r.useMemo)((function(){return o&&o.Consumer&&(0,ae.isContextConsumer)(r.createElement(o.Consumer,null))?o:k}),[o,k]),h=(0,r.useContext)(f),d=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),p=Boolean(h)&&Boolean(h.store);var v=d?t.store:h.store,m=p?h.getServerState:v.getState,g=(0,r.useMemo)((function(){return se(v.dispatch,i)}),[v]),y=(0,r.useMemo)((function(){if(!_)return Se;var e=ye(v,d?void 0:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[v,d,h]),b=c(y,2),w=b[0],x=b[1],S=(0,r.useMemo)((function(){return d?h:l({},h,{subscription:w})}),[d,h,w]),I=(0,r.useRef)(),E=(0,r.useRef)(s),T=(0,r.useRef)(),C=(0,r.useRef)(!1),A=((0,r.useRef)(!1),(0,r.useRef)(!1)),N=(0,r.useRef)();ke((function(){return A.current=!0,function(){A.current=!1}}),[]);var R,P=(0,r.useMemo)((function(){return function(){return T.current&&s===E.current?T.current:g(v.getState(),s)}}),[v,s]),O=(0,r.useMemo)((function(){return function(e){return w?Te(_,v,w,g,E,I,C,A,T,x,e):function(){}}}),[w]);Ie(Ee,[E,I,C,s,T,x]);try{R=_e(O,P,m?function(){return g(m(),s)}:P)}catch(L){throw N.current&&(L.message+="\nThe error may be correlated with this previous error:\n".concat(N.current.stack,"\n\n")),L}ke((function(){N.current=void 0,T.current=void 0,I.current=R}));var D=(0,r.useMemo)((function(){return r.createElement(e,l({},R,{ref:u}))}),[u,e,R]);return(0,r.useMemo)((function(){return _?r.createElement(f.Provider,{value:S},D):D}),[f,D,S])}var u=r.memo(a);if(u.WrappedComponent=e,u.displayName=a.displayName=n,m){var f=r.forwardRef((function(e,t){return r.createElement(u,l({},e,{reactReduxForwardedRef:t}))}));return f.displayName=n,f.WrappedComponent=e,ie()(f,e)}return ie()(u,e)};return S};var Ne=function(e){var t=e.store,n=e.context,i=e.children,a=e.serverState,o=(0,r.useMemo)((function(){var e=ye(t);return{store:t,subscription:e,getServerState:a?function(){return a}:void 0}}),[t,a]),u=(0,r.useMemo)((function(){return t.getState()}),[t]);ke((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,u]);var s=n||J;return r.createElement(s.Provider,{value:o},i)};var Re;!function(e){e}(Q.useSyncExternalStoreWithSelector),function(e){_e=e}(G.useSyncExternalStore),Re=$.unstable_batchedUpdates,Y=Re;var Pe=n(441),Oe=n(613),De=n.n(Oe);var Le=function(e){function t(e,r,s,c,h){for(var d,p,v,m,b,x=0,_=0,S=0,I=0,E=0,P=0,D=v=d=0,M=0,F=0,U=0,j=0,V=s.length,B=V-1,z="",q="",W="",K="";M<V;){if(p=s.charCodeAt(M),M===B&&0!==_+I+S+x&&(0!==_&&(p=47===_?10:47),I=S=x=0,V++,B++),0===_+I+S+x){if(M===B&&(0<F&&(z=z.replace(f,"")),0<z.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:z+=s.charAt(M)}p=59}switch(p){case 123:for(d=(z=z.trim()).charCodeAt(0),v=1,j=++M;M<V;){switch(p=s.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(M+1)){case 42:case 47:e:{for(D=M+1;D<B;++D)switch(s.charCodeAt(D)){case 47:if(42===p&&42===s.charCodeAt(D-1)&&M+2!==D){M=D+1;break e}break;case 10:if(47===p){M=D+1;break e}}M=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<B&&s.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=s.substring(j,M),0===d&&(d=(z=z.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<F&&(z=z.replace(f,"")),p=z.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=R}if(j=(v=t(r,F,v,p,h+1)).length,0<O&&(b=u(3,v,F=n(R,z,U),r,C,T,j,p,h,c),z=F.join(""),void 0!==b&&0===(j=(v=b.trim()).length)&&(p=0,v="")),0<j)switch(p){case 115:z=z.replace(w,o);case 100:case 109:case 45:v=z+"{"+v+"}";break;case 107:v=(z=z.replace(g,"$1 $2"))+"{"+v+"}",v=1===N||2===N&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=z+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,z,U),v,c,h+1);W+=v,v=U=F=D=d=0,z="",p=s.charCodeAt(++M);break;case 125:case 59:if(1<(j=(z=(0<F?z.replace(f,""):z).trim()).length))switch(0===D&&(d=z.charCodeAt(0),45===d||96<d&&123>d)&&(j=(z=z.replace(" ",":")).length),0<O&&void 0!==(b=u(1,z,r,e,C,T,q.length,c,h,c))&&0===(j=(z=b.trim()).length)&&(z="\0\0"),d=z.charCodeAt(0),p=z.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){K+=z+s.charAt(M);break}default:58!==z.charCodeAt(j-1)&&(q+=i(z,d,p,z.charCodeAt(2)))}U=F=D=d=0,z="",p=s.charCodeAt(++M)}}switch(p){case 13:case 10:47===_?_=0:0===1+d&&107!==c&&0<z.length&&(F=1,z+="\0"),0<O*L&&u(0,z,r,e,C,T,q.length,c,h,c),T=1,C++;break;case 59:case 125:if(0===_+I+S+x){T++;break}default:switch(T++,m=s.charAt(M),p){case 9:case 32:if(0===I+x+_)switch(E){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===I+_+x&&(F=U=1,m="\f"+m);break;case 108:if(0===I+_+x+A&&0<D)switch(M-D){case 2:112===E&&58===s.charCodeAt(M-3)&&(A=E);case 8:111===P&&(A=P)}break;case 58:0===I+_+x&&(D=M);break;case 44:0===_+S+I+x&&(F=1,m+="\r");break;case 34:case 39:0===_&&(I=I===p?0:0===I?p:I);break;case 91:0===I+_+S&&x++;break;case 93:0===I+_+S&&x--;break;case 41:0===I+_+x&&S--;break;case 40:if(0===I+_+x){if(0===d)if(2*E+3*P===533);else d=1;S++}break;case 64:0===_+S+I+x+D+v&&(v=1);break;case 42:case 47:if(!(0<I+x+S))switch(_){case 0:switch(2*p+3*s.charCodeAt(M+1)){case 235:_=47;break;case 220:j=M,_=42}break;case 42:47===p&&42===E&&j+2!==M&&(33===s.charCodeAt(j+2)&&(q+=s.substring(j,M+1)),m="",_=0)}}0===_&&(z+=m)}P=E,E=p,M++}if(0<(j=q.length)){if(F=r,0<O&&(void 0!==(b=u(2,q,F,e,C,T,j,c,h,c))&&0===(q=b).length))return K+q+W;if(q=F.join(",")+"{"+q+"}",0!==N*A){switch(2!==N||a(q,2)||(A=0),A){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(y,"::-webkit-input-$1")+q.replace(y,"::-moz-$1")+q.replace(y,":-ms-input-$1")+q}A=0}}return K+q+W}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var c=0;c<o;++c)t[s++]=r(e[c]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===N||2===N&&a(s,1)?"-webkit-"+s+s:s}if(0===N||2===N&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(E,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(b,"tb");break;case 232:s=o.replace(b,"tb-rl");break;case 220:s=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===I.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(S,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,l){for(var f,h=0,d=t;h<O;++h)switch(f=P[h].call(c,e,d,n,r,i,a,o,u,s,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?N=1:(N=2,D=e):N=0),s}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<O){var i=u(-1,n,r,r,C,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(R,r,n,0,0);return 0<O&&(void 0!==(i=u(-2,a,r,r,C,T,a.length,0,0,0))&&(a=i)),"",A=0,T=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,k=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,_=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,I=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,T=1,C=1,A=0,N=1,R=[],P=[],O=0,D=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:O=P.length=0;break;default:if("function"===typeof t)P[O++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=s,void 0!==e&&s(e),c},Me={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Fe=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},Ue=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,je=Fe((function(e){return Ue.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Be=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},ze=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,Pe.typeOf)(e)},qe=Object.freeze([]),We=Object.freeze({});function Ke(e){return"function"==typeof e}function He(e){return e.displayName||e.name||"Component"}function Ge(e){return e&&"string"==typeof e.styledComponentId}var Qe="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/linkedin-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/linkedin-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",$e="undefined"!=typeof window&&"HTMLElement"in window,Ye=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/linkedin-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/linkedin-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/linkedin-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/linkedin-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/linkedin-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/linkedin-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/linkedin-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/linkedin-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY));function Xe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var Je=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&Xe(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=0,s=t.length;u<s;u++)this.tag.insertRule(o,t[u])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),Ze=new Map,et=new Map,tt=1,nt=function(e){if(Ze.has(e))return Ze.get(e);for(;et.has(tt);)tt++;var t=tt++;return Ze.set(e,t),et.set(t,e),t},rt=function(e){return et.get(e)},it=function(e,t){t>=tt&&(tt=t+1),Ze.set(e,t),et.set(t,e)},at="style["+Qe+'][data-styled-version="5.3.5"]',ot=new RegExp("^"+Qe+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),ut=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},st=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var u=o.match(ot);if(u){var s=0|parseInt(u[1],10),c=u[2];0!==s&&(it(c,s),ut(e,c,u[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(o)}}},ct=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},lt=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(Qe))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(Qe,"active"),r.setAttribute("data-styled-version","5.3.5");var o=ct();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},ft=function(){function e(e){var t=this.element=lt(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}Xe(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),ht=function(){function e(e){var t=this.element=lt(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),dt=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),pt=$e,vt={isServer:!$e,useCSSOMInjection:!Ye},mt=function(){function e(e,t,n){void 0===e&&(e=We),void 0===t&&(t={}),this.options=Ve({},vt,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&$e&&pt&&(pt=!1,function(e){for(var t=document.querySelectorAll(at),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(Qe)&&(st(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return nt(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(Ve({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new dt(i):r?new ft(i):new ht(i),new Je(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(nt(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(nt(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(nt(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=rt(i);if(void 0!==a){var o=e.names.get(a),u=t.getGroup(i);if(o&&u&&o.size){var s=Qe+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+u+s+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),gt=/(a)(d)/gi,yt=function(e){return String.fromCharCode(e+(e>25?39:97))};function kt(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=yt(t%52)+n;return(yt(t%52)+n).replace(gt,"$1-$2")}var bt=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},wt=function(e){return bt(5381,e)};function xt(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Ke(n)&&!Ge(n))return!1}return!0}var _t=wt("5.3.5"),St=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&xt(e),this.componentId=t,this.baseHash=bt(_t,t),this.baseStyle=n,mt.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=zt(this.rules,e,t,n).join(""),o=kt(bt(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var u=n(a,"."+o,void 0,r);t.insertRules(r,o,u)}i.push(o),this.staticRulesId=o}else{for(var s=this.rules.length,c=bt(this.baseHash,n.hash),l="",f=0;f<s;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=zt(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=bt(c,p+f),l+=p}}if(l){var v=kt(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),It=/^\s*\/\/.*$/gm,Et=[":","[",".","#"];function Tt(e){var t,n,r,i,a=void 0===e?We:e,o=a.options,u=void 0===o?We:o,s=a.plugins,c=void 0===s?qe:s,l=new Le(u),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,u,s,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==Et.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,u){void 0===u&&(u="&");var s=e.replace(It,""),c=a&&o?o+" "+a+" { "+s+" }":s;return t=u,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||Xe(15),bt(e,t.name)}),5381).toString():"",p}var Ct=r.createContext(),At=(Ct.Consumer,r.createContext()),Nt=(At.Consumer,new mt),Rt=Tt();function Pt(){return(0,r.useContext)(Ct)||Nt}function Ot(){return(0,r.useContext)(At)||Rt}function Dt(e){var t=(0,r.useState)(e.stylisPlugins),n=t[0],i=t[1],a=Pt(),o=(0,r.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,r.useMemo)((function(){return Tt({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,r.useEffect)((function(){De()(n,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),r.createElement(Ct.Provider,{value:o},r.createElement(At.Provider,{value:u},e.children))}var Lt=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Rt);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return Xe(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=Rt),this.name+e.hash},e}(),Mt=/([A-Z])/,Ft=/([A-Z])/g,Ut=/^ms-/,jt=function(e){return"-"+e.toLowerCase()};function Vt(e){return Mt.test(e)?e.replace(Ft,jt).replace(Ut,"-ms-"):e}var Bt=function(e){return null==e||!1===e||""===e};function zt(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,u=e.length;o<u;o+=1)""!==(i=zt(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return Bt(e)?"":Ge(e)?"."+e.styledComponentId:Ke(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:zt(e(t),t,n,r):e instanceof Lt?n?(e.inject(n,r),e.getName(r)):e:ze(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!Bt(t[o])&&(Array.isArray(t[o])&&t[o].isCss||Ke(t[o])?a.push(Vt(o)+":",t[o],";"):ze(t[o])?a.push.apply(a,e(t[o],o)):a.push(Vt(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in Me?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var qt=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function Wt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ke(e)||ze(e)?qt(zt(Be(qe,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:qt(zt(Be(e,n)))}new Set;var Kt=function(e,t,n){return void 0===n&&(n=We),e.theme!==n.theme&&e.theme||t||n.theme},Ht=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Gt=/(^-|-$)/g;function Qt(e){return e.replace(Ht,"-").replace(Gt,"")}var $t=function(e){return kt(wt(e)>>>0)};function Yt(e){return"string"==typeof e&&!0}var Xt=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Jt=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Zt(e,t,n){var r=e[n];Xt(t)&&Xt(r)?en(r,t):e[n]=t}function en(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(Xt(o))for(var u in o)Jt(u)&&Zt(e,o[u],u)}return e}var tn=r.createContext();tn.Consumer;var nn={};function rn(e,t,n){var i=Ge(e),a=!Yt(e),o=t.attrs,u=void 0===o?qe:o,s=t.componentId,c=void 0===s?function(e,t){var n="string"!=typeof e?"sc":Qt(e);nn[n]=(nn[n]||0)+1;var r=n+"-"+$t("5.3.5"+n+nn[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):s,l=t.displayName,f=void 0===l?function(e){return Yt(e)?"styled."+e:"Styled("+He(e)+")"}(e):l,h=t.displayName&&t.componentId?Qt(t.displayName)+"-"+t.componentId:t.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,p=t.shouldForwardProp;i&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var v,m=new St(n,h,i?e.componentStyle:void 0),g=m.isStatic&&0===u.length,y=function(e,t){return function(e,t,n,i){var a=e.attrs,o=e.componentStyle,u=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=We);var r=Ve({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in Ke(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(Kt(t,(0,r.useContext)(tn),u)||We,t,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=Pt(),a=Ot();return t?e.generateAndInjectStyles(We,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),m=n,g=p.$as||t.$as||p.as||t.as||f,y=Yt(g),k=p!==t?Ve({},t,{},p):t,b={};for(var w in k)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=k[w]:(c?c(w,je,g):!y||je(w))&&(b[w]=k[w]));return t.style&&p.style!==t.style&&(b.style=Ve({},t.style,{},p.style)),b.className=Array.prototype.concat(s,l,v!==l?v:null,t.className,p.className).filter(Boolean).join(" "),b.ref=m,(0,r.createElement)(g,b)}(v,e,t,g)};return y.displayName=f,(v=r.forwardRef(y)).attrs=d,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):qe,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(Yt(e)?e:Qt(He(e)));return rn(e,Ve({},i,{attrs:d,componentId:a}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?en({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&ie()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var an=function(e){return function e(t,n,r){if(void 0===r&&(r=We),!(0,Pe.isValidElementType)(n))return Xe(1,String(n));var i=function(){return t(n,r,Wt.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,Ve({},r,{},i))},i.attrs=function(i){return e(t,n,Ve({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(rn,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){an[e]=an(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=xt(e),mt.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(zt(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&mt.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=ct();return"<style "+[n&&'nonce="'+n+'"',Qe+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?Xe(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return Xe(2);var n=((t={})[Qe]="",t["data-styled-version"]="5.3.5",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),i=ct();return i&&(n.nonce=i),[r.createElement("style",Ve({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new mt({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?Xe(2):r.createElement(Dt,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return Xe(3)}}();var on=an;function un(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function sn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){un(a,r,i,o,u,"next",e)}function u(e){un(a,r,i,o,u,"throw",e)}o(void 0)}))}}var cn=n(757),ln=n.n(cn);function fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pn(e,t,n){return t&&dn(e.prototype,t),n&&dn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gn(e,t){return gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gn(e,t)}function yn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gn(e,t)}function kn(e){return kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},kn(e)}function bn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function wn(e){return wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wn(e)}function xn(e,t){if(t&&("object"===wn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mn(e)}function _n(e){var t=bn();return function(){var n,r=kn(e);if(t){var i=kn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xn(this,n)}}function Sn(e,t,n){return Sn=bn()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&gn(i,n.prototype),i},Sn.apply(null,arguments)}function In(e){var t="function"===typeof Map?new Map:void 0;return In=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Sn(e,arguments,kn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),gn(n,e)},In(e)}var En=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Tn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(En(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Cn=function(e){return function(e){var t=En(e);return Tn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},An=function(e){try{return Tn.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Nn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Nn(e[n],t[n]));return e}var Rn=function(){function e(){var t=this;hn(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return pn(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Pn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Cn(JSON.stringify({alg:"none",type:"JWT"})),Cn(JSON.stringify(a)),""].join(".")}function On(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Dn(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}function Ln(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Mn(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Fn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Un(){var e=On();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function jn(){return"object"===typeof indexedDB}var Vn=function(e){yn(n,e);var t=_n(n);function n(e,r,i){var a;return hn(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(mn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(mn(a),Bn.prototype.create),a}return pn(n)}(In(Error)),Bn=function(){function e(t,n,r){hn(this,e),this.service=t,this.serviceName=n,this.errors=r}return pn(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?zn(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Vn(n,a,t);return o}}]),e}();function zn(e,t){return e.replace(qn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var qn=/\{\$([^}]+)}/g;function Wn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Kn(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Hn(u)&&Hn(s)){if(!Kn(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Hn(e){return null!==e&&"object"===typeof e}function Gn(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Qn(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function $n(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Yn(e,t){var n=new Xn(e,t);return n.subscribe.bind(n)}var Xn=function(){function e(t,n){var r=this;hn(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return pn(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=vn(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Jn),void 0===r.error&&(r.error=Jn),void 0===r.complete&&(r.complete=Jn);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Jn(){}function Zn(e){return e&&e._delegate?e._delegate:e}function er(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var tr=function(){function e(t){hn(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return pn(e,[{key:"transaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"readonly";return new nr(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new rr(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),nr=function(){function e(t){var n=this;hn(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return pn(e,[{key:"objectStore",value:function(e){return new rr(this._transaction.objectStore(e))}}]),e}(),rr=function(){function e(t){hn(this,e),this._store=t}return pn(e,[{key:"index",value:function(e){return new ir(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new ir(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return er(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return er(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return er(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return er(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),ir=function(){function e(t){hn(this,e),this._index=t}return pn(e,[{key:"get",value:function(e){return er(this._index.get(e),"Error reading from IndexedDB")}}]),e}();var ar=function(){function e(t,n,r){hn(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return pn(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),or="[DEFAULT]",ur=function(){function e(t,n){hn(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return pn(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Rn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:or})}catch(s){}var t,n=vn(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=sn(cn.mark((function e(){var t;return cn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(te(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),te(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=vn(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=vn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(qS){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===or?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(qS){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or;return this.component?this.component.multipleInstances?e:or:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var sr,cr,lr=function(){function e(t){hn(this,e),this.name=t,this.providers=new Map}return pn(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ur(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),fr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(cr||(cr={}));var hr,dr,pr={debug:cr.DEBUG,verbose:cr.VERBOSE,info:cr.INFO,warn:cr.WARN,error:cr.ERROR,silent:cr.SILENT},vr=cr.INFO,mr=(fn(sr={},cr.DEBUG,"log"),fn(sr,cr.VERBOSE,"log"),fn(sr,cr.INFO,"info"),fn(sr,cr.WARN,"warn"),fn(sr,cr.ERROR,"error"),sr),gr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=mr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},yr=function(){function e(t){hn(this,e),this.name=t,this._logLevel=vr,this._logHandler=gr,this._userLogHandler=null,fr.push(this)}return pn(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in cr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?pr[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,cr.DEBUG].concat(t)),this._logHandler.apply(this,[this,cr.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,cr.VERBOSE].concat(t)),this._logHandler.apply(this,[this,cr.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,cr.INFO].concat(t)),this._logHandler.apply(this,[this,cr.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,cr.WARN].concat(t)),this._logHandler.apply(this,[this,cr.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,cr.ERROR].concat(t)),this._logHandler.apply(this,[this,cr.ERROR].concat(t))}}]),e}();var kr=function(){function e(t){hn(this,e),this.container=t}return pn(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var br="@firebase/app",wr="0.7.21",xr=new yr("@firebase/app"),_r="[DEFAULT]",Sr=(fn(hr={},br,"fire-core"),fn(hr,"@firebase/app-compat","fire-core-compat"),fn(hr,"@firebase/analytics","fire-analytics"),fn(hr,"@firebase/analytics-compat","fire-analytics-compat"),fn(hr,"@firebase/app-check","fire-app-check"),fn(hr,"@firebase/app-check-compat","fire-app-check-compat"),fn(hr,"@firebase/auth","fire-auth"),fn(hr,"@firebase/auth-compat","fire-auth-compat"),fn(hr,"@firebase/database","fire-rtdb"),fn(hr,"@firebase/database-compat","fire-rtdb-compat"),fn(hr,"@firebase/functions","fire-fn"),fn(hr,"@firebase/functions-compat","fire-fn-compat"),fn(hr,"@firebase/installations","fire-iid"),fn(hr,"@firebase/installations-compat","fire-iid-compat"),fn(hr,"@firebase/messaging","fire-fcm"),fn(hr,"@firebase/messaging-compat","fire-fcm-compat"),fn(hr,"@firebase/performance","fire-perf"),fn(hr,"@firebase/performance-compat","fire-perf-compat"),fn(hr,"@firebase/remote-config","fire-rc"),fn(hr,"@firebase/remote-config-compat","fire-rc-compat"),fn(hr,"@firebase/storage","fire-gcs"),fn(hr,"@firebase/storage-compat","fire-gcs-compat"),fn(hr,"@firebase/firestore","fire-fst"),fn(hr,"@firebase/firestore-compat","fire-fst-compat"),fn(hr,"fire-js","fire-js"),fn(hr,"firebase","fire-js-all"),hr),Ir=new Map,Er=new Map;function Tr(e,t){try{e.container.addComponent(t)}catch(n){xr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Cr(e,t){e.container.addOrOverwriteComponent(t)}function Ar(e){var t=e.name;if(Er.has(t))return xr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Er.set(t,e);var n,r=vn(Ir.values());try{for(r.s();!(n=r.n()).done;){Tr(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Nr(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Rr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_r;Nr(e,t).clearInstance(n)}function Pr(){Er.clear()}var Or=(fn(dr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),fn(dr,"bad-app-name","Illegal App name: '{$appName}"),fn(dr,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),fn(dr,"app-deleted","Firebase App named '{$appName}' already deleted"),fn(dr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),fn(dr,"invalid-log-argument","First argument to `onLog` must be null or a function."),fn(dr,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),fn(dr,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),fn(dr,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),fn(dr,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),dr),Dr=new Bn("app","Firebase",Or),Lr=function(){function e(t,n,r){var i=this;hn(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ar("app",(function(){return i}),"PUBLIC"))}return pn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}]),e}(),Mr="9.6.11";function Fr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:_r,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Dr.create("bad-app-name",{appName:String(i)});var a=Ir.get(i);if(a){if(Kn(e,a.options)&&Kn(r,a.config))return a;throw Dr.create("duplicate-app",{appName:i})}var o,u=new lr(i),s=vn(Er.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Lr(e,r,u);return Ir.set(i,l),l}function Ur(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_r,t=Ir.get(e);if(!t)throw Dr.create("no-app",{appName:e});return t}function jr(){return Array.from(Ir.values())}function Vr(e){return Br.apply(this,arguments)}function Br(){return Br=sn(cn.mark((function e(t){var n;return cn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Ir.has(n)){e.next=6;break}return Ir.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Br.apply(this,arguments)}function zr(e,t,n){var r,i=null!==(r=Sr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void xr.warn(u.join(" "))}Ar(new ar("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function qr(e,t){if(null!==e&&"function"!==typeof e)throw Dr.create("invalid-log-argument");!function(e,t){var n,r=vn(fr);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=pr[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:cr[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Wr(e){var t;t=e,fr.forEach((function(e){e.setLogLevel(t)}))}var Kr="firebase-heartbeat-store",Hr=null;function Gr(){var e,t,n;return Hr||(Hr=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(Kr)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new tr(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new tr(a.result),e.oldVersion,e.newVersion,new nr(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw Dr.create("storage-open",{originalErrorMessage:e.message})}))),Hr}function Qr(e){return $r.apply(this,arguments)}function $r(){return $r=sn(cn.mark((function e(t){var n;return cn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Gr();case 3:return n=e.sent,e.abrupt("return",n.transaction(Kr).objectStore(Kr).get(Jr(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Dr.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),$r.apply(this,arguments)}function Yr(e,t){return Xr.apply(this,arguments)}function Xr(){return Xr=sn(cn.mark((function e(t,n){var r,i,a;return cn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Gr();case 3:return r=e.sent,i=r.transaction(Kr,"readwrite"),a=i.objectStore(Kr),e.next=8,a.put(n,Jr(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),Dr.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Xr.apply(this,arguments)}function Jr(e){return"".concat(e.name,"!").concat(e.options.appId)}var Zr=function(){function e(t){var n=this;hn(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ii(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return pn(e,[{key:"triggerHeartbeat",value:function(){var e=sn(cn.mark((function e(){var t,n,r;return cn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=ei(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=sn(cn.mark((function e(){var t,n,r,i,a;return cn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=ei(),n=ti(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Cn(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ei(){return(new Date).toISOString().substring(0,10)}function ti(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=vn(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),ai(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),ai(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var ni,ri,ii=function(){function e(t){hn(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return pn(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=sn(cn.mark((function e(){return cn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(jn()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=sn(cn.mark((function e(){var t;return cn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Qr(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=sn(cn.mark((function e(t){var n,r;return cn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Yr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=sn(cn.mark((function e(t){var n,r;return cn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Yr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(te(r.heartbeats),te(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ai(e){return Cn(JSON.stringify({version:2,heartbeats:e})).length}ni="",Ar(new ar("platform-logger",(function(e){return new kr(e)}),"PRIVATE")),Ar(new ar("heartbeat",(function(e){return new Zr(e)}),"PRIVATE")),zr(br,wr,ni),zr(br,wr,"esm2017"),zr("fire-js","");var oi=function(){function e(t,n){var r=this;hn(this,e),this._delegate=t,this.firebase=n,Tr(t,new ar("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return pn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Vr(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_r;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_r;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Tr(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Cr(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ui=(fn(ri={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),fn(ri,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ri),si=new Bn("app-compat","Firebase",ui);var ci=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Fr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Wn(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:zr,setLogLevel:Wr,onLog:qr,apps:null,SDK_VERSION:Mr,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ar(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw si.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Nn(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Wn(n,e=e||_r))throw si.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(oi);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Nn(n,e)},createSubscribe:Yn,ErrorFactory:Bn,deepExtend:Nn}),n}(),li=new yr("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){li.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var fi=self.firebase.SDK_VERSION;fi&&fi.indexOf("LITE")>=0&&li.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var hi=ci;!function(e){zr("@firebase/app-compat","0.1.22",e)}();function di(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=kn(e)););return e}function pi(){return pi="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=di(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},pi.apply(this,arguments)}hi.registerVersion("firebase","9.6.11","app-compat");function vi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var mi;Object.create;var gi="facebook.com",yi="github.com",ki="google.com",bi="password",wi="twitter.com",xi="EMAIL_SIGNIN",_i="PASSWORD_RESET",Si="RECOVER_EMAIL",Ii="REVERT_SECOND_FACTOR_ADDITION",Ei="VERIFY_AND_CHANGE_EMAIL",Ti="VERIFY_EMAIL";function Ci(){return fn({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Ai=function(){var e;return fn(e={},"admin-restricted-operation","This operation is restricted to administrators only."),fn(e,"argument-error",""),fn(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),fn(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),fn(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),fn(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),fn(e,"cordova-not-ready","Cordova framework is not ready."),fn(e,"cors-unsupported","This browser is not supported."),fn(e,"credential-already-in-use","This credential is already associated with a different user account."),fn(e,"custom-token-mismatch","The custom token corresponds to a different audience."),fn(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),fn(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),fn(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),fn(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),fn(e,"email-already-in-use","The email address is already in use by another account."),fn(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),fn(e,"expired-action-code","The action code has expired."),fn(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),fn(e,"internal-error","An internal AuthError has occurred."),fn(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),fn(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),fn(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),fn(e,"invalid-auth-event","An internal AuthError has occurred."),fn(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),fn(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),fn(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),fn(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),fn(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),fn(e,"invalid-email","The email address is badly formatted."),fn(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),fn(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),fn(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),fn(e,"invalid-credential","The supplied auth credential is malformed or has expired."),fn(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),fn(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),fn(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),fn(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),fn(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),fn(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),fn(e,"wrong-password","The password is invalid or the user does not have a password."),fn(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),fn(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),fn(e,"invalid-provider-id","The specified provider ID is invalid."),fn(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),fn(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),fn(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),fn(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),fn(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),fn(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),fn(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),fn(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),fn(e,"missing-continue-uri","A continue URL must be provided in the request."),fn(e,"missing-iframe-start","An internal AuthError has occurred."),fn(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),fn(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),fn(e,"missing-multi-factor-info","No second factor identifier is provided."),fn(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),fn(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),fn(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),fn(e,"app-deleted","This instance of FirebaseApp has been deleted."),fn(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),fn(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),fn(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),fn(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),fn(e,"no-auth-event","An internal AuthError has occurred."),fn(e,"no-such-provider","User was not linked to an account with the given provider."),fn(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),fn(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),fn(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),fn(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),fn(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),fn(e,"provider-already-linked","User can only be linked to one identity for the given provider."),fn(e,"quota-exceeded","The project's quota for this operation has been exceeded."),fn(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),fn(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),fn(e,"rejected-credential","The request contains malformed or mismatching credentials."),fn(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),fn(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),fn(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),fn(e,"timeout","The operation has timed out."),fn(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),fn(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),fn(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),fn(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),fn(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),fn(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),fn(e,"unverified-email","The operation requires a verified email."),fn(e,"user-cancelled","The user did not grant your application the permissions it requested."),fn(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),fn(e,"user-disabled","The user account has been disabled by an administrator."),fn(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),fn(e,"user-signed-out",""),fn(e,"weak-password","The password must be 6 characters long or more."),fn(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),fn(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Ni=Ci,Ri=new Bn("auth","Firebase",Ci()),Pi=new yr("@firebase/auth");function Oi(e){if(Pi.logLevel<=cr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Pi.error.apply(Pi,["Auth (".concat(Mr,"): ").concat(e)].concat(n))}}function Di(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ui.apply(void 0,[e].concat(n))}function Li(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ui.apply(void 0,[e].concat(n))}function Mi(e,t,n){var r=Object.assign(Object.assign({},Ni()),fn({},t,n));return new Bn("auth","Firebase",r).create(t,{appName:e.name})}function Fi(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Di(e,"argument-error"),Mi(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ui(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=te(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(te(o)))}return Ri.create.apply(Ri,[e].concat(n))}function ji(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ui.apply(void 0,[t].concat(r))}}function Vi(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Oi(t),new Error(t)}function Bi(e,t){e||Vi(t)}var zi=new Map;function qi(e){Bi(e instanceof Function,"Expected a class definition");var t=zi.get(e);return t?(Bi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,zi.set(e,t),t)}function Wi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ki(){return"http:"===Hi()||"https:"===Hi()}function Hi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Gi=function(){function e(t,n){hn(this,e),this.shortDelay=t,this.longDelay=n,Bi(n>t,"Short delay should be less than long delay!"),this.isMobile=Dn()||Fn()}return pn(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ki()||Mn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Qi(e,t){Bi(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var $i=function(){function e(){hn(this,e)}return pn(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Yi=(fn(mi={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),fn(mi,"MISSING_CUSTOM_TOKEN","internal-error"),fn(mi,"INVALID_IDENTIFIER","invalid-email"),fn(mi,"MISSING_CONTINUE_URI","internal-error"),fn(mi,"INVALID_PASSWORD","wrong-password"),fn(mi,"MISSING_PASSWORD","internal-error"),fn(mi,"EMAIL_EXISTS","email-already-in-use"),fn(mi,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),fn(mi,"INVALID_IDP_RESPONSE","invalid-credential"),fn(mi,"INVALID_PENDING_TOKEN","invalid-credential"),fn(mi,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),fn(mi,"MISSING_REQ_TYPE","internal-error"),fn(mi,"EMAIL_NOT_FOUND","user-not-found"),fn(mi,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),fn(mi,"EXPIRED_OOB_CODE","expired-action-code"),fn(mi,"INVALID_OOB_CODE","invalid-action-code"),fn(mi,"MISSING_OOB_CODE","internal-error"),fn(mi,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),fn(mi,"INVALID_ID_TOKEN","invalid-user-token"),fn(mi,"TOKEN_EXPIRED","user-token-expired"),fn(mi,"USER_NOT_FOUND","user-token-expired"),fn(mi,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),fn(mi,"INVALID_CODE","invalid-verification-code"),fn(mi,"INVALID_SESSION_INFO","invalid-verification-id"),fn(mi,"INVALID_TEMPORARY_PROOF","invalid-credential"),fn(mi,"MISSING_SESSION_INFO","missing-verification-id"),fn(mi,"SESSION_EXPIRED","code-expired"),fn(mi,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),fn(mi,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),fn(mi,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),fn(mi,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),fn(mi,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),fn(mi,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),fn(mi,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),fn(mi,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),fn(mi,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),fn(mi,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),fn(mi,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),mi),Xi=new Gi(3e4,6e4);function Ji(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Zi(e,t,n,r){return ea.apply(this,arguments)}function ea(){return ea=sn(ln().mark((function e(t,n,r,i){var a,o=arguments;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ta(t,a,sn(ln().mark((function e(){var a,o,u,s;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Gn(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",$i.fetch()(aa(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),ea.apply(this,arguments)}function ta(e,t,n){return na.apply(this,arguments)}function na(){return na=sn(ln().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d,p;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Yi),n),e.prev=2,a=new oa(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw ua(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw ua(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw ua(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw Mi(t,p,d);case 30:Di(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Vn)){e.next=37;break}throw e.t0;case 37:Di(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),na.apply(this,arguments)}function ra(e,t,n,r){return ia.apply(this,arguments)}function ia(){return ia=sn(ln().mark((function e(t,n,r,i){var a,o,u=arguments;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Zi(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Di(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),ia.apply(this,arguments)}function aa(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Qi(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var oa=function(){function e(t){var n=this;hn(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Li(n.auth,"network-request-failed"))}),Xi.get())}))}return pn(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ua(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Li(e,t,r);return i.customData._tokenResponse=n,i}function sa(e,t){return ca.apply(this,arguments)}function ca(){return ca=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zi(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),ca.apply(this,arguments)}function la(e,t){return fa.apply(this,arguments)}function fa(){return fa=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),fa.apply(this,arguments)}function ha(e,t){return da.apply(this,arguments)}function da(){return da=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zi(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),da.apply(this,arguments)}function pa(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function va(){return va=sn(ln().mark((function e(t){var n,r,i,a,o,u,s=arguments;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Zn(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,ji((a=ga(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:pa(ma(a.auth_time)),issuedAtTime:pa(ma(a.iat)),expirationTime:pa(ma(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),va.apply(this,arguments)}function ma(e){return 1e3*Number(e)}function ga(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Oi("JWT malformed, contained fewer than 3 sections"),null;try{var a=An(r);return a?JSON.parse(a):(Oi("Failed to decode base64 JWT payload"),null)}catch(o){return Oi("Caught error parsing JWT payload as JSON",o),null}}function ya(e,t){return ka.apply(this,arguments)}function ka(){return ka=sn(ln().mark((function e(t,n){var r=arguments;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Vn&&ba(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),ka.apply(this,arguments)}function ba(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var wa=function(){function e(t){hn(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return pn(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(sn(ln().mark((function t(){return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=sn(ln().mark((function e(){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),xa=function(){function e(t,n){hn(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return pn(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=pa(this.lastLoginAt),this.creationTime=pa(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function _a(e){return Sa.apply(this,arguments)}function Sa(){return Sa=sn(ln().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,ya(t,ha(r,{idToken:i}));case 6:ji(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Ta(o.providerUserInfo):[],s=Ea(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new xa(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Sa.apply(this,arguments)}function Ia(){return(Ia=sn(ln().mark((function e(t){var n;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zn(t),e.next=3,_a(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ea(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(te(n),te(t))}function Ta(e){return e.map((function(e){var t=e.providerId,n=vi(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Ca(e,t){return Aa.apply(this,arguments)}function Aa(){return Aa=sn(ln().mark((function e(t,n){var r;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ta(t,{},sn(ln().mark((function e(){var r,i,a,o,u,s;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gn({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=aa(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",$i.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Aa.apply(this,arguments)}var Na=function(){function e(){hn(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return pn(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ji(e.idToken,"internal-error"),ji("undefined"!==typeof e.idToken,"internal-error"),ji("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ga(e);return ji(t,"internal-error"),ji("undefined"!==typeof t.exp,"internal-error"),ji("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=sn(ln().mark((function e(t){var n,r=arguments;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],ji(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=sn(ln().mark((function e(t,n){var r,i,a,o;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ca(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Vi("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(ji("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(ji("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(ji("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Ra(e,t){ji("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Pa=function(){function e(t){hn(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=vi(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?te(a.providerData):[],this.metadata=new xa(a.createdAt||void 0,a.lastLoginAt||void 0)}return pn(e,[{key:"getIdToken",value:function(){var e=sn(ln().mark((function e(t){var n;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ya(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ji(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return va.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ia.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ji(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){ji(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=sn(ln().mark((function e(t){var n,r,i=arguments;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,_a(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=sn(ln().mark((function e(){var t;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ya(this,sa(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;ji(k&&_,t,"internal-error");var S=Na.fromJSON(this.name,_);ji("string"===typeof k,t,"internal-error"),Ra(f,t.name),Ra(h,t.name),ji("boolean"===typeof b,t,"internal-error"),ji("boolean"===typeof w,t,"internal-error"),Ra(d,t.name),Ra(p,t.name),Ra(v,t.name),Ra(m,t.name),Ra(g,t.name),Ra(y,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=sn(ln().mark((function t(n,r){var i,a,o,u=arguments;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Na).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,_a(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Oa=function(){function e(){hn(this,e),this.type="NONE",this.storage={}}return pn(e,[{key:"_isAvailable",value:function(){var e=sn(ln().mark((function e(){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=sn(ln().mark((function e(t){var n;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Oa.type="NONE";var Da=Oa;function La(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Ma=function(){function e(t,n,r){hn(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=La(this.userKey,a.apiKey,o),this.fullPersistenceKey=La("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return pn(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=sn(ln().mark((function e(){var t;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Pa._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=sn(ln().mark((function e(t){var n;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=sn(ln().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(qi(Da),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||qi(Da),u=La(i,n.config.apiKey,n.name),s=null,c=vn(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Pa._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Fa(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ba(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ua(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(qa(t))return"Blackberry";if(Wa(t))return"Webos";if(ja(t))return"Safari";if((t.includes("chrome/")||Va(t))&&!t.includes("edge/"))return"Chrome";if(za(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Ua(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On();return/firefox\//i.test(e)}function ja(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Va(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On();return/crios\//i.test(e)}function Ba(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On();return/iemobile/i.test(e)}function za(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On();return/android/i.test(e)}function qa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On();return/blackberry/i.test(e)}function Wa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On();return/webos/i.test(e)}function Ka(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On();return/iphone|ipad|ipod/i.test(e)}function Ha(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On();return Ka(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Ga(){return Un()&&10===document.documentMode}function Qa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On();return Ka(e)||za(e)||Wa(e)||qa(e)||/windows phone/i.test(e)||Ba(e)}function $a(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Fa(On());break;case"Worker":t="".concat(Fa(On()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Mr,"/").concat(r)}var Ya=function(){function e(t,n,r){hn(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ja(this),this.idTokenSubscription=new Ja(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ri,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return pn(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=qi(t)),this._initializationPromise=this.queue(sn(ln().mark((function r(){var i,a;return ln().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Ma.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=sn(ln().mark((function e(){var t;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=sn(ln().mark((function e(t){var n,r,i,a,o;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return ji(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=sn(ln().mark((function e(t){var n;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_a(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=sn(ln().mark((function e(){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=sn(ln().mark((function e(t){var n;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Zn(t):null)&&ji(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=sn(ln().mark((function e(t){var n=this;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&ji(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(sn(ln().mark((function e(){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=sn(ln().mark((function e(){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(sn(ln().mark((function n(){return ln().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(qi(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Bn("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=sn(ln().mark((function e(t,n){var r;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=sn(ln().mark((function e(t){var n;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ji(n=t&&qi(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Ma.create(this,[qi(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=sn(ln().mark((function e(t){var n,r;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(sn(ln().mark((function e(){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=sn(ln().mark((function e(t){var n=this;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(sn(ln().mark((function e(){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ji(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ji(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$a(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=sn(ln().mark((function e(){var t,n,r;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fn({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Xa(e){return Zn(e)}var Ja=function(){function e(t){var n=this;hn(this,e),this.auth=t,this.observer=null,this.addObserver=Yn((function(e){return n.observer=e}))}return pn(e,[{key:"next",get:function(){return ji(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Za(e,t,n){var r=Xa(e);ji(r._canInitEmulator,r,"emulator-config-failed"),ji(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=eo(t),o=function(e){var t=eo(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:to(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:to(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function eo(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function to(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var no=function(){function e(t,n){hn(this,e),this.providerId=t,this.signInMethod=n}return pn(e,[{key:"toJSON",value:function(){return Vi("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Vi("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Vi("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Vi("not implemented")}}]),e}();function ro(e,t){return io.apply(this,arguments)}function io(){return io=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zi(t,"POST","/v1/accounts:resetPassword",Ji(t,n)));case 1:case"end":return e.stop()}}),e)}))),io.apply(this,arguments)}function ao(e,t){return oo.apply(this,arguments)}function oo(){return oo=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),oo.apply(this,arguments)}function uo(e,t){return so.apply(this,arguments)}function so(){return so=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zi(t,"POST","/v1/accounts:update",Ji(t,n)));case 1:case"end":return e.stop()}}),e)}))),so.apply(this,arguments)}function co(e,t){return lo.apply(this,arguments)}function lo(){return lo=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ra(t,"POST","/v1/accounts:signInWithPassword",Ji(t,n)));case 1:case"end":return e.stop()}}),e)}))),lo.apply(this,arguments)}function fo(e,t){return ho.apply(this,arguments)}function ho(){return ho=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zi(t,"POST","/v1/accounts:sendOobCode",Ji(t,n)));case 1:case"end":return e.stop()}}),e)}))),ho.apply(this,arguments)}function po(e,t){return vo.apply(this,arguments)}function vo(){return vo=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fo(t,n));case 1:case"end":return e.stop()}}),e)}))),vo.apply(this,arguments)}function mo(e,t){return go.apply(this,arguments)}function go(){return go=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fo(t,n));case 1:case"end":return e.stop()}}),e)}))),go.apply(this,arguments)}function yo(e,t){return ko.apply(this,arguments)}function ko(){return ko=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fo(t,n));case 1:case"end":return e.stop()}}),e)}))),ko.apply(this,arguments)}function bo(e,t){return wo.apply(this,arguments)}function wo(){return wo=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fo(t,n));case 1:case"end":return e.stop()}}),e)}))),wo.apply(this,arguments)}function xo(e,t){return _o.apply(this,arguments)}function _o(){return _o=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ra(t,"POST","/v1/accounts:signInWithEmailLink",Ji(t,n)));case 1:case"end":return e.stop()}}),e)}))),_o.apply(this,arguments)}function So(e,t){return Io.apply(this,arguments)}function Io(){return Io=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ra(t,"POST","/v1/accounts:signInWithEmailLink",Ji(t,n)));case 1:case"end":return e.stop()}}),e)}))),Io.apply(this,arguments)}var Eo=function(e){yn(n,e);var t=_n(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return hn(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return pn(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",co(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",xo(t,{email:this._email,oobCode:this._password}));case 5:Di(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ao(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",So(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Di(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(no);function To(e,t){return Co.apply(this,arguments)}function Co(){return Co=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ra(t,"POST","/v1/accounts:signInWithIdp",Ji(t,n)));case 1:case"end":return e.stop()}}),e)}))),Co.apply(this,arguments)}var Ao=function(e){yn(n,e);var t=_n(n);function n(){var e;return hn(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return pn(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return To(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,To(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,To(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Gn(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Di("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=vi(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(no);function No(e,t){return Ro.apply(this,arguments)}function Ro(){return Ro=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zi(t,"POST","/v1/accounts:sendVerificationCode",Ji(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ro.apply(this,arguments)}function Po(){return Po=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ra(t,"POST","/v1/accounts:signInWithPhoneNumber",Ji(t,n)));case 1:case"end":return e.stop()}}),e)}))),Po.apply(this,arguments)}function Oo(){return Oo=sn(ln().mark((function e(t,n){var r;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ra(t,"POST","/v1/accounts:signInWithPhoneNumber",Ji(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ua(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Oo.apply(this,arguments)}var Do=fn({},"USER_NOT_FOUND","user-not-found");function Lo(){return Lo=sn(ln().mark((function e(t,n){var r;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ra(t,"POST","/v1/accounts:signInWithPhoneNumber",Ji(t,r),Do));case 2:case"end":return e.stop()}}),e)}))),Lo.apply(this,arguments)}var Mo=function(e){yn(n,e);var t=_n(n);function n(e){var r;return hn(this,n),(r=t.call(this,"phone","phone")).params=e,r}return pn(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Po.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Oo.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Lo.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(no);var Fo=function(){function e(t){var n,r,i,a,o,u;hn(this,e);var s=Qn($n(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);ji(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return pn(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Qn($n(e)).link,n=t?Qn($n(t)).deep_link_id:null,r=Qn($n(e)).deep_link_id;return(r?Qn($n(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(qS){return null}}}]),e}();var Uo=function(){function e(){hn(this,e),this.providerId=e.PROVIDER_ID}return pn(e,null,[{key:"credential",value:function(e,t){return Eo._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Fo.parseLink(t);return ji(n,"argument-error"),Eo._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Uo.PROVIDER_ID="password",Uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var jo=function(){function e(t){hn(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return pn(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Vo=function(e){yn(n,e);var t=_n(n);function n(){var e;return hn(this,n),(e=t.apply(this,arguments)).scopes=[],e}return pn(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return te(this.scopes)}}]),n}(jo),Bo=function(e){yn(n,e);var t=_n(n);function n(){return hn(this,n),t.apply(this,arguments)}return pn(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return ji(e.idToken||e.accessToken,"argument-error"),Ao._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return ji("providerId"in t&&"signInMethod"in t,"argument-error"),Ao._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Vo),zo=function(e){yn(n,e);var t=_n(n);function n(){return hn(this,n),t.call(this,"facebook.com")}return pn(n,null,[{key:"credential",value:function(e){return Ao._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(qS){return null}}}]),n}(Vo);zo.FACEBOOK_SIGN_IN_METHOD="facebook.com",zo.PROVIDER_ID="facebook.com";var qo=function(e){yn(n,e);var t=_n(n);function n(){var e;return hn(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return pn(n,null,[{key:"credential",value:function(e,t){return Ao._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(qS){return null}}}]),n}(Vo);qo.GOOGLE_SIGN_IN_METHOD="google.com",qo.PROVIDER_ID="google.com";var Wo=function(e){yn(n,e);var t=_n(n);function n(){return hn(this,n),t.call(this,"github.com")}return pn(n,null,[{key:"credential",value:function(e){return Ao._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(qS){return null}}}]),n}(Vo);Wo.GITHUB_SIGN_IN_METHOD="github.com",Wo.PROVIDER_ID="github.com";var Ko=function(e){yn(n,e);var t=_n(n);function n(e,r){var i;return hn(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return pn(n,[{key:"_getIdTokenResponse",value:function(e){return To(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,To(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,To(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(no),Ho=function(e){yn(n,e);var t=_n(n);function n(e){return hn(this,n),ji(e.startsWith("saml."),"argument-error"),t.call(this,e)}return pn(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Ko.fromJSON(e);return ji(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Ko._create(r,n)}catch(i){return null}}}]),n}(jo),Go=function(e){yn(n,e);var t=_n(n);function n(){return hn(this,n),t.call(this,"twitter.com")}return pn(n,null,[{key:"credential",value:function(e,t){return Ao._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(qS){return null}}}]),n}(Vo);function Qo(e,t){return $o.apply(this,arguments)}function $o(){return $o=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ra(t,"POST","/v1/accounts:signUp",Ji(t,n)));case 1:case"end":return e.stop()}}),e)}))),$o.apply(this,arguments)}Go.TWITTER_SIGN_IN_METHOD="twitter.com",Go.PROVIDER_ID="twitter.com";var Yo=function(){function e(t){hn(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return pn(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=sn(ln().mark((function t(n,r,i){var a,o,u,s,c=arguments;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Pa._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Xo(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=sn(ln().mark((function t(n,r,i){var a;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Xo(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Xo(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Jo(){return Jo=sn(ln().mark((function e(t){var n,r,i,a;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xa(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Yo({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Qo(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Yo._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Jo.apply(this,arguments)}var Zo=function(e){yn(n,e);var t=_n(n);function n(e,r,i,a){var o,u;return hn(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(mn(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return pn(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Vn);function eu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Zo._fromErrorAndOperation(e,n,t,r);throw n}))}function tu(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function nu(e,t){return ru.apply(this,arguments)}function ru(){return ru=sn(ln().mark((function e(t,n){var r,i,a,o;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zn(t),e.next=3,ou(!0,r,n);case 3:return e.t0=la,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=tu(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),ru.apply(this,arguments)}function iu(e,t){return au.apply(this,arguments)}function au(){return au=sn(ln().mark((function e(t,n){var r,i,a=arguments;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=ya,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Yo._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),au.apply(this,arguments)}function ou(e,t,n){return uu.apply(this,arguments)}function uu(){return uu=sn(ln().mark((function e(t,n,r){var i,a;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_a(n);case 2:i=tu(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",ji(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),uu.apply(this,arguments)}function su(e,t){return cu.apply(this,arguments)}function cu(){return cu=sn(ln().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,ya(t,eu(i,a,n,t),r);case 6:return ji((o=e.sent).idToken,i,"internal-error"),ji(u=ga(o.idToken),i,"internal-error"),s=u.sub,ji(t.uid===s,i,"user-mismatch"),e.abrupt("return",Yo._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Di(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),cu.apply(this,arguments)}function lu(e,t){return fu.apply(this,arguments)}function fu(){return fu=sn(ln().mark((function e(t,n){var r,i,a,o,u=arguments;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,eu(t,i,n);case 4:return a=e.sent,e.next=7,Yo._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),fu.apply(this,arguments)}function hu(e,t){return du.apply(this,arguments)}function du(){return du=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lu(Xa(t),n));case 1:case"end":return e.stop()}}),e)}))),du.apply(this,arguments)}function pu(e,t){return vu.apply(this,arguments)}function vu(){return(vu=sn(ln().mark((function e(t,n){var r;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zn(t),e.next=3,ou(!1,r,n.providerId);case 3:return e.abrupt("return",iu(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mu(e,t){return gu.apply(this,arguments)}function gu(){return(gu=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",su(Zn(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yu(e,t){return ku.apply(this,arguments)}function ku(){return ku=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ra(t,"POST","/v1/accounts:signInWithCustomToken",Ji(t,n)));case 1:case"end":return e.stop()}}),e)}))),ku.apply(this,arguments)}function bu(){return bu=sn(ln().mark((function e(t,n){var r,i,a;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xa(t),e.next=3,yu(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Yo._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),bu.apply(this,arguments)}var wu=function(){function e(t,n){hn(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return pn(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?xu._fromServerResponse(e,t):Di(e,"internal-error")}}]),e}(),xu=function(e){yn(n,e);var t=_n(n);function n(e){var r;return hn(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return pn(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(wu);function _u(e,t,n){var r;ji((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ji("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ji(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ji(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Su(){return Su=sn(ln().mark((function e(t,n,r){var i,a;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zn(t),a={requestType:"PASSWORD_RESET",email:n},r&&_u(i,a,r),e.next=5,mo(i,a);case 5:case"end":return e.stop()}}),e)}))),Su.apply(this,arguments)}function Iu(){return Iu=sn(ln().mark((function e(t,n,r){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ro(Zn(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Iu.apply(this,arguments)}function Eu(){return Eu=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uo(Zn(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Eu.apply(this,arguments)}function Tu(e,t){return Cu.apply(this,arguments)}function Cu(){return Cu=sn(ln().mark((function e(t,n){var r,i,a,o;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zn(t),e.next=3,ro(r,{oobCode:n});case 3:i=e.sent,ji(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return ji(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:ji(i.mfaInfo,r,"internal-error");case 13:ji(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=wu._fromServerResponse(Xa(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Cu.apply(this,arguments)}function Au(){return Au=sn(ln().mark((function e(t,n){var r,i;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tu(Zn(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Au.apply(this,arguments)}function Nu(e,t,n){return Ru.apply(this,arguments)}function Ru(){return Ru=sn(ln().mark((function e(t,n,r){var i,a,o;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xa(t),e.next=3,Qo(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Yo._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Ru.apply(this,arguments)}function Pu(){return Pu=sn(ln().mark((function e(t,n,r){var i,a;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zn(t),a={requestType:"EMAIL_SIGNIN",email:n},ji(r.handleCodeInApp,i,"argument-error"),r&&_u(i,a,r),e.next=6,yo(i,a);case 6:case"end":return e.stop()}}),e)}))),Pu.apply(this,arguments)}function Ou(){return Ou=sn(ln().mark((function e(t,n,r){var i,a;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zn(t),ji((a=Uo.credentialWithLink(n,r||Wi()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",hu(i,a));case 4:case"end":return e.stop()}}),e)}))),Ou.apply(this,arguments)}function Du(e,t){return Lu.apply(this,arguments)}function Lu(){return Lu=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zi(t,"POST","/v1/accounts:createAuthUri",Ji(t,n)));case 1:case"end":return e.stop()}}),e)}))),Lu.apply(this,arguments)}function Mu(){return Mu=sn(ln().mark((function e(t,n){var r,i,a,o;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ki()?Wi():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Du(Zn(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Mu.apply(this,arguments)}function Fu(){return(Fu=sn(ln().mark((function e(t,n){var r,i,a,o;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zn(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&_u(r.auth,a,n),e.next=8,po(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uu(){return(Uu=sn(ln().mark((function e(t,n,r){var i,a,o,u;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zn(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&_u(i.auth,o,r),e.next=8,bo(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ju(e,t){return Vu.apply(this,arguments)}function Vu(){return Vu=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Vu.apply(this,arguments)}function Bu(){return(Bu=sn(ln().mark((function e(t,n){var r,i,a,o,u,s,c;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Zn(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,ya(a,ju(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zu(e,t,n){return qu.apply(this,arguments)}function qu(){return qu=sn(ln().mark((function e(t,n,r){var i,a,o,u;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,ya(t,ao(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),qu.apply(this,arguments)}var Wu=pn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};hn(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Ku=function(e){yn(n,e);var t=_n(n);function n(e,r,i,a){var o;return hn(this,n),(o=t.call(this,e,r,i)).username=a,o}return pn(n)}(Wu),Hu=function(e){yn(n,e);var t=_n(n);function n(e,r){return hn(this,n),t.call(this,e,"facebook.com",r)}return pn(n)}(Wu),Gu=function(e){yn(n,e);var t=_n(n);function n(e,r){return hn(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return pn(n)}(Ku),Qu=function(e){yn(n,e);var t=_n(n);function n(e,r){return hn(this,n),t.call(this,e,"google.com",r)}return pn(n)}(Wu),$u=function(e){yn(n,e);var t=_n(n);function n(e,r,i){return hn(this,n),t.call(this,e,"twitter.com",r,i)}return pn(n)}(Ku);function Yu(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=ga(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Wu(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Hu(a,i);case"github.com":return new Gu(a,i);case"google.com":return new Qu(a,i);case"twitter.com":return new $u(a,i,e.screenName||null);case"custom":case"anonymous":return new Wu(a,null);default:return new Wu(a,r,i)}}(n)}var Xu=function(){function e(t,n){hn(this,e),this.type=t,this.credential=n}return pn(e,[{key:"toJSON",value:function(){return{multiFactorSession:fn({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Ju=function(){function e(t,n,r){hn(this,e),this.session=t,this.hints=n,this.signInResolver=r}return pn(e,[{key:"resolveSignIn",value:function(){var e=sn(ln().mark((function e(t){var n;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Xa(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return wu._fromServerResponse(r,e)}));ji(i.mfaPendingCredential,r,"internal-error");var o=Xu._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=sn(ln().mark((function e(t){var a,u,s;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Yo._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return ji(n.user,r,"internal-error"),e.abrupt("return",Yo._forOperation(n.user,n.operationType,u));case 17:Di(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Zu(e,t){return Zi(e,"POST","/v2/accounts/mfaEnrollment:start",Ji(e,t))}function es(e,t){return Zi(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Ji(e,t))}var ts=function(){function e(t){var n=this;hn(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return wu._fromServerResponse(t.auth,e)})))}))}return pn(e,[{key:"getSession",value:function(){var e=sn(ln().mark((function e(){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Xu,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=sn(ln().mark((function e(t,n){var r,i,a;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,ya(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=sn(ln().mark((function e(t){var n,r,i;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,ya(this.user,es(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),ns=new WeakMap;var rs="__sak",is=function(){function e(t,n){hn(this,e),this.storageRetriever=t,this.type=n}return pn(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(rs,"1"),this.storage.removeItem(rs),Promise.resolve(!0)):Promise.resolve(!1)}catch(qS){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var as=function(e){yn(n,e);var t=_n(n);function n(){var e;return hn(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=On();return ja(e)||Ka(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Qa(),e._shouldAllowMigration=!0,e}return pn(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Ga()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=sn(ln().mark((function e(t,r){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pi(kn(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=sn(ln().mark((function e(t){var r;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pi(kn(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pi(kn(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(is);as.type="LOCAL";var os=as,us=function(e){yn(n,e);var t=_n(n);function n(){return hn(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return pn(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(is);us.type="SESSION";var ss=us;function cs(e){return Promise.all(e.map(function(){var e=sn(ln().mark((function e(t){var n;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ls=function(){function e(t){hn(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return pn(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=sn(ln().mark((function e(t){var n,r,i,a,o,u,s,c;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,cs(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function fs(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ls.receivers=[];var hs=function(){function e(t){hn(this,e),this.target=t,this.handlers=new Set}return pn(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=sn(ln().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=fs("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function ds(){return window}function ps(){return"undefined"!==typeof ds().WorkerGlobalScope&&"function"===typeof ds().importScripts}function vs(){return ms.apply(this,arguments)}function ms(){return(ms=sn(ln().mark((function e(){var t;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function gs(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var ys="firebaseLocalStorageDb",ks="firebaseLocalStorage",bs="fbase_key",ws=function(){function e(t){hn(this,e),this.request=t}return pn(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function xs(e,t){return e.transaction([ks],t?"readwrite":"readonly").objectStore(ks)}function _s(){var e=indexedDB.deleteDatabase(ys);return new ws(e).toPromise()}function Ss(){var e=indexedDB.open(ys,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ks,{keyPath:bs})}catch(r){n(r)}})),e.addEventListener("success",sn(ln().mark((function n(){var r;return ln().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ks)){n.next=12;break}return r.close(),n.next=5,_s();case 5:return n.t0=t,n.next=8,Ss();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Is(e,t,n){return Es.apply(this,arguments)}function Es(){return Es=sn(ln().mark((function e(t,n,r){var i,a;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=xs(t,!0).put((fn(i={},bs,n),fn(i,"value",r),i)),e.abrupt("return",new ws(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Es.apply(this,arguments)}function Ts(e,t){return Cs.apply(this,arguments)}function Cs(){return Cs=sn(ln().mark((function e(t,n){var r,i;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xs(t,!1).get(n),e.next=3,new ws(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Cs.apply(this,arguments)}function As(e,t){var n=xs(e,!0).delete(t);return new ws(n).toPromise()}var Ns=function(){function e(){hn(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return pn(e,[{key:"_openDb",value:function(){var e=sn(ln().mark((function e(){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ss();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=sn(ln().mark((function e(t){var n,r;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=sn(ln().mark((function e(){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ps()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=sn(ln().mark((function e(){var t=this;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ls._getInstance(ps()?self:null),this.receiver._subscribe("keyChanged",function(){var e=sn(ln().mark((function e(n,r){var i;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=sn(ln().mark((function e(){var t,n,r;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vs();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new hs(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&gs()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=sn(ln().mark((function e(){var t;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ss();case 5:return t=e.sent,e.next=8,Is(t,rs,"1");case 8:return e.next=10,As(t,rs);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=sn(ln().mark((function e(t,n){var r=this;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(sn(ln().mark((function e(){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Is(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=sn(ln().mark((function e(t){var n;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Ts(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=sn(ln().mark((function e(t){var n=this;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(sn(ln().mark((function e(){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return As(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=sn(ln().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=xs(e,!1).getAll();return new ws(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=vn(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(sn(ln().mark((function t(){return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ns.type="LOCAL";var Rs=Ns;function Ps(e,t){return Zi(e,"POST","/v2/accounts/mfaSignIn:start",Ji(e,t))}function Os(e){return Ds.apply(this,arguments)}function Ds(){return Ds=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zi(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Ds.apply(this,arguments)}function Ls(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Li("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Ms(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Fs=1e12,Us=function(){function e(t){hn(this,e),this.auth=t,this.counter=Fs,this._widgets=new Map}return pn(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new js(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Fs;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Fs;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=sn(ln().mark((function e(t){var n,r;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Fs,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),js=function(){function e(t,n,r){var i=this;hn(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;ji(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return pn(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Vs=Ms("rcb"),Bs=new Gi(3e4,6e4),zs="https://www.google.com/recaptcha/api.js?",qs=function(){function e(){hn(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!ds().grecaptcha}return pn(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ji(Ws(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(ds().grecaptcha):new Promise((function(r,i){var a=ds().setTimeout((function(){i(Li(e,"network-request-failed"))}),Bs.get());ds()[Vs]=function(){ds().clearTimeout(a),delete ds()[Vs];var o=ds().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Li(e,"internal-error"))},Ls("".concat(zs,"?").concat(Gn({onload:Vs,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Li(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!ds().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Ws(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Ks=function(){function e(){hn(this,e)}return pn(e,[{key:"load",value:function(){var e=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Us(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Hs="recaptcha",Gs={theme:"light",type:"image"},Qs=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Gs),r=arguments.length>2?arguments[2]:void 0;hn(this,e),this.parameters=n,this.type=Hs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Xa(r),this.isInvisible="invisible"===this.parameters.size,ji("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;ji(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ks:new qs,this.validateStartingState()}return pn(e,[{key:"verify",value:function(){var e=sn(ln().mark((function e(){var t,n,r,i=this;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){ji(!this.parameters.sitekey,this.auth,"argument-error"),ji(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ji("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=ds()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){ji(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=sn(ln().mark((function e(){var t,n;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=sn(ln().mark((function e(){var t;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ji(Ki()&&!ps(),this.auth,"internal-error"),e.next=3,$s();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Os(this.auth);case 8:ji(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return ji(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function $s(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Ys=function(){function e(t,n){hn(this,e),this.verificationId=t,this.onConfirmation=n}return pn(e,[{key:"confirm",value:function(e){var t=Mo._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Xs(){return Xs=sn(ln().mark((function e(t,n,r){var i,a;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xa(t),e.next=3,tc(i,n,Zn(r));case 3:return a=e.sent,e.abrupt("return",new Ys(a,(function(e){return hu(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Xs.apply(this,arguments)}function Js(e,t,n){return Zs.apply(this,arguments)}function Zs(){return(Zs=sn(ln().mark((function e(t,n,r){var i,a;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zn(t),e.next=3,ou(!1,i,"phone");case 3:return e.next=5,tc(i.auth,n,Zn(r));case 5:return a=e.sent,e.abrupt("return",new Ys(a,(function(e){return pu(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ec(){return(ec=sn(ln().mark((function e(t,n,r){var i,a;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zn(t),e.next=3,tc(i.auth,n,Zn(r));case 3:return a=e.sent,e.abrupt("return",new Ys(a,(function(e){return mu(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tc(e,t,n){return nc.apply(this,arguments)}function nc(){return nc=sn(ln().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,ji("string"===typeof a,t,"argument-error"),ji(r.type===Hs,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return ji("enroll"===u.type,t,"internal-error"),e.next=13,Zu(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return ji("signin"===u.type,t,"internal-error"),ji(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Ps(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,No(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),nc.apply(this,arguments)}function rc(){return(rc=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iu(Zn(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ic=function(){function e(t){hn(this,e),this.providerId=e.PROVIDER_ID,this.auth=Xa(t)}return pn(e,[{key:"verifyPhoneNumber",value:function(e,t){return tc(this.auth,e,Zn(t))}}],[{key:"credential",value:function(e,t){return Mo._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Mo._fromTokenResponse(n,r):null}}]),e}();function ac(e,t){return t?qi(t):(ji(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ic.PROVIDER_ID="phone",ic.PHONE_SIGN_IN_METHOD="phone";var oc=function(e){yn(n,e);var t=_n(n);function n(e){var r;return hn(this,n),(r=t.call(this,"custom","custom")).params=e,r}return pn(n,[{key:"_getIdTokenResponse",value:function(e){return To(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return To(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return To(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(no);function uc(e){return lu(e.auth,new oc(e),e.bypassAuthState)}function sc(e){var t=e.auth,n=e.user;return ji(n,t,"internal-error"),su(n,new oc(e),e.bypassAuthState)}function cc(e){return lc.apply(this,arguments)}function lc(){return lc=sn(ln().mark((function e(t){var n,r;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,ji(r=t.user,n,"internal-error"),e.abrupt("return",iu(r,new oc(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),lc.apply(this,arguments)}var fc=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];hn(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return pn(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=sn(ln().mark((function t(n,r){return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=sn(ln().mark((function e(t){var n,r,i,a,o,u,s;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uc;case"linkViaPopup":case"linkViaRedirect":return cc;case"reauthViaPopup":case"reauthViaRedirect":return sc;default:Di(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),hc=new Gi(2e3,1e4);function dc(e,t,n){return pc.apply(this,arguments)}function pc(){return pc=sn(ln().mark((function e(t,n,r){var i,a,o;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xa(t),Fi(t,n,jo),a=ac(i,r),o=new yc(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),pc.apply(this,arguments)}function vc(){return vc=sn(ln().mark((function e(t,n,r){var i,a,o;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fi((i=Zn(t)).auth,n,jo),a=ac(i.auth,r),o=new yc(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),vc.apply(this,arguments)}function mc(e,t,n){return gc.apply(this,arguments)}function gc(){return gc=sn(ln().mark((function e(t,n,r){var i,a,o;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fi((i=Zn(t)).auth,n,jo),a=ac(i.auth,r),o=new yc(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),gc.apply(this,arguments)}var yc=function(e){yn(n,e);var t=_n(n);function n(e,r,i,a,o){var u;return hn(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=mn(u),u}return pn(n,[{key:"executeNotNull",value:function(){var e=sn(ln().mark((function e(){var t;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ji(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=sn(ln().mark((function e(){var t,n=this;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bi(1===this.filter.length,"Popup operations only handle one event"),t=fs(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Li(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Li(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Li(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,hc.get())}()}}]),n}(fc);yc.currentPopupAction=null;var kc=new Map,bc=function(e){yn(n,e);var t=_n(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return hn(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return pn(n,[{key:"execute",value:function(){var e=sn(ln().mark((function e(){var t,r;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=kc.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,wc(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,pi(kn(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:kc.set(this.auth._key(),t);case 21:return this.bypassAuthState||kc.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=sn(ln().mark((function e(t){var r;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",pi(kn(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",pi(kn(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=sn(ln().mark((function e(){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(fc);function wc(e,t){return xc.apply(this,arguments)}function xc(){return xc=sn(ln().mark((function e(t,n){var r,i,a;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ec(n),i=Ic(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),xc.apply(this,arguments)}function _c(e,t){return Sc.apply(this,arguments)}function Sc(){return Sc=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ic(t)._set(Ec(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Sc.apply(this,arguments)}function Ic(e){return qi(e._redirectPersistence)}function Ec(e){return La("pendingRedirect",e.config.apiKey,e.name)}function Tc(e,t,n){return function(e,t,n){return Cc.apply(this,arguments)}(e,t,n)}function Cc(){return Cc=sn(ln().mark((function e(t,n,r){var i,a;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xa(t),Fi(t,n,jo),a=ac(i,r),e.next=5,_c(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),Cc.apply(this,arguments)}function Ac(e,t,n){return function(e,t,n){return Nc.apply(this,arguments)}(e,t,n)}function Nc(){return Nc=sn(ln().mark((function e(t,n,r){var i,a,o;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fi((i=Zn(t)).auth,n,jo),a=ac(i.auth,r),e.next=5,_c(a,i.auth);case 5:return e.next=7,Fc(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)}))),Nc.apply(this,arguments)}function Rc(e,t,n){return function(e,t,n){return Pc.apply(this,arguments)}(e,t,n)}function Pc(){return Pc=sn(ln().mark((function e(t,n,r){var i,a,o;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fi((i=Zn(t)).auth,n,jo),a=ac(i.auth,r),e.next=5,ou(!1,i,n.providerId);case 5:return e.next=7,_c(a,i.auth);case 7:return e.next=9,Fc(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),Pc.apply(this,arguments)}function Oc(e,t){return Dc.apply(this,arguments)}function Dc(){return Dc=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xa(t)._initializationPromise;case 2:return e.abrupt("return",Lc(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Dc.apply(this,arguments)}function Lc(e,t){return Mc.apply(this,arguments)}function Mc(){return Mc=sn(ln().mark((function e(t,n){var r,i,a,o,u,s=arguments;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Xa(t),a=ac(i,n),o=new bc(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Mc.apply(this,arguments)}function Fc(e){return Uc.apply(this,arguments)}function Uc(){return(Uc=sn(ln().mark((function e(t){var n;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fs("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jc=function(){function e(t){hn(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return pn(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bc(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Bc(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Li(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vc(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Vc(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Vc(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Bc(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function zc(e){return qc.apply(this,arguments)}function qc(){return qc=sn(ln().mark((function e(t){var n,r=arguments;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Zi(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),qc.apply(this,arguments)}var Wc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kc=/^https?/;function Hc(){return Hc=sn(ln().mark((function e(t){var n,r,i,a,o;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,zc(t);case 4:n=e.sent,r=n.authorizedDomains,i=vn(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Gc(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Di(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Hc.apply(this,arguments)}function Gc(e){var t=Wi(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Kc.test(r))return!1;if(Wc.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Qc=new Gi(3e4,6e4);function $c(){var e=ds().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=te(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Yc=null;function Xc(e){return Yc=Yc||function(e){return new Promise((function(t,n){var r,i,a;function o(){$c(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){$c(),n(Li(e,"network-request-failed"))},timeout:Qc.get()})}if(null===(i=null===(r=ds().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ds().gapi)||void 0===a?void 0:a.load)){var u=Ms("iframefcb");return ds()[u]=function(){gapi.load?o():n(Li(e,"network-request-failed"))},Ls("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Yc=null,e}))}(e),Yc}var Jc=new Gi(5e3,15e3),Zc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},el=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tl(e){var t=e.config;ji(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Qi(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Mr},i=el.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Gn(r).slice(1))}function nl(e){return rl.apply(this,arguments)}function rl(){return rl=sn(ln().mark((function e(t){var n,r;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xc(t);case 2:return n=e.sent,ji(r=ds().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:tl(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zc,dontclear:!0},(function(e){return new Promise(function(){var n=sn(ln().mark((function n(r,i){var a,o,u;return ln().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){ds().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Li(t,"network-request-failed"),o=ds().setTimeout((function(){i(a)}),Jc.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),rl.apply(this,arguments)}var il={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},al="_blank",ol="http://localhost",ul=function(){function e(t){hn(this,e),this.window=t,this.associatedEvent=null}return pn(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function sl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},il),{width:r.toString(),height:i.toString(),top:a,left:o}),l=On().toLowerCase();n&&(u=Va(l)?al:n),Ua(l)&&(t=t||ol,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Ha(l)&&"_self"!==u)return cl(t||"",u),new ul(null);var h=window.open(t||"",u,f);ji(h,e,"popup-blocked");try{h.focus()}catch(d){}return new ul(h)}function cl(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var ll="__/auth/handler",fl="emulator/auth/handler";function hl(e,t,n,r,i,a){ji(e.config.authDomain,e,"auth-domain-config-required"),ji(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Mr,eventId:i};if(t instanceof jo){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var l=c(s[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof Vo){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var g=m[v];void 0===p[g]&&delete p[g]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ll);return Qi(t,fl)}(e),"?").concat(Gn(p).slice(1))}var dl="webStorageSupport",pl=function(){function e(){hn(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ss,this._completeRedirectFn=Lc}return pn(e,[{key:"_openPopup",value:function(){var e=sn(ln().mark((function e(t,n,r,i){var a,o;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bi(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=hl(t,n,r,Wi(),i),e.abrupt("return",sl(t,o,fs()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=sn(ln().mark((function e(t,n,r,i){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=hl(t,n,r,Wi(),i),ds().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Bi(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=sn(ln().mark((function e(t){var n,r;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nl(t);case 2:return n=e.sent,r=new jc(t),n.register("authEvent",(function(e){return ji(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(dl,{type:dl},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Di(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Hc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Qa()||ja()||Ka()}}]),e}(),vl=pl,ml=function(){function e(t){hn(this,e),this.factorId=t}return pn(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Vi("unexpected MultiFactorSessionType")}}}]),e}(),gl=function(e){yn(n,e);var t=_n(n);function n(e){var r;return hn(this,n),(r=t.call(this,"phone")).credential=e,r}return pn(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Zi(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ji(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Zi(e,"POST","/v2/accounts/mfaSignIn:finalize",Ji(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(ml),yl=function(){function e(){hn(this,e)}return pn(e,null,[{key:"assertion",value:function(e){return gl._fromCredential(e)}}]),e}();yl.FACTOR_ID="phone";var kl,bl="@firebase/auth",wl="0.19.12",xl=function(){function e(t){hn(this,e),this.auth=t,this.internalListeners=new Map}return pn(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=sn(ln().mark((function e(t){var n;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ji(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function _l(){return window}kl="Browser",Ar(new ar("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){ji(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),ji(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:kl,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$a(kl)},i=new Ya(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qi);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ar(new ar("auth-internal",(function(e){return function(e){return new xl(e)}(Xa(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),zr(bl,wl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(kl)),zr(bl,wl,"esm2017");function Sl(e,t,n){return Il.apply(this,arguments)}function Il(){return Il=sn(ln().mark((function e(t,n,r){var i,a,o,u,s;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=_l(),o=a.BuildInfo,Bi(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Rl(n.sessionId);case 4:return u=e.sent,s={},Ka()?s.ibi=o.packageName:za()?s.apn=o.packageName:Di(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",hl(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Il.apply(this,arguments)}function El(){return El=sn(ln().mark((function e(t){var n,r,i;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_l(),r=n.BuildInfo,i={},Ka()?i.iosBundleId=r.packageName:za()?i.androidPackageName=r.packageName:Di(t,"operation-not-supported-in-this-environment"),e.next=5,zc(t,i);case 5:case"end":return e.stop()}}),e)}))),El.apply(this,arguments)}function Tl(e){var t=_l().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Cl(e,t,n){return Al.apply(this,arguments)}function Al(){return Al=sn(ln().mark((function e(t,n,r){var i,a,o;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_l(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Li(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),za()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Al.apply(this,arguments)}function Nl(e){var t,n,r,i,a,o,u,s,c,l,f=_l();ji("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ji("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ji("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ji("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ji("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Rl(e){return Pl.apply(this,arguments)}function Pl(){return(Pl=sn(ln().mark((function e(t){var n,r,i;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ol(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ol(e){if(Bi(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Dl=function(e){yn(n,e);var t=_n(n);function n(){var e;return hn(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return pn(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),pi(kn(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=sn(ln().mark((function e(){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(jc);function Ll(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Vl(),postBody:null,tenantId:e.tenantId,error:Li(e,"no-auth-event")}}function Ml(e,t){return Bl()._set(zl(e),t)}function Fl(e){return Ul.apply(this,arguments)}function Ul(){return Ul=sn(ln().mark((function e(t){var n;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bl()._get(zl(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Bl()._remove(zl(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Ul.apply(this,arguments)}function jl(e,t){var n,r,i=function(e){var t=ql(e),n=t.link?decodeURIComponent(t.link):void 0,r=ql(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return ql(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=ql(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Li(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Vl(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Bl(){return qi(os)}function zl(e){return La("authEvent",e.config.apiKey,e.name)}function ql(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||ee(t)||u(t)||s();r[0];return Qn(r.slice(1).join("?"))}var Wl=function(){function e(){hn(this,e),this._redirectPersistence=ss,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Lc}return pn(e,[{key:"_initialize",value:function(){var e=sn(ln().mark((function e(t){var n,r;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Dl(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Di(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=sn(ln().mark((function e(t,n,r,i){var a,o,u,s;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nl(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),kc.clear(),e.next=10,this._originValidation(t);case 10:return o=Ll(t,r,i),e.next=13,Ml(t,o);case 13:return e.next=15,Sl(t,o,n);case 15:return u=e.sent,e.next=18,Tl(u);case 18:return s=e.sent,e.abrupt("return",Cl(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return El.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=_l(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(sn(ln().mark((function n(){return ln().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fl(e);case 2:t.onEvent(Hl());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=sn(ln().mark((function n(r){var i,a;return ln().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Fl(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=jl(i,r.url)),t.onEvent(a||Hl());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");_l().handleOpenURL=function(){var e=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Kl=Wl;function Hl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Li("no-auth-event")}}function Gl(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Ql(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On();return!("file:"!==Gl()&&"ionic:"!==Gl()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function $l(){return Un()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Yl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On();return/Edge\/\d+/.test(e)}function Xl(){try{var e=self.localStorage,t=fs();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On();return $l()||Yl(e)}()||jn()}catch(n){return Jl()&&jn()}return!1}function Jl(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Zl(){return("http:"===Gl()||"https:"===Gl()||Mn()||Ql())&&!(Fn()||Ln())&&Xl()&&!Jl()}function ef(){return Ql()&&"undefined"!==typeof document}function tf(){return nf.apply(this,arguments)}function nf(){return(nf=sn(ln().mark((function e(){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ef()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rf={LOCAL:"local",NONE:"none",SESSION:"session"},af=ji,of="persistence";function uf(e,t){af(Object.values(rf).includes(t),e,"invalid-persistence-type"),Fn()?af(t!==rf.SESSION,e,"unsupported-persistence-type"):Ln()?af(t===rf.NONE,e,"unsupported-persistence-type"):Jl()?af(t===rf.NONE||t===rf.LOCAL&&jn(),e,"unsupported-persistence-type"):af(t===rf.NONE||Xl(),e,"unsupported-persistence-type")}function sf(e){return cf.apply(this,arguments)}function cf(){return cf=sn(ln().mark((function e(t){var n,r;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=lf(),r=La(of,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),cf.apply(this,arguments)}function lf(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var ff=ji,hf=function(){function e(){hn(this,e),this.browserResolver=qi(vl),this.cordovaResolver=qi(Kl),this.underlyingResolver=null,this._redirectPersistence=ss,this._completeRedirectFn=Lc}return pn(e,[{key:"_initialize",value:function(){var e=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=sn(ln().mark((function e(t,n,r,i){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=sn(ln().mark((function e(t,n,r,i){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return ef()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return ff(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=sn(ln().mark((function e(){var t;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,tf();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function df(e){return e.unwrap()}function pf(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new kf(e,function(e,t){var n,r=Zn(e),i=t;return ji(t.customData.operationType,r,"argument-error"),ji(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ju._fromError(r,i)}(e,t));else if(r){var i=vf(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function vf(e){var t=(e instanceof Vn?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Vn)&&"temporaryProof"in t&&"phoneNumber"in t)return ic.credentialFromResult(e);var n,r=t.providerId;if(!r||r===bi)return null;switch(r){case ki:n=qo;break;case gi:n=zo;break;case yi:n=Wo;break;case wi:n=Go;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Ko._create(r,u):Ao._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Bo(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Vn?n.credentialFromError(e):n.credentialFromResult(e)}function mf(e,t){return t.catch((function(t){throw t instanceof Vn&&pf(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,vf(t)),additionalUserInfo:Yu(e),user:bf.getOrCreate(r)}}))}function gf(e,t){return yf.apply(this,arguments)}function yf(){return yf=sn(ln().mark((function e(t,n){var r;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return mf(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),yf.apply(this,arguments)}var kf=function(){function e(t,n){hn(this,e),this.resolver=n,this.auth=t.wrapped()}return pn(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return mf(df(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),bf=function(){function e(t){hn(this,e),this._delegate=t,this.multiFactor=function(e){var t=Zn(e);return ns.has(t)||ns.set(t,ts._fromUser(t)),ns.get(t)}(t)}return pn(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mf(this.auth,pu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gf(this.auth,Js(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mf(this.auth,mc(this._delegate,t,hf)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sf(Xa(this.auth));case 2:return e.abrupt("return",Rc(this._delegate,t,hf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mf(this.auth,mu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return gf(this.auth,function(e,t,n){return ec.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return mf(this.auth,function(e,t,n){return vc.apply(this,arguments)}(this._delegate,e,hf))}},{key:"reauthenticateWithRedirect",value:function(){var e=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sf(Xa(this.auth));case 2:return e.abrupt("return",Ac(this._delegate,t,hf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Fu.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nu(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return zu(Zn(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return zu(Zn(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return rc.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Bu.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Uu.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();bf.USER_MAP=new WeakMap;var wf=ji,xf=function(){function e(t,n){if(hn(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;wf(r,"invalid-api-key",{appName:t.name}),wf(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?hf:void 0;this._delegate=n.initialize({options:{persistence:Sf(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Ai),this.linkUnderlyingAuth()}return pn(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?bf.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Za(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Eu.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Tu(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Iu.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mf(this._delegate,Nu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Mu.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Fo.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=sn(ln().mark((function e(){var t;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wf(Zl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Oc(this._delegate,hf);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",mf(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Xa(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=_f(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=_f(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Pu.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Su.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=sn(ln().mark((function e(t){var n,r;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:uf(this._delegate,t),e.t0=t,e.next=e.t0===rf.SESSION?4:e.t0===rf.LOCAL?6:e.t0===rf.NONE?11:13;break;case 4:return n=ss,e.abrupt("break",14);case 6:return e.next=8,qi(Rs)._isAvailable();case 8:return r=e.sent,n=r?Rs:os,e.abrupt("break",14);case 11:return n=Da,e.abrupt("break",14);case 13:return e.abrupt("return",Di("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return mf(this._delegate,function(e){return Jo.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return mf(this._delegate,hu(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return mf(this._delegate,function(e,t){return bu.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return mf(this._delegate,function(e,t,n){return hu(Zn(e),Uo.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return mf(this._delegate,function(e,t,n){return Ou.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return gf(this._delegate,function(e,t,n){return Xs.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wf(Zl(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",mf(this._delegate,dc(this._delegate,t,hf)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wf(Zl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,sf(this._delegate);case 3:return e.abrupt("return",Tc(this._delegate,t,hf));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Au.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function _f(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&bf.getOrCreate(e))},error:t,complete:n}}function Sf(e,t){var n=function(e,t){var n=lf();if(!n)return[];var r=La(of,e,t);switch(n.getItem(r)){case rf.NONE:return[Da];case rf.LOCAL:return[Rs,ss];case rf.SESSION:return[ss];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Rs)||n.push(Rs),"undefined"!==typeof window)for(var r=0,i=[os,ss];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Da)||n.push(Da),n}xf.Persistence=rf;var If=function(){function e(){hn(this,e),this.providerId="phone",this._delegate=new ic(df(hi.auth()))}return pn(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return ic.credential(e,t)}}]),e}();If.PHONE_SIGN_IN_METHOD=ic.PHONE_SIGN_IN_METHOD,If.PROVIDER_ID=ic.PROVIDER_ID;var Ef,Tf=ji,Cf=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hi.app();hn(this,e),Tf(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Qs(t,n,i.auth()),this.type=this._delegate.type}return pn(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Ef=hi).INTERNAL.registerComponent(new ar("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new xf(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:xi,PASSWORD_RESET:_i,RECOVER_EMAIL:Si,REVERT_SECOND_FACTOR_ADDITION:Ii,VERIFY_AND_CHANGE_EMAIL:Ei,VERIFY_EMAIL:Ti}},EmailAuthProvider:Uo,FacebookAuthProvider:zo,GithubAuthProvider:Wo,GoogleAuthProvider:qo,OAuthProvider:Bo,SAMLAuthProvider:Ho,PhoneAuthProvider:If,PhoneMultiFactorGenerator:yl,RecaptchaVerifier:Cf,TwitterAuthProvider:Go,Auth:xf,AuthCredential:no,Error:Vn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Ef.registerVersion("@firebase/auth-compat","0.2.12");var Af,Nf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Rf={},Pf=Pf||{},Of=Nf||self;function Df(){}function Lf(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Mf(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ff="closure_uid_"+(1e9*Math.random()>>>0),Uf=0;function jf(e,t,n){return e.call.apply(e.bind,arguments)}function Vf(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Bf(e,t,n){return(Bf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jf:Vf).apply(null,arguments)}function zf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function qf(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Wf(){this.s=this.s,this.o=this.o}var Kf={};Wf.prototype.s=!1,Wf.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Ff)&&e[Ff]||(e[Ff]=++Uf)}(this);delete Kf[e]}},Wf.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Hf=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Gf=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Qf(e){return Array.prototype.concat.apply([],arguments)}function $f(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Yf(e){return/^[\s\xa0]*$/.test(e)}var Xf,Jf=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Zf(e,t){return-1!=e.indexOf(t)}function eh(e,t){return e<t?-1:e>t?1:0}e:{var th=Of.navigator;if(th){var nh=th.userAgent;if(nh){Xf=nh;break e}}Xf=""}function rh(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ih(e){var t={};for(var n in e)t[n]=e[n];return t}var ah="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oh(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<ah.length;a++)n=ah[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function uh(e){return uh[" "](e),e}uh[" "]=Df;var sh,ch=Zf(Xf,"Opera"),lh=Zf(Xf,"Trident")||Zf(Xf,"MSIE"),fh=Zf(Xf,"Edge"),hh=fh||lh,dh=Zf(Xf,"Gecko")&&!(Zf(Xf.toLowerCase(),"webkit")&&!Zf(Xf,"Edge"))&&!(Zf(Xf,"Trident")||Zf(Xf,"MSIE"))&&!Zf(Xf,"Edge"),ph=Zf(Xf.toLowerCase(),"webkit")&&!Zf(Xf,"Edge");function vh(){var e=Of.document;return e?e.documentMode:void 0}e:{var mh="",gh=function(){var e=Xf;return dh?/rv:([^\);]+)(\)|;)/.exec(e):fh?/Edge\/([\d\.]+)/.exec(e):lh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ph?/WebKit\/(\S+)/.exec(e):ch?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(gh&&(mh=gh?gh[1]:""),lh){var yh=vh();if(null!=yh&&yh>parseFloat(mh)){sh=String(yh);break e}}sh=mh}var kh,bh={};function wh(){return function(e){var t=bh;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Jf(String(sh)).split("."),n=Jf("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=eh(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||eh(0==a[2].length,0==o[2].length)||eh(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Of.document&&lh){var xh=vh();kh=xh||(parseInt(sh,10)||void 0)}else kh=void 0;var _h=kh,Sh=function(){if(!Of.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Of.addEventListener("test",Df,t),Of.removeEventListener("test",Df,t)}catch(n){}return e}();function Ih(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Eh(e,t){if(Ih.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(dh){e:{try{uh(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Th[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Eh.Z.h.call(this)}}Ih.prototype.h=function(){this.defaultPrevented=!0},qf(Eh,Ih);var Th={2:"touch",3:"pen",4:"mouse"};Eh.prototype.h=function(){Eh.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ch="closure_listenable_"+(1e6*Math.random()|0),Ah=0;function Nh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ah,this.ca=this.fa=!1}function Rh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ph(e){this.src=e,this.g={},this.h=0}function Oh(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Hf(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Rh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Dh(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Ph.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Dh(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Nh(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Lh="closure_lm_"+(1e6*Math.random()|0),Mh={};function Fh(e,t,n,r,i){if(r&&r.once)return jh(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Fh(e,t[a],n,r,i);return null}return n=Hh(n),e&&e[Ch]?e.N(t,n,Mf(r)?!!r.capture:!!r,i):Uh(e,t,n,!1,r,i)}function Uh(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Mf(i)?!!i.capture:!!i,u=Wh(e);if(u||(e[Lh]=u=new Ph(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=qh;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Sh||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(zh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function jh(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)jh(e,t[a],n,r,i);return null}return n=Hh(n),e&&e[Ch]?e.O(t,n,Mf(r)?!!r.capture:!!r,i):Uh(e,t,n,!0,r,i)}function Vh(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Vh(e,t[a],n,r,i);else r=Mf(r)?!!r.capture:!!r,n=Hh(n),e&&e[Ch]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Dh(a=e.g[t],n,r,i))&&(Rh(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Wh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Dh(t,n,r,i)),(n=-1<e?t[e]:null)&&Bh(n))}function Bh(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Ch])Oh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(zh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Wh(t))?(Oh(n,e),0==n.h&&(n.src=null,t[Lh]=null)):Rh(e)}}}function zh(e){return e in Mh?Mh[e]:Mh[e]="on"+e}function qh(e,t){if(e.ca)e=!0;else{t=new Eh(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Bh(e),e=n.call(r,t)}return e}function Wh(e){return(e=e[Lh])instanceof Ph?e:null}var Kh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hh(e){return"function"===typeof e?e:(e[Kh]||(e[Kh]=function(t){return e.handleEvent(t)}),e[Kh])}function Gh(){Wf.call(this),this.i=new Ph(this),this.P=this,this.I=null}function Qh(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Ih(t,e);else if(t instanceof Ih)t.target=t.target||e;else{var i=t;oh(t=new Ih(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=$h(o,r,!0,t)&&i}if(i=$h(o=t.g=e,r,!0,t)&&i,i=$h(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=$h(o=t.g=n[a],r,!1,t)&&i}function $h(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Oh(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}qf(Gh,Wf),Gh.prototype[Ch]=!0,Gh.prototype.removeEventListener=function(e,t,n,r){Vh(this,e,t,n,r)},Gh.prototype.M=function(){if(Gh.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Rh(n[r]);delete t.g[e],t.h--}}this.I=null},Gh.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Gh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Yh=Of.JSON.stringify;function Xh(){var e=ad,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Jh,Zh=function(){function e(){hn(this,e),this.h=this.g=null}return pn(e,[{key:"add",value:function(e,t){var n=ed.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),ed=new(function(){function e(t,n){hn(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return pn(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new td}),(function(e){return e.reset()})),td=function(){function e(){hn(this,e),this.next=this.g=this.h=null}return pn(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function nd(e){Of.setTimeout((function(){throw e}),0)}function rd(e,t){Jh||function(){var e=Of.Promise.resolve(void 0);Jh=function(){e.then(od)}}(),id||(Jh(),id=!0),ad.add(e,t)}var id=!1,ad=new Zh;function od(){for(var e;e=Xh();){try{e.h.call(e.g)}catch(n){nd(n)}var t=ed;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}id=!1}function ud(e,t){Gh.call(this),this.h=e||1,this.g=t||Of,this.j=Bf(this.kb,this),this.l=Date.now()}function sd(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function cd(e,t,n){if("function"===typeof e)n&&(e=Bf(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Bf(e.handleEvent,e)}return 2147483647<Number(t)?-1:Of.setTimeout(e,t||0)}function ld(e){e.g=cd((function(){e.g=null,e.i&&(e.i=!1,ld(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}qf(ud,Gh),(Af=ud.prototype).da=!1,Af.S=null,Af.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Qh(this,"tick"),this.da&&(sd(this),this.start()))}},Af.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Af.M=function(){ud.Z.M.call(this),sd(this),delete this.g};var fd=function(e){yn(n,e);var t=_n(n);function n(e,r){var i;return hn(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return pn(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ld(this)}},{key:"M",value:function(){pi(kn(n.prototype),"M",this).call(this),this.g&&(Of.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Wf);function hd(e){Wf.call(this),this.h=e,this.g={}}qf(hd,Wf);var dd=[];function pd(e,t,n,r){Array.isArray(n)||(n&&(dd[0]=n.toString()),n=dd);for(var i=0;i<n.length;i++){var a=Fh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function vd(e){rh(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Bh(e)}),e),e.g={}}function md(){this.g=!0}function gd(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Yh(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}hd.prototype.M=function(){hd.Z.M.call(this),vd(this)},hd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},md.prototype.Aa=function(){this.g=!1},md.prototype.info=function(){};var yd={},kd=null;function bd(){return kd=kd||new Gh}function wd(e){Ih.call(this,yd.Ma,e)}function xd(e){var t=bd();Qh(t,new wd(t,e))}function _d(e,t){Ih.call(this,yd.STAT_EVENT,e),this.stat=t}function Sd(e){var t=bd();Qh(t,new _d(t,e))}function Id(e,t){Ih.call(this,yd.Na,e),this.size=t}function Ed(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Of.setTimeout((function(){e()}),t)}yd.Ma="serverreachability",qf(wd,Ih),yd.STAT_EVENT="statevent",qf(_d,Ih),yd.Na="timingevent",qf(Id,Ih);var Td={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Cd={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ad(){}function Nd(e){return e.h||(e.h=e.i())}function Rd(){}Ad.prototype.h=null;var Pd,Od={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Dd(){Ih.call(this,"d")}function Ld(){Ih.call(this,"c")}function Md(){}function Fd(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new hd(this),this.P=jd,e=hh?125:void 0,this.W=new ud(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ud}function Ud(){this.i=null,this.g="",this.h=!1}qf(Dd,Ih),qf(Ld,Ih),qf(Md,Ad),Md.prototype.g=function(){return new XMLHttpRequest},Md.prototype.i=function(){return{}},Pd=new Md;var jd=45e3,Vd={},Bd={};function zd(e,t,n){e.K=1,e.v=fp(ap(t)),e.s=n,e.U=!0,qd(e,null)}function qd(e,t){e.F=Date.now(),Gd(e),e.A=ap(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Sp(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Ud,e.g=Ev(e.l,n?t:null,!e.s),0<e.O&&(e.L=new fd(Bf(e.Ia,e,e.g),e.O)),pd(e.V,e.g,"readystatechange",e.gb),t=e.H?ih(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),xd(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Wd(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Kd(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Hd(e,n))==Bd){4==t&&(e.o=4,Sd(14),i=!1),gd(e.j,e.m,null,"[Incomplete Response]");break}if(r==Vd){e.o=4,Sd(15),gd(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}gd(e.j,e.m,r,null),Jd(e,r)}Wd(e)&&r!=Bd&&r!=Vd&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Sd(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),yv(t),t.L=!0,Sd(11))):(gd(e.j,e.m,n,"[Invalid Chunked Response]"),Xd(e),Yd(e))}function Hd(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Bd:(n=Number(t.substring(n,r)),isNaN(n)?Vd:(r+=1)+n>t.length?Bd:(t=t.substr(r,n),e.C=r+n,t))}function Gd(e){e.Y=Date.now()+e.P,Qd(e,e.P)}function Qd(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ed(Bf(e.eb,e),t)}function $d(e){e.B&&(Of.clearTimeout(e.B),e.B=null)}function Yd(e){0==e.l.G||e.I||wv(e.l,e)}function Xd(e){$d(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,sd(e.W),vd(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Jd(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Pp(n.i,e)))if(n.I=e.N,!e.J&&Pp(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;bv(n),cv(n)}gv(n),Sd(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ed(Bf(n.ab,n),6e3));if(1>=Rp(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else _v(n,11)}else if((e.J||n.g==e)&&bv(n),!Yf(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Zf(l,"spdy")||Zf(l,"quic")||Zf(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Op(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,lp(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Iv(r,r.H?r.la:null,r.W),d.J){Dp(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&($d(p),Gd(p)),r.g=d}else mv(r);0<n.l.length&&hv(n)}else"stop"!=a[0]&&"close"!=a[0]||_v(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?_v(n,7):sv(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}xd(4)}catch(a){}}function Zd(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Lf(e)||"string"===typeof e)Gf(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Lf(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Lf(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function ep(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ep)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function tp(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];np(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)np(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function np(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Af=Fd.prototype).setTimeout=function(e){this.P=e},Af.gb=function(e){e=e.target;var t=this.L;t&&3==rv(e)?t.l():this.Ia(e)},Af.Ia=function(e){try{if(e==this.g)e:{var t=rv(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||hh||this.g&&(this.h.h||this.g.ga()||iv(this.g)))){this.I||4!=t||7==n||xd(8==n||0>=r?3:2),$d(this);var i=this.g.ba();this.N=i;t:if(Wd(this)){var a=iv(this.g);e="";var o=a.length,u=4==rv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Xd(this),Yd(this);var s="";break t}this.h.i=new Of.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yf(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Sd(12),Xd(this),Yd(this);break e}gd(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Jd(this,i)}this.U?(Kd(this,t,s),hh&&this.i&&3==t&&(pd(this.V,this.W,"tick",this.fb),this.W.start())):(gd(this.j,this.m,s,null),Jd(this,s)),4==t&&Xd(this),this.i&&!this.I&&(4==t?wv(this.l,this):(this.i=!1,Gd(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Sd(12)):(this.o=0,Sd(13)),Xd(this),Yd(this)}}}catch(t){}},Af.fb=function(){if(this.g){var e=rv(this.g),t=this.g.ga();this.C<t.length&&($d(this),Kd(this,e,t),this.i&&4!=e&&Gd(this))}},Af.cancel=function(){this.I=!0,Xd(this)},Af.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(xd(3),Sd(17)),Xd(this),this.o=2,Yd(this)):Qd(this,this.Y-e)},(Af=ep.prototype).R=function(){tp(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Af.T=function(){return tp(this),this.g.concat()},Af.get=function(e,t){return np(this.h,e)?this.h[e]:t},Af.set=function(e,t){np(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Af.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var rp=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ip(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ip){this.g=void 0!==t?t:e.g,op(this,e.j),this.s=e.s,up(this,e.i),sp(this,e.m),this.l=e.l,t=e.h;var n=new bp;n.i=t.i,t.g&&(n.g=new ep(t.g),n.h=t.h),cp(this,n),this.o=e.o}else e&&(n=String(e).match(rp))?(this.g=!!t,op(this,n[1]||"",!0),this.s=hp(n[2]||""),up(this,n[3]||"",!0),sp(this,n[4]),this.l=hp(n[5]||"",!0),cp(this,n[6]||"",!0),this.o=hp(n[7]||"")):(this.g=!!t,this.h=new bp(null,this.g))}function ap(e){return new ip(e)}function op(e,t,n){e.j=n?hp(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function up(e,t,n){e.i=n?hp(t,!0):t}function sp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function cp(e,t,n){t instanceof bp?(e.h=t,function(e,t){t&&!e.j&&(wp(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(xp(this,t),Sp(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=dp(t,yp)),e.h=new bp(t,e.g))}function lp(e,t,n){e.h.set(t,n)}function fp(e){return lp(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function hp(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function dp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pp),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pp(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ip.prototype.toString=function(){var e=[],t=this.j;t&&e.push(dp(t,vp,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(dp(t,vp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(dp(n,"/"==n.charAt(0)?gp:mp,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",dp(n,kp)),e.join("")};var vp=/[#\/\?@]/g,mp=/[#\?:]/g,gp=/[#\?]/g,yp=/[#\?@]/g,kp=/#/g;function bp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wp(e){e.g||(e.g=new ep,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function xp(e,t){wp(e),t=Ip(e,t),np(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,np((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&tp(e)))}function _p(e,t){return wp(e),t=Ip(e,t),np(e.g.h,t)}function Sp(e,t,n){xp(e,t),0<n.length&&(e.i=null,e.g.set(Ip(e,t),$f(n)),e.h+=n.length)}function Ip(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Af=bp.prototype).add=function(e,t){wp(this),this.i=null,e=Ip(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Af.forEach=function(e,t){wp(this),this.g.forEach((function(n,r){Gf(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Af.T=function(){wp(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Af.R=function(e){wp(this);var t=[];if("string"===typeof e)_p(this,e)&&(t=Qf(t,this.g.get(Ip(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Qf(t,e[n])}return t},Af.set=function(e,t){return wp(this),this.i=null,_p(this,e=Ip(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Af.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Af.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Ep=pn((function e(t,n){hn(this,e),this.h=t,this.g=n}));function Tp(e){this.l=e||Ap,Of.PerformanceNavigationTiming?e=0<(e=Of.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Of.g&&Of.g.Ea&&Of.g.Ea()&&Of.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Cp,Ap=10;function Np(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Rp(e){return e.h?1:e.g?e.g.size:0}function Pp(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Op(e,t){e.g?e.g.add(t):e.h=t}function Dp(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Lp(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=vn(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return $f(e.i)}function Mp(){}function Fp(){this.g=new Mp}function Up(e,t,n){var r=n||"";try{Zd(e,(function(e,n){var i=e;Mf(e)&&(i=Yh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function jp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Vp(e){this.l=e.$b||null,this.j=e.ib||!1}function Bp(e,t){Gh.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=zp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Tp.prototype.cancel=function(){if(this.i=Lp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=vn(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Mp.prototype.stringify=function(e){return Of.JSON.stringify(e,void 0)},Mp.prototype.parse=function(e){return Of.JSON.parse(e,void 0)},qf(Vp,Ad),Vp.prototype.g=function(){return new Bp(this.l,this.j)},Vp.prototype.i=(Cp={},function(){return Cp}),qf(Bp,Gh);var zp=0;function qp(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Wp(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Kp(e)}function Kp(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Af=Bp.prototype).open=function(e,t){if(this.readyState!=zp)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Kp(this)},Af.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Of).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Af.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wp(this)),this.readyState=zp},Af.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Kp(this)),this.g&&(this.readyState=3,Kp(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Of.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qp(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Af.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Wp(this):Kp(this),3==this.readyState&&qp(this)}},Af.Ua=function(e){this.g&&(this.response=this.responseText=e,Wp(this))},Af.Ta=function(e){this.g&&(this.response=e,Wp(this))},Af.ha=function(){this.g&&Wp(this)},Af.setRequestHeader=function(e,t){this.v.append(e,t)},Af.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Af.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Bp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Hp=Of.JSON.parse;function Gp(e){Gh.call(this),this.headers=new ep,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Qp,this.K=this.L=!1}qf(Gp,Gh);var Qp="",$p=/^https?$/i,Yp=["POST","PUT"];function Xp(e){return"content-type"==e.toLowerCase()}function Jp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Zp(e),tv(e)}function Zp(e){e.D||(e.D=!0,Qh(e,"complete"),Qh(e,"error"))}function ev(e){if(e.h&&"undefined"!=typeof Pf&&(!e.C[1]||4!=rv(e)||2!=e.ba()))if(e.v&&4==rv(e))cd(e.Fa,0,e);else if(Qh(e,"readystatechange"),4==rv(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(rp)[1]||null;if(!a&&Of.self&&Of.self.location){var o=Of.self.location.protocol;a=o.substr(0,o.length-1)}i=!$p.test(a?a.toLowerCase():"")}t=i}if(t)Qh(e,"complete"),Qh(e,"success");else{e.m=6;try{var u=2<rv(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Zp(e)}}finally{tv(e)}}}function tv(e,t){if(e.g){nv(e);var n=e.g,r=e.C[0]?Df:null;e.g=null,e.C=null,t||Qh(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function nv(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Of.clearTimeout(e.A),e.A=null)}function rv(e){return e.g?e.g.readyState:0}function iv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Qp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Ke){return null}}function av(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return rh(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):lp(e,t,n))}function ov(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function uv(e){this.za=0,this.l=[],this.h=new md,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ov("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ov("baseRetryDelayMs",5e3,e),this.$a=ov("retryDelaySeedMs",1e4,e),this.Ya=ov("forwardChannelMaxRetries",2,e),this.ra=ov("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Tp(e&&e.concurrentRequestLimit),this.Ca=new Fp,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function sv(e){if(lv(e),3==e.G){var t=e.V++,n=ap(e.F);lp(n,"SID",e.J),lp(n,"RID",t),lp(n,"TYPE","terminate"),pv(e,n),(t=new Fd(e,e.h,t,void 0)).K=2,t.v=fp(ap(n)),n=!1,Of.navigator&&Of.navigator.sendBeacon&&(n=Of.navigator.sendBeacon(t.v.toString(),"")),!n&&Of.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ev(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Gd(t)}Sv(e)}function cv(e){e.g&&(yv(e),e.g.cancel(),e.g=null)}function lv(e){cv(e),e.u&&(Of.clearTimeout(e.u),e.u=null),bv(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Of.clearTimeout(e.m),e.m=null)}function fv(e,t){e.l.push(new Ep(e.Za++,t)),3==e.G&&hv(e)}function hv(e){Np(e.i)||e.m||(e.m=!0,rd(e.Ha,e),e.C=0)}function dv(e,t){var n;n=t?t.m:e.V++;var r=ap(e.F);lp(r,"SID",e.J),lp(r,"RID",n),lp(r,"AID",e.U),pv(e,r),e.o&&e.s&&av(r,e.o,e.s),n=new Fd(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=vv(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Op(e.i,n),zd(n,r,t)}function pv(e,t){e.j&&Zd({},(function(e,n){lp(t,n,e)}))}function vv(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Bf(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Up(l,o,"req"+c+"_")}catch(at){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function mv(e){e.g||e.u||(e.Y=1,rd(e.Ga,e),e.A=0)}function gv(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Ed(Bf(e.Ga,e),xv(e,e.A)),e.A++,!0)}function yv(e){null!=e.B&&(Of.clearTimeout(e.B),e.B=null)}function kv(e){e.g=new Fd(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=ap(e.oa);lp(t,"RID","rpc"),lp(t,"SID",e.J),lp(t,"CI",e.N?"0":"1"),lp(t,"AID",e.U),pv(e,t),lp(t,"TYPE","xmlhttp"),e.o&&e.s&&av(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=fp(ap(t)),n.s=null,n.U=!0,qd(n,e)}function bv(e){null!=e.v&&(Of.clearTimeout(e.v),e.v=null)}function wv(e,t){var n=null;if(e.g==t){bv(e),yv(e),e.g=null;var r=2}else{if(!Pp(e.i,t))return;n=t.D,Dp(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Qh(r=bd(),new Id(r,n,t,i)),hv(e)}else mv(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Rp(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Ed(Bf(e.Ha,e,t),xv(e,e.C)),e.C++,!0))}(e,t)||2==r&&gv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:_v(e,5);break;case 4:_v(e,10);break;case 3:_v(e,6);break;default:_v(e,2)}}function xv(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function _v(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Bf(e.jb,e);n||(n=new ip("//www.google.com/images/cleardot.gif"),Of.location&&"http"==Of.location.protocol||op(n,"https"),fp(n)),function(e,t){var n=new md;if(Of.Image){var r=new Image;r.onload=zf(jp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=zf(jp,n,r,"TestLoadImage: error",!1,t),r.onabort=zf(jp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=zf(jp,n,r,"TestLoadImage: timeout",!1,t),Of.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Sd(2);e.G=0,e.j&&e.j.va(t),Sv(e),lv(e)}function Sv(e){e.G=0,e.I=-1,e.j&&(0==Lp(e.i).length&&0==e.l.length||(e.i.i.length=0,$f(e.l),e.l.length=0),e.j.ua())}function Iv(e,t,n){var r=function(e){return e instanceof ip?ap(e):new ip(e,void 0)}(n);if(""!=r.i)t&&up(r,t+"."+r.i),sp(r,r.m);else{var i=Of.location;r=function(e,t,n,r){var i=new ip(null,void 0);return e&&op(i,e),t&&up(i,t),n&&sp(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&rh(e.aa,(function(e,t){lp(r,t,e)})),t=e.D,n=e.sa,t&&n&&lp(r,t,n),lp(r,"VER",e.ma),pv(e,r),r}function Ev(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Gp(new Vp({ib:!0})):new Gp(e.qa)).L=e.H,t}function Tv(){}function Cv(){if(lh&&!(10<=Number(_h)))throw Error("Environmental error: no available transport.")}function Av(e,t){Gh.call(this),this.g=new uv(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Yf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Yf(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Pv(this)}function Nv(e){Dd.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Rv(){Ld.call(this),this.status=1}function Pv(e){this.g=e}(Af=Gp.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Pd.g(),this.C=this.u?Nd(this.u):Nd(Pd),this.g.onreadystatechange=Bf(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Jp(this,a)}e=n||"";var i=new ep(this.headers);r&&Zd(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Xp,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Of.FormData&&e instanceof Of.FormData,!(0<=Hf(Yp,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{nv(this),0<this.B&&((this.K=function(e){return lh&&wh()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bf(this.pa,this)):this.A=cd(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Jp(this,a)}},Af.pa=function(){"undefined"!=typeof Pf&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qh(this,"timeout"),this.abort(8))},Af.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Qh(this,"complete"),Qh(this,"abort"),tv(this))},Af.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tv(this,!0)),Gp.Z.M.call(this)},Af.Fa=function(){this.s||(this.F||this.v||this.l?ev(this):this.cb())},Af.cb=function(){ev(this)},Af.ba=function(){try{return 2<rv(this)?this.g.status:-1}catch(Cp){return-1}},Af.ga=function(){try{return this.g?this.g.responseText:""}catch(Cp){return""}},Af.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Hp(t)}},Af.Da=function(){return this.m},Af.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Af=uv.prototype).ma=8,Af.G=1,Af.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(Ke){}},Af.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Fd(this,this.h,e,void 0),n=this.s;if(this.P&&(n?oh(n=ih(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=vv(this,t,r),lp(i=ap(this.F),"RID",e),lp(i,"CVER",22),this.D&&lp(i,"X-HTTP-Session-Id",this.D),pv(this,i),this.o&&n&&av(i,this.o,n),Op(this.i,t),this.Ra&&lp(i,"TYPE","init"),this.ja?(lp(i,"$req",r),lp(i,"SID","null"),t.$=!0,zd(t,i,null)):zd(t,i,r),this.G=2}}else 3==this.G&&(e?dv(this,e):0==this.l.length||Np(this.i)||dv(this))},Af.Ga=function(){if(this.u=null,kv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Ed(Bf(this.bb,this),e)}},Af.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Sd(10),cv(this),kv(this))},Af.ab=function(){null!=this.v&&(this.v=null,cv(this),gv(this),Sd(19))},Af.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Sd(2)):(this.h.info("Failed to ping google.com"),Sd(1))},(Af=Tv.prototype).xa=function(){},Af.wa=function(){},Af.va=function(){},Af.ua=function(){},Af.Oa=function(){},Cv.prototype.g=function(e,t){return new Av(e,t)},qf(Av,Gh),Av.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),rd(Bf(e.hb,e,t))),Sd(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Iv(e,null,e.W),hv(e)},Av.prototype.close=function(){sv(this.g)},Av.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,fv(this.g,t)}else this.v?((t={}).__data__=Yh(e),fv(this.g,t)):fv(this.g,e)},Av.prototype.M=function(){this.g.j=null,delete this.j,sv(this.g),delete this.g,Av.Z.M.call(this)},qf(Nv,Dd),qf(Rv,Ld),qf(Pv,Tv),Pv.prototype.xa=function(){Qh(this.g,"a")},Pv.prototype.wa=function(e){Qh(this.g,new Nv(e))},Pv.prototype.va=function(e){Qh(this.g,new Rv(e))},Pv.prototype.ua=function(){Qh(this.g,"b")},Cv.prototype.createWebChannel=Cv.prototype.g,Av.prototype.send=Av.prototype.u,Av.prototype.open=Av.prototype.m,Av.prototype.close=Av.prototype.close,Td.NO_ERROR=0,Td.TIMEOUT=8,Td.HTTP_ERROR=6,Cd.COMPLETE="complete",Rd.EventType=Od,Od.OPEN="a",Od.CLOSE="b",Od.ERROR="c",Od.MESSAGE="d",Gh.prototype.listen=Gh.prototype.N,Gp.prototype.listenOnce=Gp.prototype.O,Gp.prototype.getLastError=Gp.prototype.La,Gp.prototype.getLastErrorCode=Gp.prototype.Da,Gp.prototype.getStatus=Gp.prototype.ba,Gp.prototype.getResponseJson=Gp.prototype.Qa,Gp.prototype.getResponseText=Gp.prototype.ga,Gp.prototype.send=Gp.prototype.ea;var Ov=Rf.createWebChannelTransport=function(){return new Cv},Dv=Rf.getStatEventTarget=function(){return bd()},Lv=Rf.ErrorCode=Td,Mv=Rf.EventType=Cd,Fv=Rf.Event=yd,Uv=Rf.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},jv=Rf.FetchXmlHttpFactory=Vp,Vv=Rf.WebChannel=Rd,Bv=Rf.XhrIo=Gp,zv="@firebase/firestore",qv=function(){function e(t){hn(this,e),this.uid=t}return pn(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();qv.UNAUTHENTICATED=new qv(null),qv.GOOGLE_CREDENTIALS=new qv("google-credentials-uid"),qv.FIRST_PARTY=new qv("first-party-uid"),qv.MOCK_USER=new qv("mock-user");var Wv="9.6.11",Kv=new yr("@firebase/firestore");function Hv(){return Kv.logLevel}function Gv(e){if(Kv.logLevel<=cr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Yv);Kv.debug.apply(Kv,["Firestore (".concat(Wv,"): ").concat(e)].concat(te(i)))}}function Qv(e){if(Kv.logLevel<=cr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Yv);Kv.error.apply(Kv,["Firestore (".concat(Wv,"): ").concat(e)].concat(te(i)))}}function $v(e){if(Kv.logLevel<=cr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Yv);Kv.warn.apply(Kv,["Firestore (".concat(Wv,"): ").concat(e)].concat(te(i)))}}function Yv(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Xv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Wv,") INTERNAL ASSERTION FAILED: ")+e;throw Qv(t),new Error(t)}function Jv(e,t){e||Xv()}function Zv(e,t){return e}var em={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},tm=function(e){yn(n,e);var t=_n(n);function n(e,r){var i;return hn(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return pn(n)}(Vn),nm=pn((function e(){var t=this;hn(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),rm=pn((function e(t,n){hn(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),im=function(){function e(){hn(this,e)}return pn(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(qv.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),am=function(){function e(t){hn(this,e),this.token=t,this.changeListener=null}return pn(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),om=function(){function e(t){hn(this,e),this.t=t,this.currentUser=qv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return pn(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new nm;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new nm,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(sn(ln().mark((function e(){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Gv("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Gv("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new nm)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Gv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Jv("string"==typeof n.accessToken),new rm(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Jv(null===e||"string"==typeof e),new qv(e)}}]),e}(),um=pn((function e(t,n,r){hn(this,e),this.type="FirstParty",this.user=qv.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),sm=function(){function e(t,n,r){hn(this,e),this.h=t,this.l=n,this.m=r}return pn(e,[{key:"getToken",value:function(){return Promise.resolve(new um(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(qv.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),cm=pn((function e(t){hn(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),lm=function(){function e(t){hn(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return pn(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Gv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Gv("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Gv("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Gv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Jv("string"==typeof t.token),e.p=t.token,new cm(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),fm=function(){function e(t,n){var r=this;hn(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return pn(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function hm(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}fm.A=-1;var dm=function(){function e(){hn(this,e)}return pn(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=hm(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function pm(e,t){return e<t?-1:e>t?1:0}function vm(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function mm(e){return e+"\0"}var gm=function(){function e(t,n){if(hn(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new tm(em.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new tm(em.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new tm(em.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new tm(em.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return pn(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?pm(this.nanoseconds,e.nanoseconds):pm(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),ym=function(){function e(t){hn(this,e),this.timestamp=t}return pn(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new gm(0,0))}},{key:"max",value:function(){return new e(new gm(253402300799,999999999))}}]),e}();function km(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function bm(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function wm(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var xm=function(){function e(t,n,r){hn(this,e),void 0===n?n=0:n>t.length&&Xv(),void 0===r?r=t.length-n:r>t.length-n&&Xv(),this.segments=t,this.offset=n,this.len=r}return pn(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),_m=function(e){yn(n,e);var t=_n(n);function n(){return hn(this,n),t.apply(this,arguments)}return pn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new tm(em.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,te(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(xm),Sm=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Im=function(e){yn(n,e);var t=_n(n);function n(){return hn(this,n),t.apply(this,arguments)}return pn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Sm.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new tm(em.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new tm(em.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new tm(em.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new tm(em.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(xm),Em=function(){function e(t){hn(this,e),this.fields=t,t.sort(Im.comparator)}return pn(e,[{key:"covers",value:function(e){var t,n=vn(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return vm(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Tm=function(e){function t(e){hn(this,t),this.binaryString=e}return pn(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return pm(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Tm.EMPTY_BYTE_STRING=new Tm("");var Cm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Am(e){if(Jv(!!e),"string"==typeof e){var t=0,n=Cm.exec(e);if(Jv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Nm(e.seconds),nanos:Nm(e.nanos)}}function Nm(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Rm(e){return"string"==typeof e?Tm.fromBase64String(e):Tm.fromUint8Array(e)}function Pm(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Om(e){var t=e.mapValue.fields.__previous_value__;return Pm(t)?Om(t):t}function Dm(e){var t=Am(e.mapValue.fields.__local_write_time__.timestampValue);return new gm(t.seconds,t.nanos)}var Lm=pn((function e(t,n,r,i,a,o,u,s){hn(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Mm=function(){function e(t,n){hn(this,e),this.projectId=t,this.database=n||"(default)"}return pn(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Fm(e){return null==e}function Um(e){return 0===e&&1/e==-1/0}function jm(e){return"number"==typeof e&&Number.isInteger(e)&&!Um(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Vm=function(){function e(t){hn(this,e),this.path=t}return pn(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===_m.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(_m.fromString(t))}},{key:"fromName",value:function(t){return new e(_m.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(_m.emptyPath())}},{key:"comparator",value:function(e,t){return _m.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new _m(t.slice()))}}]),e}(),Bm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zm={nullValue:"NULL_VALUE"};function qm(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Pm(e)?4:rg(e)?9:10:Xv()}function Wm(e,t){if(e===t)return!0;var n=qm(e);if(n!==qm(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Dm(e).isEqual(Dm(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Am(e.timestampValue),r=Am(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Rm(e.bytesValue).isEqual(Rm(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Nm(e.geoPointValue.latitude)===Nm(t.geoPointValue.latitude)&&Nm(e.geoPointValue.longitude)===Nm(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Nm(e.integerValue)===Nm(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Nm(e.doubleValue),r=Nm(t.doubleValue);return n===r?Um(n)===Um(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return vm(e.arrayValue.values||[],t.arrayValue.values||[],Wm);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(km(n)!==km(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Wm(n[i],r[i])))return!1;return!0}(e,t);default:return Xv()}}function Km(e,t){return void 0!==(e.values||[]).find((function(e){return Wm(e,t)}))}function Hm(e,t){if(e===t)return 0;var n=qm(e),r=qm(t);if(n!==r)return pm(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pm(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Nm(e.integerValue||e.doubleValue),r=Nm(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Gm(e.timestampValue,t.timestampValue);case 4:return Gm(Dm(e),Dm(t));case 5:return pm(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Rm(e),r=Rm(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=pm(n[i],r[i]);if(0!==a)return a}return pm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=pm(Nm(e.latitude),Nm(t.latitude));return 0!==n?n:pm(Nm(e.longitude),Nm(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Hm(n[i],r[i]);if(a)return a}return pm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=pm(r[o],a[o]);if(0!==u)return u;var s=Hm(n[r[o]],i[a[o]]);if(0!==s)return s}return pm(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Xv()}}function Gm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return pm(e,t);var n=Am(e),r=Am(t),i=pm(n.seconds,r.seconds);return 0!==i?i:pm(n.nanos,r.nanos)}function Qm(e){return $m(e)}function $m(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Am(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Rm(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Vm.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=vn(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=$m(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=vn(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat($m(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Xv();var t,n}function Ym(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Xm(e){return!!e&&"integerValue"in e}function Jm(e){return!!e&&"arrayValue"in e}function Zm(e){return!!e&&"nullValue"in e}function eg(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function tg(e){return!!e&&"mapValue"in e}function ng(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return bm(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=ng(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ng(e.arrayValue.values[r]);return n}return Object.assign({},e)}function rg(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function ig(e){return"nullValue"in e?zm:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Ym(Mm.empty(),Vm.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Xv()}function ag(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Ym(Mm.empty(),Vm.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Bm:Xv()}function og(e,t){return void 0===e?t:void 0===t||Hm(e,t)>0?e:t}function ug(e,t){return void 0===e?t:void 0===t||Hm(e,t)<0?e:t}var sg=function(){function e(t){hn(this,e),this.value=t}return pn(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!tg(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ng(t)}},{key:"setAll",value:function(e){var t=this,n=Im.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=ng(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());tg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Wm(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];tg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){bm(t,(function(t,n){return e[t]=n}));var r,i=vn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(ng(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function cg(e){var t=[];return bm(e.fields,(function(e,n){var r=new Im([e]);if(tg(n)){var i=cg(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=vn(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Em(t)}var lg=function(){function e(t,n,r,i,a,o){hn(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return pn(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=sg.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=sg.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,ym.min(),ym.min(),sg.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,ym.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,ym.min(),sg.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,ym.min(),sg.empty(),2)}}]),e}(),fg=pn((function e(t,n,r,i){hn(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function hg(e){return e.fields.find((function(e){return 2===e.kind}))}function dg(e){return e.fields.filter((function(e){return 2!==e.kind}))}fg.UNKNOWN_ID=-1;var pg=pn((function e(t,n){hn(this,e),this.fieldPath=t,this.kind=n})),vg=function(){function e(t,n){hn(this,e),this.sequenceNumber=t,this.offset=n}return pn(e,null,[{key:"empty",value:function(){return new e(0,yg.min())}}]),e}();function mg(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ym.fromTimestamp(1e9===r?new gm(n+1,0):new gm(n,r));return new yg(i,Vm.empty(),t)}function gg(e){return new yg(e.readTime,e.key,-1)}var yg=function(){function e(t,n,r){hn(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return pn(e,null,[{key:"min",value:function(){return new e(ym.min(),Vm.empty(),-1)}},{key:"max",value:function(){return new e(ym.max(),Vm.empty(),-1)}}]),e}();function kg(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Vm.comparator(e.documentKey,t.documentKey))?n:pm(e.largestBatchId,t.largestBatchId)}var bg=pn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;hn(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function wg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new bg(e,t,n,r,i,a,o)}function xg(e){var t=Zv(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Qm(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Fm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Qm(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Qm(e)})).join(",")),t.P=n}return t.P}function _g(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!jg(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Wm(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Bg(e.startAt,t.startAt)&&Bg(e.endAt,t.endAt)}function Sg(e){return Vm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Ig(e,t){return e.filters.filter((function(e){return e instanceof Cg&&e.field.isEqual(t)}))}function Eg(e,t,n){var r,i,a=!0,o=vn(Ig(e,t));try{for(o.s();!(i=o.n()).done;){var u=i.value,s=void 0,c=!0;switch(u.op){case"<":case"<=":s=ig(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=zm}og(r,s)===s&&(r=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];og(r,f)===f&&(r=f,a=n.inclusive);break}return{value:r,inclusive:a}}function Tg(e,t,n){var r,i,a=!0,o=vn(Ig(e,t));try{for(o.s();!(i=o.n()).done;){var u=i.value,s=void 0,c=!0;switch(u.op){case">=":case">":s=ag(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Bm}ug(r,s)===s&&(r=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];ug(r,f)===f&&(r=f,a=n.inclusive);break}return{value:r,inclusive:a}}var Cg=function(e){yn(n,e);var t=_n(n);function n(e,r,i){var a;return hn(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return pn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Hm(t,this.value)):null!==t&&qm(this.value)===qm(t)&&this.v(Hm(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xv()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Ag(e,t,r):"array-contains"===t?new Og(e,r):"in"===t?new Dg(e,r):"not-in"===t?new Lg(e,r):"array-contains-any"===t?new Mg(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new Ng(e,n):new Rg(e,n)}}]),n}(function(){return pn((function e(){hn(this,e)}))}()),Ag=function(e){yn(n,e);var t=_n(n);function n(e,r,i){var a;return hn(this,n),(a=t.call(this,e,r,i)).key=Vm.fromName(i.referenceValue),a}return pn(n,[{key:"matches",value:function(e){var t=Vm.comparator(e.key,this.key);return this.v(t)}}]),n}(Cg),Ng=function(e){yn(n,e);var t=_n(n);function n(e,r){var i;return hn(this,n),(i=t.call(this,e,"in",r)).keys=Pg("in",r),i}return pn(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Cg),Rg=function(e){yn(n,e);var t=_n(n);function n(e,r){var i;return hn(this,n),(i=t.call(this,e,"not-in",r)).keys=Pg("not-in",r),i}return pn(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Cg);function Pg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Vm.fromName(e.referenceValue)}))}var Og=function(e){yn(n,e);var t=_n(n);function n(e,r){return hn(this,n),t.call(this,e,"array-contains",r)}return pn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Jm(t)&&Km(t.arrayValue,this.value)}}]),n}(Cg),Dg=function(e){yn(n,e);var t=_n(n);function n(e,r){return hn(this,n),t.call(this,e,"in",r)}return pn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Km(this.value.arrayValue,t)}}]),n}(Cg),Lg=function(e){yn(n,e);var t=_n(n);function n(e,r){return hn(this,n),t.call(this,e,"not-in",r)}return pn(n,[{key:"matches",value:function(e){if(Km(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Km(this.value.arrayValue,t)}}]),n}(Cg),Mg=function(e){yn(n,e);var t=_n(n);function n(e,r){return hn(this,n),t.call(this,e,"array-contains-any",r)}return pn(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Jm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Km(t.value.arrayValue,e)}))}}]),n}(Cg),Fg=pn((function e(t,n){hn(this,e),this.position=t,this.inclusive=n})),Ug=pn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";hn(this,e),this.field=t,this.dir=n}));function jg(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Vg(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Vm.comparator(Vm.fromName(o.referenceValue),n.key):Hm(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Bg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Wm(e.position[n],t.position[n]))return!1;return!0}var zg=pn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;hn(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function qg(e,t,n,r,i,a,o,u){return new zg(e,t,n,r,i,a,o,u)}function Wg(e){return new zg(e)}function Kg(e){return!Fm(e.limit)&&"F"===e.limitType}function Hg(e){return!Fm(e.limit)&&"L"===e.limitType}function Gg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Qg(e){var t,n=vn(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function $g(e){return null!==e.collectionGroup}function Yg(e){var t=Zv(e);if(null===t.D){t.D=[];var n=Qg(t),r=Gg(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Ug(n)),t.D.push(new Ug(Im.keyField(),"asc"));else{var i,a=!1,o=vn(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Ug(Im.keyField(),s))}}}return t.D}function Xg(e){var t=Zv(e);if(!t.C)if("F"===t.limitType)t.C=wg(t.path,t.collectionGroup,Yg(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=vn(Yg(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Ug(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Fg(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new Fg(t.startAt.position,!t.startAt.inclusive):null;t.C=wg(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function Jg(e,t,n){return new zg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Zg(e,t){return _g(Xg(e),Xg(t))&&e.limitType===t.limitType}function ey(e){return"".concat(xg(Xg(e)),"|lt:").concat(e.limitType)}function ty(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Qm(t.value));var t})).join(", "),"]")),Fm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Qm(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Qm(e)})).join(",")),"Target(".concat(t,")")}(Xg(e)),"; limitType=").concat(e.limitType,")")}function ny(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Vm.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=vn(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=vn(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Vg(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Yg(e),t))&&!(e.endAt&&!function(e,t,n){var r=Vg(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Yg(e),t))}(e,t)}function ry(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function iy(e){return function(t,n){var r,i=!1,a=vn(Yg(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=ay(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function ay(e,t,n){var r=e.field.isKeyField()?Vm.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Hm(r,i):Xv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Xv()}}function oy(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Um(t)?"-0":t}}function uy(e){return{integerValue:""+e}}function sy(e,t){return jm(t)?uy(t):oy(e,t)}var cy=pn((function e(){hn(this,e),this._=void 0}));function ly(e,t,n){return e instanceof dy?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof py?vy(e,t):e instanceof my?gy(e,t):function(e,t){var n=hy(e,t),r=ky(n)+ky(e.k);return Xm(n)&&Xm(e.k)?uy(r):oy(e.M,r)}(e,t)}function fy(e,t,n){return e instanceof py?vy(e,t):e instanceof my?gy(e,t):n}function hy(e,t){return e instanceof yy?Xm(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var dy=function(e){yn(n,e);var t=_n(n);function n(){return hn(this,n),t.apply(this,arguments)}return pn(n)}(cy),py=function(e){yn(n,e);var t=_n(n);function n(e){var r;return hn(this,n),(r=t.call(this)).elements=e,r}return pn(n)}(cy);function vy(e,t){var n,r=by(t),i=vn(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Wm(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var my=function(e){yn(n,e);var t=_n(n);function n(e){var r;return hn(this,n),(r=t.call(this)).elements=e,r}return pn(n)}(cy);function gy(e,t){var n,r=by(t),i=vn(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Wm(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var yy=function(e){yn(n,e);var t=_n(n);function n(e,r){var i;return hn(this,n),(i=t.call(this)).M=e,i.k=r,i}return pn(n)}(cy);function ky(e){return Nm(e.integerValue||e.doubleValue)}function by(e){return Jm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var wy=pn((function e(t,n){hn(this,e),this.field=t,this.transform=n}));var xy=pn((function e(t,n){hn(this,e),this.version=t,this.transformResults=n})),_y=function(){function e(t,n){hn(this,e),this.updateTime=t,this.exists=n}return pn(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Sy(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Iy=pn((function e(){hn(this,e)}));function Ey(e,t,n){e instanceof Ry?function(e,t,n){var r=e.value.clone(),i=Dy(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Py?function(e,t,n){if(Sy(e.precondition,t)){var r=Dy(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Oy(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ty(e,t,n){e instanceof Ry?function(e,t,n){if(Sy(e.precondition,t)){var r=e.value.clone(),i=Ly(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Ny(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Py?function(e,t,n){if(Sy(e.precondition,t)){var r=Ly(e.fieldTransforms,n,t),i=t.data;i.setAll(Oy(e)),i.setAll(r),t.convertToFoundDocument(Ny(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Sy(e.precondition,t)&&t.convertToNoDocument(ym.min())}(e,t)}function Cy(e,t){var n,r=null,i=vn(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=hy(a.transform,o||null);null!=u&&(null==r&&(r=sg.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Ay(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&vm(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof py&&t instanceof py||e instanceof my&&t instanceof my?vm(e.elements,t.elements,Wm):e instanceof yy&&t instanceof yy?Wm(e.k,t.k):e instanceof dy&&t instanceof dy}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Ny(e){return e.isFoundDocument()?e.version:ym.min()}var Ry=function(e){yn(n,e);var t=_n(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return hn(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return pn(n)}(Iy),Py=function(e){yn(n,e);var t=_n(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return hn(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return pn(n)}(Iy);function Oy(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Dy(e,t,n){var r=new Map;Jv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,fy(o,u,n[i]))}return r}function Ly(e,t,n){var r,i=new Map,a=vn(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,ly(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var My,Fy,Uy=function(e){yn(n,e);var t=_n(n);function n(e,r){var i;return hn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return pn(n)}(Iy),jy=function(e){yn(n,e);var t=_n(n);function n(e,r){var i;return hn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return pn(n)}(Iy),Vy=pn((function e(t){hn(this,e),this.count=t}));function By(e){switch(e){default:return Xv();case em.CANCELLED:case em.UNKNOWN:case em.DEADLINE_EXCEEDED:case em.RESOURCE_EXHAUSTED:case em.INTERNAL:case em.UNAVAILABLE:case em.UNAUTHENTICATED:return!1;case em.INVALID_ARGUMENT:case em.NOT_FOUND:case em.ALREADY_EXISTS:case em.PERMISSION_DENIED:case em.FAILED_PRECONDITION:case em.ABORTED:case em.OUT_OF_RANGE:case em.UNIMPLEMENTED:case em.DATA_LOSS:return!0}}function zy(e){if(void 0===e)return Qv("GRPC error has no .code"),em.UNKNOWN;switch(e){case My.OK:return em.OK;case My.CANCELLED:return em.CANCELLED;case My.UNKNOWN:return em.UNKNOWN;case My.DEADLINE_EXCEEDED:return em.DEADLINE_EXCEEDED;case My.RESOURCE_EXHAUSTED:return em.RESOURCE_EXHAUSTED;case My.INTERNAL:return em.INTERNAL;case My.UNAVAILABLE:return em.UNAVAILABLE;case My.UNAUTHENTICATED:return em.UNAUTHENTICATED;case My.INVALID_ARGUMENT:return em.INVALID_ARGUMENT;case My.NOT_FOUND:return em.NOT_FOUND;case My.ALREADY_EXISTS:return em.ALREADY_EXISTS;case My.PERMISSION_DENIED:return em.PERMISSION_DENIED;case My.FAILED_PRECONDITION:return em.FAILED_PRECONDITION;case My.ABORTED:return em.ABORTED;case My.OUT_OF_RANGE:return em.OUT_OF_RANGE;case My.UNIMPLEMENTED:return em.UNIMPLEMENTED;case My.DATA_LOSS:return em.DATA_LOSS;default:return Xv()}}(Fy=My||(My={}))[Fy.OK=0]="OK",Fy[Fy.CANCELLED=1]="CANCELLED",Fy[Fy.UNKNOWN=2]="UNKNOWN",Fy[Fy.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fy[Fy.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fy[Fy.NOT_FOUND=5]="NOT_FOUND",Fy[Fy.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fy[Fy.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fy[Fy.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fy[Fy.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fy[Fy.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fy[Fy.ABORTED=10]="ABORTED",Fy[Fy.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fy[Fy.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fy[Fy.INTERNAL=13]="INTERNAL",Fy[Fy.UNAVAILABLE=14]="UNAVAILABLE",Fy[Fy.DATA_LOSS=15]="DATA_LOSS";var qy=function(){function e(t,n){hn(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return pn(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=vn(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){bm(this.inner,(function(t,n){var r,i=vn(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return wm(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Wy=function(){function e(t,n){hn(this,e),this.comparator=t,this.root=n||Hy.EMPTY}return pn(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Hy.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Hy.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Ky(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Ky(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Ky(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Ky(this.root,e,this.comparator,!0)}}]),e}(),Ky=function(){function e(t,n,r,i){hn(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return pn(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Hy=function(){function e(t,n,r,i,a){hn(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return pn(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Xv();if(this.right.isRed())throw Xv();var e=this.left.check();if(e!==this.right.check())throw Xv();return e+(this.isRed()?0:1)}}]),e}();Hy.EMPTY=null,Hy.RED=!0,Hy.BLACK=!1,Hy.EMPTY=new(function(){function e(){hn(this,e),this.size=0}return pn(e,[{key:"key",get:function(){throw Xv()}},{key:"value",get:function(){throw Xv()}},{key:"color",get:function(){throw Xv()}},{key:"left",get:function(){throw Xv()}},{key:"right",get:function(){throw Xv()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Hy(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Gy=function(){function e(t){hn(this,e),this.comparator=t,this.data=new Wy(this.comparator)}return pn(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Qy(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Qy(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Qy=function(){function e(t){hn(this,e),this.iter=t}return pn(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function $y(e){return e.hasNext()?e.getNext():void 0}var Yy=new Wy(Vm.comparator);function Xy(){return Yy}var Jy=new Wy(Vm.comparator);function Zy(){return Jy}function ek(){return new qy((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var tk=new Wy(Vm.comparator),nk=new Gy(Vm.comparator);function rk(){for(var e=nk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var ik=new Gy(pm);function ak(){return ik}var ok=function(){function e(t,n,r,i,a){hn(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return pn(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,uk.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ym.min(),r,ak(),Xy(),rk())}}]),e}(),uk=function(){function e(t,n,r,i,a){hn(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return pn(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Tm.EMPTY_BYTE_STRING,n,rk(),rk(),rk())}}]),e}(),sk=pn((function e(t,n,r,i){hn(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),ck=pn((function e(t,n){hn(this,e),this.targetId=t,this.$=n})),lk=pn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tm.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;hn(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),fk=function(){function e(){hn(this,e),this.B=0,this.L=pk(),this.U=Tm.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return pn(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=rk(),t=rk(),n=rk();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Xv()}})),new uk(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=pk()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),hk=function(){function e(t){hn(this,e),this.nt=t,this.st=new Map,this.it=Xy(),this.rt=dk(),this.ot=new Gy(pm)}return pn(e,[{key:"ut",value:function(e){var t,n=vn(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=vn(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Xv()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(Sg(i))if(0===n){var a=new Vm(i.path);this.ct(t,a,lg.newNoDocument(a,ym.min()))}else Jv(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Sg(a.target)){var o=new Vm(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,lg.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=rk();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new ok(e,n,this.ot,this.it,r);return this.it=Xy(),this.rt=dk(),this.ot=new Gy(pm),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new fk,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Gy(pm),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Gv("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new fk),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function dk(){return new Wy(Vm.comparator)}function pk(){return new Wy(Vm.comparator)}var vk={asc:"ASCENDING",desc:"DESCENDING"},mk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gk=pn((function e(t,n){hn(this,e),this.databaseId=t,this.N=n}));function yk(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function kk(e,t){return e.N?t.toBase64():t.toUint8Array()}function bk(e,t){return yk(e,t.toTimestamp())}function wk(e){return Jv(!!e),ym.fromTimestamp(function(e){var t=Am(e);return new gm(t.seconds,t.nanos)}(e))}function xk(e,t){return function(e){return new _m(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function _k(e){var t=_m.fromString(e);return Jv(Hk(t)),t}function Sk(e,t){return xk(e.databaseId,t.path)}function Ik(e,t){var n=_k(t);if(n.get(1)!==e.databaseId.projectId)throw new tm(em.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new tm(em.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Vm(Ak(n))}function Ek(e,t){return xk(e.databaseId,t)}function Tk(e){var t=_k(e);return 4===t.length?_m.emptyPath():Ak(t)}function Ck(e){return new _m(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ak(e){return Jv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Nk(e,t,n){return{name:Sk(e,t),fields:n.value.mapValue.fields}}function Rk(e,t,n){var r=Ik(e,t.name),i=wk(t.updateTime),a=new sg({mapValue:{fields:t.fields}}),o=lg.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Pk(e,t){return"found"in t?function(e,t){Jv(!!t.found),t.found.name,t.found.updateTime;var n=Ik(e,t.found.name),r=wk(t.found.updateTime),i=new sg({mapValue:{fields:t.found.fields}});return lg.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Jv(!!t.missing),Jv(!!t.readTime);var n=Ik(e,t.missing),r=wk(t.readTime);return lg.newNoDocument(n,r)}(e,t):Xv()}function Ok(e,t){var n;if(t instanceof Ry)n={update:Nk(e,t.key,t.value)};else if(t instanceof Uy)n={delete:Sk(e,t.key)};else if(t instanceof Py)n={update:Nk(e,t.key,t.data),updateMask:Kk(t.fieldMask)};else{if(!(t instanceof jy))return Xv();n={verify:Sk(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof dy)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof py)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof my)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof yy)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Xv()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:bk(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Xv()}(e,t.precondition)),n}function Dk(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?_y.updateTime(wk(e.updateTime)):void 0!==e.exists?_y.exists(e.exists):_y.none()}(t.currentDocument):_y.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Jv("REQUEST_TIME"===t.setToServerValue),n=new dy;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new py(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new my(i)}else"increment"in t?n=new yy(e,t.increment):Xv();var a=Im.fromServerFormat(t.fieldPath);return new wy(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Ik(e,t.update.name),a=new sg({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Em(t.map((function(e){return Im.fromServerFormat(e)})))}(t.updateMask);return new Py(i,a,o,n,r)}return new Ry(i,a,n,r)}if(t.delete){var u=Ik(e,t.delete);return new Uy(u,n)}if(t.verify){var s=Ik(e,t.verify);return new jy(s,n)}return Xv()}function Lk(e,t){return{documents:[Ek(e,t.path)]}}function Mk(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Ek(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ek(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(eg(e.value))return{unaryFilter:{field:Bk(e.field),op:"IS_NAN"}};if(Zm(e.value))return{unaryFilter:{field:Bk(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(eg(e.value))return{unaryFilter:{field:Bk(e.field),op:"IS_NOT_NAN"}};if(Zm(e.value))return{unaryFilter:{field:Bk(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bk(e.field),op:Vk(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Bk(e.field),direction:jk(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||Fm(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Fk(e){var t=Tk(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Jv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Uk(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Ug(zk(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Fm(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Fg(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Fg(n,t)}(n.endAt)),qg(t,i,u,o,s,"F",c,l)}function Uk(e){return e?void 0!==e.unaryFilter?[Wk(e)]:void 0!==e.fieldFilter?[qk(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Uk(e)})).reduce((function(e,t){return e.concat(t)})):Xv():[]}function jk(e){return vk[e]}function Vk(e){return mk[e]}function Bk(e){return{fieldPath:e.canonicalString()}}function zk(e){return Im.fromServerFormat(e.fieldPath)}function qk(e){return Cg.create(zk(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xv()}}(e.fieldFilter.op),e.fieldFilter.value)}function Wk(e){switch(e.unaryFilter.op){case"IS_NAN":var t=zk(e.unaryFilter.field);return Cg.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=zk(e.unaryFilter.field);return Cg.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=zk(e.unaryFilter.field);return Cg.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=zk(e.unaryFilter.field);return Cg.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Xv()}}function Kk(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Hk(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Gk(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=$k(t)),t=Qk(e.get(n),t);return $k(t)}function Qk(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function $k(e){return e+"\x01\x01"}function Yk(e){var t=e.length;if(Jv(t>=2),2===t)return Jv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),_m.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Xv(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Xv()}a=o+2}return new _m(r)}var Xk=["userId","batchId"];function Jk(e,t){return[e,Gk(t)]}function Zk(e,t,n){return[e,Gk(t),n]}var eb={},tb=["prefixPath","collectionGroup","readTime","documentId"],nb=["prefixPath","collectionGroup","documentId"],rb=["collectionGroup","readTime","prefixPath","documentId"],ib=["canonicalId","targetId"],ab=["targetId","path"],ob=["path","targetId"],ub=["collectionId","parent"],sb=["indexId","uid"],cb=["uid","sequenceNumber"],lb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fb=["indexId","uid","orderedDocumentKey"],hb=["userId","collectionPath","documentId"],db=["userId","collectionPath","largestBatchId"],pb=["userId","collectionGroup","largestBatchId"],vb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),mb=[].concat(te(vb),["documentOverlays"]),gb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yb=[].concat(gb,["indexConfiguration","indexState","indexEntries"]),kb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",bb=function(){function e(){hn(this,e),this.onCommittedListeners=[]}return pn(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),wb=function(){function e(t){var n=this;hn(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return pn(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Xv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=vn(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),xb=function(){function e(t,n){var r=this;hn(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new nm,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new Ib(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=Nb(e.target.error);r.At.reject(new Ib(t,n))}}return pn(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Gv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"Pt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Tb(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Ib(n,t)}}}]),e}(),_b=function(){function e(t,n,r){hn(this,e),this.name=t,this.version=n,this.bt=r,12.2===e.Vt(On())&&Qv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return pn(e,[{key:"Nt",value:function(){var e=sn(ln().mark((function e(t){var n=this;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Gv("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Ib(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new tm(em.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new tm(em.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Ib(t,n))},i.onupgradeneeded=function(e){Gv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.bt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Gv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=sn(ln().mark((function e(t,n,r,i){var a,o,u,s,c=this;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(ln().mark((function e(){var n,o;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=xb.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.Pt(),e})).catch((function(e){return n.abort(e),wb.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Gv("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Gv("SimpleDb","Removing database:",e),Cb(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!jn())return!1;if(e.St())return!0;var t=On(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/linkedin-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Sb=function(){function e(t){hn(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return pn(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return Cb(this.Ft.delete())}}]),e}(),Ib=function(e){yn(n,e);var t=_n(n);function n(e,r){var i;return hn(this,n),(i=t.call(this,em.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return pn(n)}(tm);function Eb(e){return"IndexedDbTransactionError"===e.name}var Tb=function(){function e(t){hn(this,e),this.store=t}return pn(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Gv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Gv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Cb(n)}},{key:"add",value:function(e){return Gv("SimpleDb","ADD",this.store.name,e,e),Cb(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Cb(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Gv("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Gv("SimpleDb","DELETE",this.store.name,e),Cb(this.store.delete(e))}},{key:"count",value:function(){return Gv("SimpleDb","COUNT",this.store.name),Cb(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new wb((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new wb((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){Gv("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new wb((function(n,r){t.onerror=function(e){var t=Nb(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new wb((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Sb(i),o=t(i.primaryKey,i.value,a);if(o instanceof wb){var u=o.catch((function(e){return a.done(),wb.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return wb.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Cb(e){return new wb((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Nb(e.target.error);n(t)}}))}var Ab=!1;function Nb(e){var t=_b.Vt(On());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new tm("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Ab||(Ab=!0,setTimeout((function(){throw r}),0)),r}}return e}var Rb=function(e){yn(n,e);var t=_n(n);function n(e,r){var i;return hn(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return pn(n)}(bb);function Pb(e,t){var n=Zv(e);return _b.xt(n.Ht,t)}var Ob=function(){function e(t,n,r,i){hn(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return pn(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Ey(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=vn(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Ty(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=vn(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Ty(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ym.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),rk())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&vm(this.mutations,e.mutations,(function(e,t){return Ay(e,t)}))&&vm(this.baseMutations,e.baseMutations,(function(e,t){return Ay(e,t)}))}}]),e}(),Db=function(){function e(t,n,r,i){hn(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return pn(e,null,[{key:"from",value:function(t,n,r){Jv(t.mutations.length===r.length);for(var i=tk,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Lb=function(){function e(t,n){hn(this,e),this.largestBatchId=t,this.mutation=n}return pn(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Mb=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ym.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ym.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Tm.EMPTY_BYTE_STRING;hn(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return pn(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Fb=pn((function e(t){hn(this,e),this.Jt=t}));function Ub(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:jb(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Sk(e,t.key),fields:t.data.value.mapValue.fields,updateTime:yk(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Vb(t.version)};else{if(!t.isUnknownDocument())return Xv();r.unknownDocument={path:n.path.toArray(),version:Vb(t.version)}}return r}function jb(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Vb(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Bb(e){var t=new gm(e.seconds,e.nanoseconds);return ym.fromTimestamp(t)}function zb(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Dk(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Dk(e.Jt,t)})),u=gm.fromMillis(t.localWriteTimeMs);return new Ob(t.batchId,u,n,o)}function qb(e){var t,n,r=Bb(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Bb(e.lastLimboFreeSnapshotVersion):ym.min();return void 0!==e.query.documents?(Jv(1===(n=e.query).documents.length),t=Xg(Wg(Tk(n.documents[0])))):t=function(e){return Xg(Fk(e))}(e.query),new Mb(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Tm.fromBase64String(e.resumeToken))}function Wb(e,t){var n,r=Vb(t.snapshotVersion),i=Vb(t.lastLimboFreeSnapshotVersion);n=Sg(t.target)?Lk(e.Jt,t.target):Mk(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:xg(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Kb(e){var t=Fk({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Jg(t,t.limit,"L"):t}function Hb(e,t){return new Lb(t.largestBatchId,Dk(e.Jt,t.overlayMutation))}function Gb(e,t){var n=t.path.lastSegment();return[e,Gk(t.path.popLast()),n]}var Qb=function(){function e(){hn(this,e)}return pn(e,[{key:"getBundleMetadata",value:function(e,t){return $b(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Bb(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return $b(e).put({bundleId:(n=t).id,createTime:Vb(wk(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Yb(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Kb(t.bundledQuery),readTime:Bb(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Yb(e).put(function(e){return{name:e.name,readTime:Vb(wk(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function $b(e){return Pb(e,"bundles")}function Yb(e){return Pb(e,"namedQueries")}var Xb=function(){function e(t,n){hn(this,e),this.M=t,this.userId=n}return pn(e,[{key:"getOverlay",value:function(e,t){var n=this;return Jb(e).get(Gb(this.userId,t)).next((function(e){return e?Hb(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Lb(t,a);i.push(r.Xt(e,o))})),wb.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Gk(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Jb(e).Qt("collectionPathOverlayIndex",i))})),wb.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=ek(),a=Gk(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Jb(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=vn(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Hb(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=ek(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Jb(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Hb(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return Jb(e).put(function(e,t,n){var r=c(Gb(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Ok(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Jb(e){return Pb(e,"documentOverlays")}var Zb=function(){function e(){hn(this,e)}return pn(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Nm(e.integerValue));else if("doubleValue"in e){var n=Nm(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),Um(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Rm(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?rg(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Xv()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=vn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),Vm.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function ew(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function tw(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=ew(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Zb.fe=new Zb;var nw=function(){function e(){hn(this,e),this.buffer=new Uint8Array(1024),this.position=0}return pn(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=vn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=vn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=tw(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=tw(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Pe",value:function(){this.be(255),this.be(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.be(0),this.be(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"be",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),rw=function(){function e(t){hn(this,e),this.De=t}return pn(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.Pe()}}]),e}(),iw=function(){function e(t){hn(this,e),this.De=t}return pn(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),aw=function(){function e(){hn(this,e),this.De=new nw,this.Ce=new rw(this.De),this.xe=new iw(this.De)}return pn(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),ow=function(){function e(t,n,r,i){hn(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return pn(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function uw(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=sw(e.arrayValue,t.arrayValue))?n:0!==(n=sw(e.directionalValue,t.directionalValue))?n:Vm.comparator(e.documentKey,t.documentKey)}function sw(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var cw=function(){function e(t){hn(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=vn(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return pn(e,[{key:"$e",value:function(e){var t=hg(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=dg(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=vn(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),lw=function(){function e(){hn(this,e),this.qe=new fw}return pn(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),wb.resolve()}},{key:"getCollectionParents",value:function(e,t){return wb.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return wb.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return wb.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return wb.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return wb.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return wb.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return wb.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return wb.resolve()}},{key:"updateIndexEntries",value:function(e,t){return wb.resolve()}}]),e}(),fw=function(){function e(){hn(this,e),this.index={}}return pn(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Gy(_m.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Gy(_m.comparator)).toArray()}}]),e}(),hw=new Uint8Array(0),dw=function(){function e(t,n){hn(this,e),this.user=t,this.databaseId=n,this.Ke=new fw,this.Ge=new qy((function(e){return xg(e)}),(function(e,t){return _g(e,t)})),this.uid=t.uid||""}return pn(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:Gk(i)};return pw(e).put(a)}return wb.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[mm(t),""],!1,!0);return pw(e).qt(r).next((function(e){var r,i=vn(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Yk(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=mw(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=mw(e),r=gw(e),i=vw(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=vw(e),i=!0,a=new Map;return wb.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=rk(),o=[];return wb.forEach(a,(function(i,a){var u;Gv("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(xg(t)));var s=function(e,t){var n=hg(t);if(void 0===n)return null;var r,i=vn(Ig(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=vn(dg(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=vn(Ig(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=vn(dg(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Eg(e,o.fieldPath,e.startAt):Tg(e,o.fieldPath,e.startAt);if(!u.value)return null;r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Fg(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=vn(dg(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Tg(e,o.fieldPath,e.endAt):Eg(e,o.fieldPath,e.endAt);if(!u.value)return null;r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Fg(r,i)}(a,i),h=n.je(i,a,l),d=n.je(i,a,f),p=n.We(i,a,c),v=n.ze(i.indexId,s,h,!!l&&l.inclusive,d,!!f&&f.inclusive,p);return wb.forEach(v,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){var n=Vm.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return wb.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.He(t[s/c]):hw,h=n?u.Je(e,f,n[s%c],r):u.Ye(e),d=i?u.Xe(e,f,i[s%c],a):u.Ye(e+1);l.push.apply(l,te(u.createRange(h,d,o.map((function(t){return u.Je(e,f,t,!0)})))))},h=0;h<s;++h)f(h);return l}},{key:"Je",value:function(e,t,n,r){var i=new ow(e,Vm.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new ow(e,Vm.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new ow(e,Vm.empty(),hw,hw)}},{key:"getFieldIndex",value:function(e,t){var n=new cw(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.$e(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new aw,i=vn(dg(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);Zb.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new aw;return Zb.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var n=new aw;return Zb.fe.Zt(Ym(this.databaseId,t),n.Ne(function(e){var t=dg(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new aw);var i,a=0,o=vn(dg(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=vn(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.en(t,s.fieldPath)&&Jm(c))r=this.nn(r,s,c);else{var h=f.Ne(s.kind);Zb.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.sn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"sn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"nn",value:function(e,t,n){var r,i=te(e),a=[],o=vn(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=vn(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new aw;f.seed(l.Se()),Zb.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"en",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Cg&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=mw(e),i=gw(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return wb.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new vg(t.sequenceNumber,new yg(Bb(t.readTime),new Vm(Yk(t.documentKey)),t.largestBatchId)):vg.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new pg(Im.fromServerFormat(n),r)}));return new fg(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:pm(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=mw(e),a=gw(e);return this.rn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return wb.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Vb(r.readTime),documentKey:Gk(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return wb.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?wb.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),wb.forEach(a,(function(r){return n.on(e,t,r).next((function(t){var a=n.un(i,r);return t.isEqual(a)?wb.resolve():n.an(e,i,r,t,a)}))}))}))}))}},{key:"cn",value:function(e,t,n,r){return vw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,n,r){return vw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,n){var r=vw(e),i=new Gy(uw);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(function(e,r){i=i.add(new ow(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"un",value:function(e,t){var n=new Gy(uw),r=this.Ze(t,e);if(null==r)return n;var i=hg(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Jm(a)){var o,u=vn(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new ow(t.indexId,e.key,this.He(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new ow(t.indexId,e.key,hw,r));return n}},{key:"an",value:function(e,t,n,r,i){var a=this;Gv("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=$y(a),s=$y(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=$y(o)):l?(i(u),u=$y(a)):(u=$y(a),s=$y(o))}}(r,i,uw,(function(r){o.push(a.cn(e,t,n,r))}),(function(r){o.push(a.hn(e,t,n,r))})),wb.waitFor(o)}},{key:"rn",value:function(e){var t=1;return gw(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return uw(e,t)})).filter((function(e,t,n){return!t||0!==uw(e,n[t-1])}));var r=[];r.push(e);var i,a=vn(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=uw(o,e),s=uw(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,hw,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,hw,[]]));return c}}]),e}();function pw(e){return Pb(e,"collectionParents")}function vw(e){return Pb(e,"indexEntries")}function mw(e){return Pb(e,"indexConfiguration")}function gw(e){return Pb(e,"indexState")}var yw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kw=function(){function e(t,n,r){hn(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return pn(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function bw(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Jv(1===u)})));var c,l=[],f=vn(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Zk(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return wb.waitFor(a).next((function(){return l}))}function ww(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Xv();t=e.noDocument}return JSON.stringify(t).length}kw.DEFAULT_COLLECTION_PERCENTILE=10,kw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kw.DEFAULT=new kw(41943040,kw.DEFAULT_COLLECTION_PERCENTILE,kw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kw.DISABLED=new kw(-1,0,0);var xw=function(){function e(t,n,r,i){hn(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.ln={}}return pn(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Sw(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Iw(e),o=Sw(e);return o.add({}).next((function(u){Jv("number"==typeof u);var s,c=new Ob(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Ok(e.Jt,t)})),i=n.mutations.map((function(t){return Ok(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new Gy((function(e,t){return pm(e.canonicalString(),t.canonicalString())})),d=vn(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Zk(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,eb))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.ln[u]=c.keys()})),wb.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Sw(e).get(t).next((function(e){return e?(Jv(e.userId===n.userId),zb(n.M,e)):null}))}},{key:"fn",value:function(e,t){var n=this;return this.ln[t]?wb.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.ln[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Sw(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Jv(t.batchId>=r),a=zb(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Sw(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Sw(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return zb(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Jk(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Iw(e).Wt({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],h=Yk(l);if(s===n.userId&&t.path.isEqual(h))return Sw(e).get(f).next((function(e){if(!e)throw Xv();Jv(e.userId===n.userId),a.push(zb(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Gy(pm),i=[];return t.forEach((function(t){var a=Jk(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Iw(e).Wt({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=Yk(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),wb.waitFor(i).next((function(){return n.dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Jk(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Gy(pm);return Iw(e).Wt({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],h=Yk(l);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.dn(e,u)}))}},{key:"dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Sw(e).get(t).next((function(e){if(null===e)throw Xv();Jv(e.userId===n.userId),r.push(zb(n.M,e))})))})),wb.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return bw(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n._n(t.batchId)})),wb.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return wb.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Iw(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Yk(e[1]);i.push(a)}else r.done()})).next((function(){Jv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return _w(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return Ew(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return Jv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function _w(e,t,n){var r=Jk(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Iw(e).Wt({range:a,jt:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Sw(e){return Pb(e,"mutations")}function Iw(e){return Pb(e,"documentMutations")}function Ew(e){return Pb(e,"mutationQueues")}var Tw=function(){function e(t){hn(this,e),this.mn=t}return pn(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}(),Cw=function(){function e(t,n){hn(this,e),this.referenceDelegate=t,this.M=n}return pn(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next((function(n){var r=new Tw(n.highestTargetId);return n.highestTargetId=r.next(),t.In(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next((function(e){return ym.fromTimestamp(new gm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.In(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Tn(e,t).next((function(){return n.pn(e).next((function(r){return r.targetCount+=1,n.En(t,r),n.In(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Aw(e).delete(t.targetId)})).next((function(){return n.pn(e)})).next((function(t){return Jv(t.targetCount>0),t.targetCount-=1,n.In(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Aw(e).Wt((function(o,u){var s=qb(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return wb.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Aw(e).Wt((function(e,n){var r=qb(n);t(r)}))}},{key:"pn",value:function(e){return Nw(e).get("targetGlobalKey").next((function(e){return Jv(null!==e),e}))}},{key:"In",value:function(e,t){return Nw(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return Aw(e).put(Wb(this.M,t))}},{key:"En",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=xg(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Aw(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=qb(n);_g(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Rw(e);return t.forEach((function(t){var o=Gk(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),wb.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Rw(e);return wb.forEach(t,(function(t){var a=Gk(t.path);return wb.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Rw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Rw(e),i=rk();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=Yk(e[1]),a=new Vm(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Gk(t.path),r=IDBKeyRange.bound([n],[mm(n)],!1,!0),i=0;return Rw(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Aw(e).get(t).next((function(e){return e?qb(e):null}))}}]),e}();function Aw(e){return Pb(e,"targets")}function Nw(e){return Pb(e,"targetGlobal")}function Rw(e){return Pb(e,"targetDocuments")}function Pw(e){return Ow.apply(this,arguments)}function Ow(){return Ow=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===em.FAILED_PRECONDITION&&t.message===kb){e.next=2;break}throw t;case 2:Gv("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Ow.apply(this,arguments)}function Dw(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=pm(r,o);return 0===s?pm(i,u):s}var Lw=function(){function e(t){hn(this,e),this.An=t,this.buffer=new Gy(Dw),this.Rn=0}return pn(e,[{key:"Pn",value:function(){return++this.Rn}},{key:"bn",value:function(e){var t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Dw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Mw=function(){function e(t,n){hn(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Vn=!1,this.vn=null}return pn(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,n=this.Vn?3e5:6e4;Gv("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,sn(ln().mark((function n(){return ln().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.vn=null,t.Vn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Eb(n.t0)){n.next=12;break}Gv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Pw(n.t0);case 14:return n.next=16,t.Sn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Fw=function(){function e(t,n){hn(this,e),this.Dn=t,this.params=n}return pn(e,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return wb.resolve(fm.A);var r=new Lw(t);return this.Dn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Dn.xn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Dn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Gv("LruGarbageCollector","Garbage collection skipped; disabled"),wb.resolve(yw)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Gv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),yw):n.Nn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Gv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Hv()<=cr.DEBUG&&Gv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),wb.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Uw=function(){function e(t,n){hn(this,e),this.db=t,this.garbageCollector=function(e,t){return new Fw(e,t)}(this,n)}return pn(e,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"kn",value:function(e){var t=0;return this.xn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return jw(e,n)}},{key:"removeReference",value:function(e,t,n){return jw(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return jw(e,t)}},{key:"On",value:function(e,t){return function(e,t){var n=!1;return Ew(e).zt((function(r){return _w(e,r,t).next((function(e){return e&&(n=!0),wb.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Mn(e,(function(o,u){if(u<=t){var s=n.On(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,ym.min()),Rw(e).delete([0,Gk(o.path)])}))}));i.push(s)}})).next((function(){return wb.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return jw(e,t)}},{key:"Mn",value:function(e,t){var n,r=Rw(e),i=fm.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==fm.A&&t(new Vm(Yk(n)),i),i=s,n=u):i=fm.A})).next((function(){i!==fm.A&&t(new Vm(Yk(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function jw(e,t){return Rw(e).put(function(e,t){return{targetId:0,path:Gk(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Vw=function(){function e(){hn(this,e),this.changes=new qy((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return pn(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,lg.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?wb.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Bw=function(){function e(t){hn(this,e),this.M=t}return pn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Ww(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Ww(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],jb(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Fn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=lg.newInvalidDocument(t);return Ww(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Kw(t))},(function(e,i){r=n.$n(t,i)})).next((function(){return r}))}},{key:"Bn",value:function(e,t){var n=this,r={size:0,document:lg.newInvalidDocument(t)};return Ww(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Kw(t))},(function(e,i){r={document:n.$n(t,i),size:ww(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Xy();return this.Ln(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Un",value:function(e,t){var n=this,r=Xy(),i=new Wy(Vm.comparator);return this.Ln(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,ww(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Ln",value:function(e,t,n){if(t.isEmpty())return wb.resolve();var r=new Gy(Gw);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Kw(r.first()),Kw(r.last())),a=r.getIterator(),o=a.getNext();return Ww(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Vm.fromSegments([].concat(te(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Gw(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(Kw(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),jb(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ww(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Xy(),i=vn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.$n(Vm.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Xy(),o=Hw(t,n),u=Hw(t,yg.max());return Ww(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.$n(Vm.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new zw(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return qw(e).get("remoteDocumentGlobalKey").next((function(e){return Jv(!!e),e}))}},{key:"Fn",value:function(e,t){return qw(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Rk(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Vm.fromSegments(t.noDocument.path),i=Bb(t.noDocument.readTime);n=lg.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Xv();var a=Vm.fromSegments(t.unknownDocument.path),o=Bb(t.unknownDocument.version);n=lg.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new gm(e[0],e[1]);return ym.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(ym.min()))return n}return lg.newInvalidDocument(e)}}]),e}(),zw=function(e){yn(n,e);var t=_n(n);function n(e,r){var i;return hn(this,n),(i=t.call(this)).Kn=e,i.trackRemovals=r,i.Gn=new qy((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return pn(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Gy((function(e,t){return pm(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.Kn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Ub(t.Kn.M,o);i=i.add(a.path.popLast());var c=ww(s);r+=c-u.size,n.push(t.Kn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Ub(t.Kn.M,o.convertToNoDocument(ym.min()));n.push(t.Kn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Kn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Kn.updateMetadata(e,r)),wb.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Kn.Bn(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Kn.Un(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Vw);function qw(e){return Pb(e,"remoteDocumentGlobal")}function Ww(e){return Pb(e,"remoteDocumentsV14")}function Kw(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Hw(e,t){var n=t.documentKey.path.toArray();return[e,jb(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Gw(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=pm(n[a],r[a]))return i;return(i=pm(n.length,r.length))||((i=pm(n[n.length-2],r[r.length-2]))||pm(n[n.length-1],r[r.length-1]))}var Qw=function(){function e(t){hn(this,e),this.M=t}return pn(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new xb("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xk,{unique:!0}),e.createObjectStore("documentMutations")}(e),$w(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=wb.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),$w(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ym.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xk,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return wb.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Qn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.jn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Wn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Hn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:hb});t.createIndex("collectionPathOverlayIndex",db,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",pb,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:tb});t.createIndex("documentKeyIndex",nb),t.createIndex("collectionGroupIndex",rb)}(e)})).next((function(){return i.Jn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:sb}).createIndex("sequenceNumberIndex",cb,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:lb}).createIndex("documentKeyIndex",fb,{unique:!1})}(e)}))),o}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=ww(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Qn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return wb.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return wb.forEach(r,(function(r){Jv(r.userId===n.userId);var i=zb(t.M,r);return bw(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new _m(n),o=function(e){return[0,Gk(e)]}(a);r.push(t.get(o).next((function(n){return n?wb.resolve():function(n){return t.put({targetId:0,path:Gk(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return wb.waitFor(r)}))}))}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:ub});var n=t.store("collectionParents"),r=new fw,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Gk(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new _m(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],Yk(r));return i(a.popLast())}))}))}},{key:"Hn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=qb(r),a=Wb(t.M,i);return n.put(a)}))}},{key:"Jn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Vm(_m.fromString(i.document.name).popFirst(5)):i.noDocument?Vm.fromSegments(i.noDocument.path):i.unknownDocument?Vm.fromSegments(i.unknownDocument.path):Xv()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return wb.waitFor(r)}))}}]),e}();function $w(e){e.createObjectStore("targetDocuments",{keyPath:ab}).createIndex("documentTargetsIndex",ob,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ib,{unique:!0}),e.createObjectStore("targetGlobal")}var Yw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Xw=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(hn(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Yn=a,this.window=o,this.document=u,this.Xn=c,this.Zn=l,this.ts=f,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(e){return Promise.resolve()},!e.vt())throw new tm(em.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Uw(this,i),this.hs=n+"main",this.M=new Fb(s),this.ls=new _b(this.hs,this.ts,new Qw(this.M)),this.fs=new Cw(this.referenceDelegate,this.M),this.ds=function(e){return new Bw(e)}(this.M),this._s=new Qb,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===l&&Qv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return pn(e,[{key:"start",value:function(){var e=this;return this.gs().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new tm(em.FAILED_PRECONDITION,Yw);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.fs.getHighestSequenceNumber(t)}))})).then((function(t){e.es=new fm(t,e.Xn)})).then((function(){e.ns=!0})).catch((function(t){return e.ls&&e.ls.close(),Promise.reject(t)}))}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var n=sn(ln().mark((function n(r){return ln().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=sn(ln().mark((function t(n){return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget(sn(ln().mark((function e(){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.gs();case 4:case"end":return e.stop()}}),e)})))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Zw(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Es(t).next((function(t){t||(e.isPrimary=!1,e.Yn.enqueueRetryable((function(){return e.cs(!1)})))}))})).next((function(){return e.As(t)})).next((function(n){return e.isPrimary&&!n?e.Rs(t).next((function(){return!1})):!!n&&e.Ps(t).next((function(){return!0}))}))})).catch((function(t){if(Eb(t))return Gv("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Gv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable((function(){return e.cs(t)})),e.isPrimary=t}))}},{key:"Es",value:function(e){var t=this;return Jw(e).get("owner").next((function(e){return wb.resolve(t.bs(e))}))}},{key:"Vs",value:function(e){return Zw(e).delete(this.clientId)}},{key:"vs",value:function(){var e=sn(ln().mark((function e(){var t,n,r,i,a=this;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){e.next=6;break}return this.us=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Pb(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ds(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return wb.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ws){n=vn(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ws.removeItem(this.Cs(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.gs().then((function(){return e.vs()})).then((function(){return e.Is()}))}))}},{key:"bs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?wb.resolve(!0):Jw(e).get("owner").next((function(n){if(null!==n&&t.Ss(n.leaseTimestampMs,5e3)&&!t.xs(n.ownerId)){if(t.bs(n)&&t.networkEnabled)return!0;if(!t.bs(n)){if(!n.allowTabSynchronization)throw new tm(em.FAILED_PRECONDITION,Yw);return!1}}return!(!t.networkEnabled||!t.inForeground)||Zw(e).qt().next((function(e){return void 0===t.Ds(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Gv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=sn(ln().mark((function e(){var t=this;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),e.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Rb(e,fm.A);return t.Rs(n).next((function(){return t.Vs(n)}))}));case 7:this.ls.close(),this.Os();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ds",value:function(e,t){var n=this;return e.filter((function(e){return n.Ss(e.updateTimeMs,t)&&!n.xs(e.clientId)}))}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Zw(t).qt().next((function(t){return e.Ds(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return xw.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new dw(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Xb.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Gv("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.ts)?yb:13===i?gb:12===i?mb:11===i?vb:void Xv();return this.ls.runTransaction(e,o,u,(function(i){return a=new Rb(i,r.es?r.es.next():fm.A),"readwrite-primary"===t?r.Es(a).next((function(e){return!!e||r.As(a)})).next((function(t){if(!t)throw Qv("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Yn.enqueueRetryable((function(){return r.cs(!1)})),new tm(em.FAILED_PRECONDITION,kb);return n(a)})).next((function(e){return r.Ps(a).next((function(){return e}))})):r.$s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e){var t=this;return Jw(e).get("owner").next((function(e){if(null!==e&&t.Ss(e.leaseTimestampMs,5e3)&&!t.xs(e.ownerId)&&!t.bs(e)&&!(t.Zn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new tm(em.FAILED_PRECONDITION,Yw)}))}},{key:"Ps",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Jw(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,n=Jw(e);return n.get("owner").next((function(e){return t.bs(e)?(Gv("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):wb.resolve()}))}},{key:"Ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Qv("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()}))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=function(){t.Ns(),!Ln()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Yn.enterRestrictedMode(!0),t.Yn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Gv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Qv("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(qf){Qv("Failed to set zombie client id.",qf)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(qf){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return _b.vt()}}]),e}();function Jw(e){return Pb(e,"owner")}function Zw(e){return Pb(e,"clientMetadata")}function ex(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var tx=function(){function e(t,n,r){hn(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return pn(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=vn(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=vn(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return Vm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):$g(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new Vm(t)).next((function(e){var t=Zy();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Zy();return this.indexManager.getCollectionParents(e,i).next((function(o){return wb.forEach(o,(function(o){var u=function(e,t){return new zg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=vn(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=vn(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=lg.newInvalidDocument(s),r=r.insert(s,c)),Ty(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){ny(t,n)||(r=r.remove(e))})),r}))}}]),e}(),nx=function(){function e(t,n,r,i){hn(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return pn(e,null,[{key:"Ys",value:function(t,n){var r,i=rk(),a=rk(),o=vn(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),rx=function(){function e(){hn(this,e)}return pn(e,[{key:"Xs",value:function(e){this.Zs=e}},{key:"Qs",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(ym.min())?this.ti(e,t):this.Zs.Ks(e,r).next((function(a){var o=i.ei(t,a);return(Kg(t)||Hg(t))&&i.ni(t.limitType,o,r,n)?i.ti(e,t):(Hv()<=cr.DEBUG&&Gv("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ty(t)),i.Zs.Qs(e,t,mg(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ei",value:function(e,t){var n=new Gy(iy(e));return t.forEach((function(t,r){ny(e,r)&&(n=n.add(r))})),n}},{key:"ni",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ti",value:function(e,t){return Hv()<=cr.DEBUG&&Gv("QueryEngine","Using full collection scan to execute query:",ty(t)),this.Zs.Qs(e,t,yg.min())}}]),e}(),ix=function(){function e(t,n,r,i){hn(this,e),this.persistence=t,this.si=n,this.M=i,this.ii=new Wy(pm),this.ri=new qy((function(e){return xg(e)}),_g),this.oi=new Map,this.ui=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.ai(r)}return pn(e,[{key:"ai",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new tx(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ii)}))}}]),e}();function ax(e,t,n,r){return new ix(e,t,n,r)}function ox(e,t){return ux.apply(this,arguments)}function ux(){return ux=sn(ln().mark((function e(t,n){var r;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zv(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.ai(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=rk(),s=vn(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=vn(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=vn(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=vn(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;u=u.add(y.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){p.e(k)}finally{p.f()}return r.ci.Ks(e,u).next((function(e){return{hi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),ux.apply(this,arguments)}function sx(e,t){var n=Zv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=wb.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Jv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}function cx(e){var t=Zv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function lx(e,t){var n=Zv(e),r=t.snapshotVersion,i=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ui.newChangeBuffer({trackRemovals:!0});i=n.ii;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Tm.EMPTY_BYTE_STRING,ym.min()).withLastLimboFreeSnapshotVersion(ym.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.fs.updateTargetData(e,c))}}));var u=Xy();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(fx(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(ym.min())){var s=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return wb.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ci.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.ii=i,e}))}function fx(e,t,n){var r=rk();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Xy();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(ym.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Gv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function hx(e,t){var n=Zv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function dx(e,t){var n=Zv(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,wb.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new Mb(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ii.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ii=n.ii.insert(e.targetId,e),n.ri.set(t,e.targetId)),e}))}function px(e,t,n){return vx.apply(this,arguments)}function vx(){return vx=sn(ln().mark((function e(t,n,r){var i,a,o;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Zv(t),a=i.ii.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Eb(e.t1)){e.next=12;break}throw e.t1;case 12:Gv("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ii=i.ii.remove(n),i.ri.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),vx.apply(this,arguments)}function mx(e,t,n){var r=Zv(e),i=ym.min(),a=rk();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Zv(e),i=r.ri.get(n);return void 0!==i?wb.resolve(r.ii.get(i)):r.fs.getTargetData(t,n)}(r,e,Xg(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.si.Qs(e,t,n?i:ym.min(),n?a:rk())})).next((function(e){return kx(r,ry(t),e),{documents:e,li:a}}))}))}function gx(e,t){var n=Zv(e),r=Zv(n.fs),i=n.ii.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function yx(e,t){var n=Zv(e),r=n.oi.get(t)||ym.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ui.getAllFromCollectionGroup(e,t,mg(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return kx(n,t,e),e}))}function kx(e,t,n){var r=ym.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.oi.set(t,r)}function bx(e,t,n,r){return wx.apply(this,arguments)}function wx(){return wx=sn(ln().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Zv(t),o=rk(),u=Xy(),s=vn(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.fi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.di(l)).setReadTime(n._i(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.ui.newChangeBuffer({trackRemovals:!0}),e.next=7,dx(a,function(e){return Xg(Wg(_m.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return fx(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.ci.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),wx.apply(this,arguments)}function xx(e,t){return _x.apply(this,arguments)}function _x(){return _x=sn(ln().mark((function e(t,n){var r,i,a,o=arguments;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:rk(),e.next=3,dx(t,Xg(Kb(n.bundledQuery)));case 3:return i=e.sent,a=Zv(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=wk(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a._s.saveNamedQuery(e,n);var o=i.withResumeToken(Tm.EMPTY_BYTE_STRING,t);return a.ii=a.ii.insert(o.targetId,o),a.fs.updateTargetData(e,o).next((function(){return a.fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a._s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),_x.apply(this,arguments)}var Sx=function(){function e(t){hn(this,e),this.M=t,this.wi=new Map,this.mi=new Map}return pn(e,[{key:"getBundleMetadata",value:function(e,t){return wb.resolve(this.wi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.wi.set(t.id,{id:(n=t).id,version:n.version,createTime:wk(n.createTime)}),wb.resolve()}},{key:"getNamedQuery",value:function(e,t){return wb.resolve(this.mi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.mi.set(t.name,function(e){return{name:e.name,query:Kb(e.bundledQuery),readTime:wk(e.readTime)}}(t)),wb.resolve()}}]),e}(),Ix=function(){function e(){hn(this,e),this.overlays=new Wy(Vm.comparator),this.gi=new Map}return pn(e,[{key:"getOverlay",value:function(e,t){return wb.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),wb.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.gi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.gi.delete(n)),wb.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=ek(),i=t.length+1,a=new Vm(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return wb.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Wy((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=ek(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=ek(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return wb.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.gi.get(r.largestBatchId).delete(n.key);this.gi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Lb(t,n));var a=this.gi.get(t);void 0===a&&(a=rk(),this.gi.set(t,a)),this.gi.set(t,a.add(n.key))}}}]),e}(),Ex=function(){function e(){hn(this,e),this.yi=new Gy(Tx.pi),this.Ii=new Gy(Tx.Ti)}return pn(e,[{key:"isEmpty",value:function(){return this.yi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Tx(e,t);this.yi=this.yi.add(n),this.Ii=this.Ii.add(n)}},{key:"Ei",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ai(new Tx(e,t))}},{key:"Ri",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Pi",value:function(e){var t=this,n=new Vm(new _m([])),r=new Tx(n,e),i=new Tx(n,e+1),a=[];return this.Ii.forEachInRange([r,i],(function(e){t.Ai(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.yi.forEach((function(t){return e.Ai(t)}))}},{key:"Ai",value:function(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}},{key:"Vi",value:function(e){var t=new Vm(new _m([])),n=new Tx(t,e),r=new Tx(t,e+1),i=rk();return this.Ii.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Tx(e,0),n=this.yi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Tx=function(){function e(t,n){hn(this,e),this.key=t,this.vi=n}return pn(e,null,[{key:"pi",value:function(e,t){return Vm.comparator(e.key,t.key)||pm(e.vi,t.vi)}},{key:"Ti",value:function(e,t){return pm(e.vi,t.vi)||Vm.comparator(e.key,t.key)}}]),e}(),Cx=function(){function e(t,n){hn(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.Si=1,this.Di=new Gy(Tx.pi)}return pn(e,[{key:"checkEmpty",value:function(e){return wb.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.Si;this.Si++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new Ob(i,t,n,r);this.Bs.push(a);var o,u=vn(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Di=this.Di.add(new Tx(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return wb.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return wb.resolve(this.Ci(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.xi(n),i=r<0?0:r;return wb.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return wb.resolve(0===this.Bs.length?-1:this.Si-1)}},{key:"getAllMutationBatches",value:function(e){return wb.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Tx(t,0),i=new Tx(t,Number.POSITIVE_INFINITY),a=[];return this.Di.forEachInRange([r,i],(function(e){var t=n.Ci(e.vi);a.push(t)})),wb.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Gy(pm);return t.forEach((function(e){var t=new Tx(e,0),i=new Tx(e,Number.POSITIVE_INFINITY);n.Di.forEachInRange([t,i],(function(e){r=r.add(e.vi)}))})),wb.resolve(this.Ni(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Vm.isDocumentKey(i)||(i=i.child(""));var a=new Tx(new Vm(i),0),o=new Gy(pm);return this.Di.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.vi)),!0)}),a),wb.resolve(this.Ni(o))}},{key:"Ni",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ci(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Jv(0===this.ki(t.batchId,"removed")),this.Bs.shift();var r=this.Di;return wb.forEach(t.mutations,(function(i){var a=new Tx(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Di=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Tx(t,0),r=this.Di.firstAfterOrEqual(n);return wb.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,wb.resolve()}},{key:"ki",value:function(e,t){return this.xi(e)}},{key:"xi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"Ci",value:function(e){var t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),Ax=function(){function e(t){hn(this,e),this.Mi=t,this.docs=new Wy(Vm.comparator),this.size=0}return pn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Mi(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return wb.resolve(n?n.document.mutableCopy():lg.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Xy();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():lg.newInvalidDocument(e))})),wb.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Xy(),i=new Vm(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||kg(gg(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return wb.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Xv()}},{key:"Oi",value:function(e,t){return wb.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Nx(this)}},{key:"getSize",value:function(e){return wb.resolve(this.size)}}]),e}(),Nx=function(e){yn(n,e);var t=_n(n);function n(e){var r;return hn(this,n),(r=t.call(this)).Kn=e,r}return pn(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),wb.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(Vw),Rx=function(){function e(t){hn(this,e),this.persistence=t,this.Fi=new qy((function(e){return xg(e)}),_g),this.lastRemoteSnapshotVersion=ym.min(),this.highestTargetId=0,this.$i=0,this.Bi=new Ex,this.targetCount=0,this.Li=Tw.gn()}return pn(e,[{key:"forEachTarget",value:function(e,t){return this.Fi.forEach((function(e,n){return t(n)})),wb.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return wb.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return wb.resolve(this.$i)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Li.next(),wb.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$i&&(this.$i=t),wb.resolve()}},{key:"Tn",value:function(e){this.Fi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Li=new Tw(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,wb.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),wb.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,wb.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Fi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Fi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),wb.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return wb.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Fi.get(t)||null;return wb.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Bi.Ei(t,n),wb.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Bi.Ri(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),wb.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Bi.Pi(t),wb.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Bi.Vi(t);return wb.resolve(n)}},{key:"containsKey",value:function(e,t){return wb.resolve(this.Bi.containsKey(t))}}]),e}(),Px=function(){function e(t,n){var r=this;hn(this,e),this.Ui={},this.overlays={},this.es=new fm(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new Rx(this),this.indexManager=new lw,this.ds=new Ax((function(e){return r.referenceDelegate.qi(e)})),this.M=new Fb(n),this._s=new Sx(this.M)}return pn(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Ix,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ui[e.toKey()];return n||(n=new Cx(t,this.referenceDelegate),this.Ui[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Gv("MemoryPersistence","Starting transaction:",e);var i=new Ox(this.es.next());return this.referenceDelegate.Ki(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Qi",value:function(e,t){return wb.or(Object.values(this.Ui).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Ox=function(e){yn(n,e);var t=_n(n);function n(e){var r;return hn(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return pn(n)}(bb),Dx=function(){function e(t){hn(this,e),this.persistence=t,this.ji=new Ex,this.Wi=null}return pn(e,[{key:"Hi",get:function(){if(this.Wi)return this.Wi;throw Xv()}},{key:"addReference",value:function(e,t,n){return this.ji.addReference(n,t),this.Hi.delete(n.toString()),wb.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ji.removeReference(n,t),this.Hi.add(n.toString()),wb.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Hi.add(t.toString()),wb.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ji.Pi(t.targetId).forEach((function(e){return n.Hi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Hi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ki",value:function(){this.Wi=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return wb.forEach(this.Hi,(function(r){var i=Vm.fromPath(r);return t.Ji(e,i).next((function(e){e||n.removeEntry(i,ym.min())}))})).next((function(){return t.Wi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ji(e,t).next((function(e){e?n.Hi.delete(t.toString()):n.Hi.add(t.toString())}))}},{key:"qi",value:function(e){return 0}},{key:"Ji",value:function(e,t){var n=this;return wb.or([function(){return wb.resolve(n.ji.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Qi(e,t)}])}}],[{key:"zi",value:function(t){return new e(t)}}]),e}();function Lx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Mx(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Fx(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Ux=function(){function e(t,n,r,i){hn(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return pn(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Yi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new tm(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Qv("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),jx=function(){function e(t,n,r){hn(this,e),this.targetId=t,this.state=n,this.error=r}return pn(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Yi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new tm(i.error.code,i.error.message))),a?new e(t,i.state,r):(Qv("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Vx=function(){function e(t,n){hn(this,e),this.clientId=t,this.activeTargetIds=n}return pn(e,null,[{key:"Yi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=ak(),o=0;i&&o<r.activeTargetIds.length;++o)i=jm(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Qv("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Bx=function(){function e(t,n){hn(this,e),this.clientId=t,this.onlineState=n}return pn(e,null,[{key:"Yi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Qv("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),zx=function(){function e(){hn(this,e),this.activeTargetIds=ak()}return pn(e,[{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),qx=function(){function e(t,n,r,i,a){hn(this,e),this.window=t,this.Yn=n,this.persistenceKey=r,this.er=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new Wy(pm),this.started=!1,this.rr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ur=Lx(this.persistenceKey,this.er),this.ar=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ir=this.ir.insert(this.er,new zx),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.hr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.lr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.dr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this._r=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}return pn(e,[{key:"start",value:function(){var e=sn(ln().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Fs();case 2:t=e.sent,n=vn(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.er){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Lx(this.persistenceKey,i)))&&(o=Vx.Yi(i,a))&&(this.ir=this.ir.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.wr(),(u=this.storage.getItem(this.dr))&&(s=this.mr(u))&&this.gr(s),c=vn(this.rr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.sr(f)}catch(d){c.e(d)}finally{c.f()}this.rr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ar,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.yr(this.ir)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ir.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.pr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.pr(e,t,n),this.Ir(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Fx(this.persistenceKey,e));if(n){var r=jx.Yi(e,n);r&&(t=r.state)}}return this.Tr.Zi(e),this.wr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Tr.tr(e),this.wr()}},{key:"isLocalQueryTarget",value:function(e){return this.Tr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Fx(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Er(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ir(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Ar(e)}},{key:"notifyBundleLoaded",value:function(e){this.Rr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Gv("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Gv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Gv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"sr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Gv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ur)return void Qv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable(sn(ln().mark((function e(){var r,i,a,o,u,s,c;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Pr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Vr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.hr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Sr(a));case 16:e.next=41;break;case 18:if(!t.lr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Dr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Cr(o));case 23:e.next=41;break;case 25:if(n.key!==t.dr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.mr(n.newValue))){e.next=30;break}return e.abrupt("return",t.gr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ar){e.next=37;break}s=function(e){var t=fm.A;if(null!=e)try{var n=JSON.parse(e);Jv("number"==typeof n),t=n}catch(e){Qv("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==fm.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t._r){e.next=41;break}return c=t.Nr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.kr(e)})));case 41:e.next=44;break;case 43:t.rr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Tr",get:function(){return this.ir.get(this.er)}},{key:"wr",value:function(){this.setItem(this.ur,this.Tr.Xi())}},{key:"pr",value:function(e,t,n){var r=new Ux(this.currentUser,e,t,n),i=Mx(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Xi())}},{key:"Ir",value:function(e){var t=Mx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Ar",value:function(e){var t={clientId:this.er,onlineState:e};this.storage.setItem(this.dr,JSON.stringify(t))}},{key:"Er",value:function(e,t,n){var r=Fx(this.persistenceKey,e),i=new jx(e,t,n);this.setItem(r,i.Xi())}},{key:"Rr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}},{key:"Pr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Vr",value:function(e,t){var n=this.Pr(e);return Vx.Yi(n,t)}},{key:"vr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Ux.Yi(new qv(i),r,t)}},{key:"Dr",value:function(e,t){var n=this.lr.exec(e),r=Number(n[1]);return jx.Yi(r,t)}},{key:"mr",value:function(e){return Bx.Yi(e)}},{key:"Nr",value:function(e){return JSON.parse(e)}},{key:"Sr",value:function(){var e=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Mr(t.batchId,t.state,t.error));case 2:Gv("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Cr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.ir.insert(e,t):this.ir.remove(e),i=this.yr(this.ir),a=this.yr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Fr(o,u).then((function(){n.ir=r}))}},{key:"gr",value:function(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"yr",value:function(e){var t=ak();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Wx=function(){function e(){hn(this,e),this.$r=new zx,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return pn(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.$r.Zi(e),this.Br[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Br[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.$r.tr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Br[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.$r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"start",value:function(){return this.$r=new zx,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Kx=function(){function e(){hn(this,e)}return pn(e,[{key:"Lr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Hx=function(){function e(){var t=this;hn(this,e),this.Ur=function(){return t.qr()},this.Kr=function(){return t.Gr()},this.Qr=[],this.jr()}return pn(e,[{key:"Lr",value:function(e){this.Qr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}},{key:"qr",value:function(){Gv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=vn(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){Gv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=vn(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Gx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Qx=function(){function e(t){hn(this,e),this.Wr=t.Wr,this.zr=t.zr}return pn(e,[{key:"Hr",value:function(e){this.Jr=e}},{key:"Yr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.Zr=e}},{key:"close",value:function(){this.zr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"eo",value:function(){this.Jr()}},{key:"no",value:function(e){this.Xr(e)}},{key:"so",value:function(e){this.Zr(e)}}]),e}(),$x=function(e){yn(n,e);var t=_n(n);function n(e){var r;return hn(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return pn(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Bv;o.listenOnce(Mv.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Lv.NO_ERROR:var t=o.getResponseJson();Gv("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Lv.TIMEOUT:Gv("Connection",'RPC "'+e+'" timed out'),a(new tm(em.DEADLINE_EXCEEDED,"Request time out"));break;case Lv.HTTP_ERROR:var n=o.getStatus();if(Gv("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(em).indexOf(t)>=0?t:em.UNKNOWN}(r.status);a(new tm(u,r.message))}else a(new tm(em.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new tm(em.UNAVAILABLE,"Connection failed."));break;default:Xv()}}finally{Gv("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"lo",value:function(e,t,n){var r=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Ov(),a=Dv(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new jv({})),this.ao(o.initMessageHeaders,t,n),Dn()||Fn()||On().indexOf("Electron/")>=0||Un()||On().indexOf("MSAppHost/")>=0||Mn()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Gv("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Qx({Wr:function(e){l?Gv("Connection","Not sending because WebChannel is closed:",e):(c||(Gv("Connection","Opening WebChannel transport."),s.open(),c=!0),Gv("Connection","WebChannel sending:",e),s.send(e))},zr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Vv.EventType.OPEN,(function(){l||Gv("Connection","WebChannel transport opened.")})),h(s,Vv.EventType.CLOSE,(function(){l||(l=!0,Gv("Connection","WebChannel transport closed"),f.no())})),h(s,Vv.EventType.ERROR,(function(e){l||(l=!0,$v("Connection","WebChannel transport errored:",e),f.no(new tm(em.UNAVAILABLE,"The operation could not be completed")))})),h(s,Vv.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Jv(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Gv("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=My[e];if(void 0!==t)return zy(t)}(a),u=i.message;void 0===o&&(o=em.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.no(new tm(o,u)),s.close()}else Gv("Connection","WebChannel received:",n),f.so(n)}})),h(a,Fv.STAT_EVENT,(function(e){e.stat===Uv.PROXY?Gv("Connection","Detected buffering proxy"):e.stat===Uv.NOPROXY&&Gv("Connection","Detected no buffering proxy")})),setTimeout((function(){f.eo()}),0),f}}]),n}(function(){function e(t){hn(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.io=n+"://"+t.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return pn(e,[{key:"oo",value:function(e,t,n,r,i){var a=this.uo(e,t);Gv("RestConnection","Sending: ",a,n);var o={};return this.ao(o,r,i),this.co(e,a,o,n).then((function(e){return Gv("RestConnection","Received: ",e),e}),(function(t){throw $v("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ho",value:function(e,t,n,r,i){return this.oo(e,t,n,r,i)}},{key:"ao",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"uo",value:function(e,t){var n=Gx[e];return"".concat(this.io,"/v1/").concat(t,":").concat(n)}}]),e}());function Yx(){return"undefined"!=typeof window?window:null}function Xx(){return"undefined"!=typeof document?document:null}function Jx(e){return new gk(e,!0)}var Zx=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;hn(this,e),this.Yn=t,this.timerId=n,this.fo=r,this._o=i,this.wo=a,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}return pn(e,[{key:"reset",value:function(){this.mo=0}},{key:"Io",value:function(){this.mo=this.wo}},{key:"To",value:function(e){var t=this;this.cancel();var n=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,n-r);i>0&&Gv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.mo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.po=Date.now(),e()})),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}},{key:"Ao",value:function(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}},{key:"cancel",value:function(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}},{key:"Eo",value:function(){return(Math.random()-.5)*this.mo}}]),e}(),e_=function(){function e(t,n,r,i,a,o,u,s){hn(this,e),this.Yn=t,this.Ro=r,this.Po=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new Zx(t,n)}return pn(e,[{key:"Co",value:function(){return 1===this.state||5===this.state||this.xo()}},{key:"xo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.No()}},{key:"stop",value:function(){var e=sn(ln().mark((function e(){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Co(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ko",value:function(){this.state=0,this.Do.reset()}},{key:"Mo",value:function(){var e=this;this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,(function(){return e.Oo()})))}},{key:"Fo",value:function(e){this.$o(),this.stream.send(e)}},{key:"Oo",value:function(){var e=sn(ln().mark((function e(){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.xo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"close",value:function(){var e=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$o(),this.Bo(),this.Do.cancel(),this.Vo++,4!==t?this.Do.reset():n&&n.code===em.RESOURCE_EXHAUSTED?(Qv(n.toString()),Qv("Using maximum backoff delay to prevent overloading the backend."),this.Do.Io()):n&&n.code===em.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Lo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Yr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Vo===n&&e.qo(i,a)}),(function(n){t((function(){var t=new tm(em.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ko(t)}))}))}},{key:"qo",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr((function(){r((function(){return n.state=2,n.So=n.Yn.enqueueAfterDelay(n.Po,1e4,(function(){return n.xo()&&(n.state=3),Promise.resolve()})),n.listener.Hr()}))})),this.stream.Yr((function(e){r((function(){return n.Ko(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"No",value:function(){var e=this;this.state=5,this.Do.To(sn(ln().mark((function t(){return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ko",value:function(e){return Gv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Vo===e?n():(Gv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),t_=function(e){yn(n,e);var t=_n(n);function n(e,r,i,a,o,u){var s;return hn(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return pn(n,[{key:"Go",value:function(e,t){return this.bo.lo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Do.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Xv()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Jv(void 0===t||"string"==typeof t),Tm.fromBase64String(t||"")):(Jv(void 0===t||t instanceof Uint8Array),Tm.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?em.UNKNOWN:zy(e.code);return new tm(t,e.message||"")}(o);n=new lk(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Ik(e,s.document.name),l=wk(s.document.updateTime),f=new sg({mapValue:{fields:s.document.fields}}),h=lg.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new sk(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Ik(e,v.document),g=v.readTime?wk(v.readTime):ym.min(),y=lg.newNoDocument(m,g),k=v.removedTargetIds||[];n=new sk([],k,y.key,y)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Ik(e,b.document),x=b.removedTargetIds||[];n=new sk([],x,w,null)}else{if(!("filter"in t))return Xv();t.filter;var _=t.filter;_.targetId;var S=_.count||0,I=new Vy(S),E=_.targetId;n=new ck(E,I)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return ym.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ym.min():t.readTime?wk(t.readTime):ym.min()}(e);return this.listener.Qo(t,n)}},{key:"jo",value:function(e){var t={};t.database=Ck(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=Sg(r)?{documents:Lk(e,r)}:{query:Mk(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=kk(e,t.resumeToken):t.snapshotVersion.compareTo(ym.min())>0&&(n.readTime=yk(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xv()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Fo(t)}},{key:"Wo",value:function(e){var t={};t.database=Ck(this.M),t.removeTarget=e,this.Fo(t)}}]),n}(e_),n_=function(e){yn(n,e);var t=_n(n);function n(e,r,i,a,o,u){var s;return hn(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.zo=!1,s}return pn(n,[{key:"Ho",get:function(){return this.zo}},{key:"start",value:function(){this.zo=!1,this.lastStreamToken=void 0,pi(kn(n.prototype),"start",this).call(this)}},{key:"Lo",value:function(){this.zo&&this.Jo([])}},{key:"Go",value:function(e,t){return this.bo.lo("Write",e,t)}},{key:"onMessage",value:function(e){if(Jv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();var t=function(e,t){return e&&e.length>0?(Jv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?wk(e.updateTime):wk(t);return n.isEqual(ym.min())&&(n=wk(t)),new xy(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=wk(e.commitTime);return this.listener.Yo(n,t)}return Jv(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}},{key:"Zo",value:function(){var e={};e.database=Ck(this.M),this.Fo(e)}},{key:"Jo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Ok(t.M,e)}))};this.Fo(n)}}]),n}(e_),r_=function(e){yn(n,e);var t=_n(n);function n(e,r,i,a){var o;return hn(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.tu=!1,o}return pn(n,[{key:"eu",value:function(){if(this.tu)throw new tm(em.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"oo",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.bo.oo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===em.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new tm(em.UNKNOWN,e.toString())}))}},{key:"ho",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.bo.ho(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===em.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new tm(em.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.tu=!0}}]),n}(function(){return pn((function e(){hn(this,e)}))}()),i_=function(){function e(t,n){hn(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}return pn(e,[{key:"ru",value:function(){var e=this;0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.su=null,e.uu("Backend didn't respond within 10 seconds."),e.ou("Offline"),Promise.resolve()})))}},{key:"au",value:function(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ou("Offline")))}},{key:"set",value:function(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}},{key:"ou",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"uu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.iu?(Qv(t),this.iu=!1):Gv("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.su&&(this.su.cancel(),this.su=null)}}]),e}(),a_=pn((function e(t,n,r,i,a){var o=this;hn(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=a,this._u.Lr((function(e){r.enqueueAndForget(sn(ln().mark((function e(){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=m_(o),!e.t0){e.next=5;break}return Gv("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=sn(ln().mark((function e(t){var n;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Zv(t)).fu.add(4),e.next=4,s_(n);case 4:return n.wu.set("Unknown"),n.fu.delete(4),e.next=8,o_(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.wu=new i_(r,i)}));function o_(e){return u_.apply(this,arguments)}function u_(){return u_=sn(ln().mark((function e(t){var n,r,i;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m_(t)){e.next=18;break}n=vn(t.du),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),u_.apply(this,arguments)}function s_(e){return c_.apply(this,arguments)}function c_(){return c_=sn(ln().mark((function e(t){var n,r,i;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=vn(t.du),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),c_.apply(this,arguments)}function l_(e,t){var n=Zv(e);n.lu.has(t.targetId)||(n.lu.set(t.targetId,t),v_(n)?p_(n):K_(n).xo()&&h_(n,t))}function f_(e,t){var n=Zv(e),r=K_(n);n.lu.delete(t),r.xo()&&d_(n,t),0===n.lu.size&&(r.xo()?r.Mo():m_(n)&&n.wu.set("Unknown"))}function h_(e,t){e.mu.Z(t.targetId),K_(e).jo(t)}function d_(e,t){e.mu.Z(t),K_(e).Wo(t)}function p_(e){e.mu=new hk({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.lu.get(t)||null}}),K_(e).start(),e.wu.ru()}function v_(e){return m_(e)&&!K_(e).Co()&&e.lu.size>0}function m_(e){return 0===Zv(e).fu.size}function g_(e){e.mu=void 0}function y_(e){return k_.apply(this,arguments)}function k_(){return k_=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.lu.forEach((function(e,n){h_(t,e)}));case 1:case"end":return e.stop()}}),e)}))),k_.apply(this,arguments)}function b_(e,t){return w_.apply(this,arguments)}function w_(){return w_=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g_(t),v_(t)?(t.wu.au(n),p_(t)):t.wu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),w_.apply(this,arguments)}function x_(e,t,n){return __.apply(this,arguments)}function __(){return __=sn(ln().mark((function e(t,n,r){var i;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.wu.set("Online"),!(n instanceof lk&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=sn(ln().mark((function e(t,n){var r,i,a,o;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=vn(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.lu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.lu.delete(o),t.mu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Gv("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,S_(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof sk?t.mu.ut(n):n instanceof ck?t.mu._t(n):t.mu.ht(n),r.isEqual(ym.min())){e.next=29;break}return e.prev=14,e.next=17,cx(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.mu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.lu.get(r);i&&e.lu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.lu.get(t);if(n){e.lu.set(t,n.withResumeToken(Tm.EMPTY_BYTE_STRING,n.snapshotVersion)),d_(e,t);var r=new Mb(n.target,t,1,n.sequenceNumber);h_(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Gv("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,S_(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),__.apply(this,arguments)}function S_(e,t,n){return I_.apply(this,arguments)}function I_(){return I_=sn(ln().mark((function e(t,n,r){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Eb(n)){e.next=2;break}throw n;case 2:return t.fu.add(1),e.next=5,s_(t);case 5:t.wu.set("Offline"),r||(r=function(){return cx(t.localStore)}),t.asyncQueue.enqueueRetryable(sn(ln().mark((function e(){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gv("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.fu.delete(1),e.next=6,o_(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),I_.apply(this,arguments)}function E_(e,t){return t().catch((function(n){return S_(e,n,t)}))}function T_(e){return C_.apply(this,arguments)}function C_(){return C_=sn(ln().mark((function e(t){var n,r,i,a;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Zv(t),r=H_(n),i=n.hu.length>0?n.hu[n.hu.length-1].batchId:-1;case 2:if(!A_(n)){e.next=19;break}return e.prev=3,e.next=6,hx(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.hu.length&&r.Mo(),e.abrupt("break",19);case 10:i=a.batchId,N_(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,S_(n,e.t0);case 17:e.next=2;break;case 19:R_(n)&&P_(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),C_.apply(this,arguments)}function A_(e){return m_(e)&&e.hu.length<10}function N_(e,t){e.hu.push(t);var n=H_(e);n.xo()&&n.Ho&&n.Jo(t.mutations)}function R_(e){return m_(e)&&!H_(e).Co()&&e.hu.length>0}function P_(e){H_(e).start()}function O_(e){return D_.apply(this,arguments)}function D_(){return D_=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H_(t).Zo();case 1:case"end":return e.stop()}}),e)}))),D_.apply(this,arguments)}function L_(e){return M_.apply(this,arguments)}function M_(){return M_=sn(ln().mark((function e(t){var n,r,i,a;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=H_(t),r=vn(t.hu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Jo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),M_.apply(this,arguments)}function F_(e,t,n){return U_.apply(this,arguments)}function U_(){return U_=sn(ln().mark((function e(t,n,r){var i,a;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.hu.shift(),a=Db.from(i,n,r),e.next=3,E_(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,T_(t);case 5:case"end":return e.stop()}}),e)}))),U_.apply(this,arguments)}function j_(e,t){return V_.apply(this,arguments)}function V_(){return V_=sn(ln().mark((function e(t,n){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&H_(t).Ho,!e.t0){e.next=4;break}return e.next=4,function(){var e=sn(ln().mark((function e(t,n){var r,i;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!By(i=n.code)||i===em.ABORTED){e.next=7;break}return r=t.hu.shift(),H_(t).ko(),e.next=5,E_(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,T_(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:R_(t)&&P_(t);case 5:case"end":return e.stop()}}),e)}))),V_.apply(this,arguments)}function B_(e,t){return z_.apply(this,arguments)}function z_(){return z_=sn(ln().mark((function e(t,n){var r,i;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Zv(t)).asyncQueue.verifyOperationInProgress(),Gv("RemoteStore","RemoteStore received new credentials"),i=m_(r),r.fu.add(3),e.next=6,s_(r);case 6:return i&&r.wu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.fu.delete(3),e.next=12,o_(r);case 12:case"end":return e.stop()}}),e)}))),z_.apply(this,arguments)}function q_(e,t){return W_.apply(this,arguments)}function W_(){return W_=sn(ln().mark((function e(t,n){var r;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Zv(t),!n){e.next=7;break}return r.fu.delete(2),e.next=5,o_(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.fu.add(2),e.next=12,s_(r);case 12:r.wu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),W_.apply(this,arguments)}function K_(e){return e.gu||(e.gu=function(e,t,n){var r=Zv(e);return r.eu(),new t_(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:y_.bind(null,e),Yr:b_.bind(null,e),Qo:x_.bind(null,e)}),e.du.push(function(){var t=sn(ln().mark((function t(n){return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.gu.ko(),v_(e)?p_(e):e.wu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.gu.stop();case 6:g_(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}function H_(e){return e.yu||(e.yu=function(e,t,n){var r=Zv(e);return r.eu(),new n_(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:O_.bind(null,e),Yr:j_.bind(null,e),Xo:L_.bind(null,e),Yo:F_.bind(null,e)}),e.du.push(function(){var t=sn(ln().mark((function t(n){return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.yu.ko(),t.next=4,T_(e);case 4:t.next=9;break;case 6:return t.next=8,e.yu.stop();case 8:e.hu.length>0&&(Gv("RemoteStore","Stopping write stream with ".concat(e.hu.length," pending writes")),e.hu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.yu}var G_=function(){function e(t,n,r,i,a){hn(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new nm,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return pn(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tm(em.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Q_(e,t){if(Qv("AsyncQueue","".concat(t,": ").concat(e)),Eb(e))return new tm(em.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var $_=function(){function e(t){hn(this,e),this.comparator=t?function(e,n){return t(e,n)||Vm.comparator(e.key,n.key)}:function(e,t){return Vm.comparator(e.key,t.key)},this.keyedMap=Zy(),this.sortedSet=new Wy(this.comparator)}return pn(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Y_=function(){function e(){hn(this,e),this.pu=new Wy(Vm.comparator)}return pn(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.pu.get(t);n?0!==e.type&&3===n.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==n.type?this.pu=this.pu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pu=this.pu.remove(t):1===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):Xv():this.pu=this.pu.insert(t,e)}},{key:"Iu",value:function(){var e=[];return this.pu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),X_=function(){function e(t,n,r,i,a,o,u,s){hn(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return pn(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,$_.emptySet(n),a,r,i,!0,!1)}}]),e}(),J_=pn((function e(){hn(this,e),this.Tu=void 0,this.listeners=[]})),Z_=pn((function e(){hn(this,e),this.queries=new qy((function(e){return ey(e)}),Zg),this.onlineState="Unknown",this.Eu=new Set}));function eS(e,t){return tS.apply(this,arguments)}function tS(){return tS=sn(ln().mark((function e(t,n){var r,i,a,o,u;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Zv(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new J_),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Tu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Q_(e.t0,"Initialization of query '".concat(ty(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Au(r.onlineState),o.Tu&&n.Ru(o.Tu)&&oS(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),tS.apply(this,arguments)}function nS(e,t){return rS.apply(this,arguments)}function rS(){return rS=sn(ln().mark((function e(t,n){var r,i,a,o,u;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Zv(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),rS.apply(this,arguments)}function iS(e,t){var n,r=Zv(e),i=!1,a=vn(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=vn(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Ru(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Tu=o}}}catch(f){a.e(f)}finally{a.f()}i&&oS(r)}function aS(e,t,n){var r=Zv(e),i=r.queries.get(t);if(i){var a,o=vn(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function oS(e){e.Eu.forEach((function(e){e.next()}))}var uS=function(){function e(t,n,r){hn(this,e),this.query=t,this.Pu=n,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}return pn(e,[{key:"Ru",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=vn(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new X_(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),a=!0):this.Su(e,this.onlineState)&&(this.Du(e),a=!0),this.Vu=e,a}},{key:"onError",value:function(e){this.Pu.error(e)}},{key:"Au",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}},{key:"Su",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Cu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Du",value:function(e){e=X_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}]),e}(),sS=function(){function e(t,n){hn(this,e),this.payload=t,this.byteLength=n}return pn(e,[{key:"xu",value:function(){return"metadata"in this.payload}}]),e}(),cS=function(){function e(t){hn(this,e),this.M=t}return pn(e,[{key:"fi",value:function(e){return Ik(this.M,e)}},{key:"di",value:function(e){return e.metadata.exists?Rk(this.M,e.document,!1):lg.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}},{key:"_i",value:function(e){return wk(e)}}]),e}(),lS=function(){function e(t,n,r){hn(this,e),this.Nu=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=fS(t)}return pn(e,[{key:"ku",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=_m.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Mu",value:function(e){var t,n=new Map,r=new cS(this.M),i=vn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.fi(a.metadata.name),s=vn(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||rk()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=sn(ln().mark((function e(){var t,n,r,i,a;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bx(this.localStore,new cS(this.M),this.documents,this.Nu.id);case 2:t=e.sent,n=this.Mu(this.documents),r=vn(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,xx(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Fu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function fS(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var hS=pn((function e(t){hn(this,e),this.key=t})),dS=pn((function e(t){hn(this,e),this.key=t})),pS=function(){function e(t,n){hn(this,e),this.query=t,this.$u=n,this.Bu=null,this.current=!1,this.Lu=rk(),this.mutatedKeys=rk(),this.Uu=iy(t),this.qu=new $_(this.Uu)}return pn(e,[{key:"Ku",get:function(){return this.$u}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Qu:new Y_,i=t?t.qu:this.qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=Kg(this.query)&&i.size===this.query.limit?i.last():null,c=Hg(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=ny(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ju(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Uu(f,s)>0||c&&n.Uu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Kg(this.query)||Hg(this.query))for(;o.size>this.query.limit;){var l=Kg(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{qu:o,Qu:r,ni:u,mutatedKeys:a}}},{key:"ju",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;var a=e.Qu.Iu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xv()}};return n(e)-n(t)}(e.type,t.type)||r.Uu(e.doc,t.doc)})),this.Wu(n);var o=t?this.zu():[],u=0===this.Lu.size&&this.current?1:0,s=u!==this.Bu;return this.Bu=u,0!==a.length||s?{snapshot:new X_(this.query,e.qu,i,a,e.mutatedKeys,0===u,s,!1),Hu:o}:{Hu:o}}},{key:"Au",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new Y_,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}},{key:"Ju",value:function(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}},{key:"Wu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.$u=t.$u.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.$u=t.$u.delete(e)})),this.current=e.current)}},{key:"zu",value:function(){var e=this;if(!this.current)return[];var t=this.Lu;this.Lu=rk(),this.qu.forEach((function(t){e.Ju(t.key)&&(e.Lu=e.Lu.add(t.key))}));var n=[];return t.forEach((function(t){e.Lu.has(t)||n.push(new dS(t))})),this.Lu.forEach((function(e){t.has(e)||n.push(new hS(e))})),n}},{key:"Yu",value:function(e){this.$u=e.li,this.Lu=rk();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Xu",value:function(){return X_.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}]),e}(),vS=pn((function e(t,n,r){hn(this,e),this.query=t,this.targetId=n,this.view=r})),mS=pn((function e(t){hn(this,e),this.key=t,this.Zu=!1})),gS=function(){function e(t,n,r,i,a,o){hn(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.ta={},this.ea=new qy((function(e){return ey(e)}),Zg),this.na=new Map,this.sa=new Set,this.ia=new Wy(Vm.comparator),this.ra=new Map,this.oa=new Ex,this.ua={},this.aa=new Map,this.ca=Tw.yn(),this.onlineState="Unknown",this.ha=void 0}return pn(e,[{key:"isPrimaryClient",get:function(){return!0===this.ha}}]),e}();function yS(e,t){return kS.apply(this,arguments)}function kS(){return kS=sn(ln().mark((function e(t,n){var r,i,a,o,u,s;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fI(t),!(o=r.ea.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Xu(),e.next=15;break;case 6:return e.next=8,dx(r.localStore,Xg(n));case 8:return u=e.sent,r.isPrimaryClient&&l_(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,bS(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),kS.apply(this,arguments)}function bS(e,t,n,r){return wS.apply(this,arguments)}function wS(){return wS=sn(ln().mark((function e(t,n,r,i){var a,o,u,s,c,l;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.la=function(e,n,r){return function(){var e=sn(ln().mark((function e(t,n,r,i){var a,o,u;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ni,!e.t0){e.next=6;break}return e.next=5,mx(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(BS(t,n.targetId,u.Hu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,mx(t.localStore,n,!0);case 3:return a=e.sent,o=new pS(n,a.li),u=o.Gu(a.documents),s=uk.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),BS(t,r,c.Hu),l=new vS(n,r,o),e.abrupt("return",(t.ea.set(n,l),t.na.has(r)?t.na.get(r).push(n):t.na.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),wS.apply(this,arguments)}function xS(e,t){return _S.apply(this,arguments)}function _S(){return _S=sn(ln().mark((function e(t,n){var r,i,a;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Zv(t),i=r.ea.get(n),!((a=r.na.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.na.set(i.targetId,a.filter((function(e){return!Zg(e,n)}))),void r.ea.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,px(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),f_(r.remoteStore,i.targetId),jS(r,i.targetId)})).catch(Pw);case 9:e.next=14;break;case 11:return jS(r,i.targetId),e.next=14,px(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),_S.apply(this,arguments)}function SS(e,t,n){return IS.apply(this,arguments)}function IS(){return IS=sn(ln().mark((function e(t,n,r){var i,a,o;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hI(t),e.prev=1,e.next=4,function(e,t){var n,r=Zv(e),i=gm.now(),a=t.reduce((function(e,t){return e.add(t.key)}),rk());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ci.Ks(e,a).next((function(a){n=a;var o,u=[],s=vn(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Cy(c,n.get(c.key));null!=l&&u.push(new Py(c.key,l,cg(l.value.mapValue),_y.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Bs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ua[e.currentUser.toKey()];r||(r=new Wy(pm)),r=r.insert(t,n),e.ua[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,WS(i,a.changes);case 9:return e.next=11,T_(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Q_(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),IS.apply(this,arguments)}function ES(e,t){return TS.apply(this,arguments)}function TS(){return TS=sn(ln().mark((function e(t,n){var r,i;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zv(t),e.prev=1,e.next=4,lx(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ra.get(t);n&&(Jv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Zu=!0:e.modifiedDocuments.size>0?Jv(n.Zu):e.removedDocuments.size>0&&(Jv(n.Zu),n.Zu=!1))})),e.next=8,WS(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Pw(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),TS.apply(this,arguments)}function CS(e,t,n){var r=Zv(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ea.forEach((function(e,n){var r=n.view.Au(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Zv(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=vn(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Au(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&oS(n)}(r.eventManager,t),i.length&&r.ta.Qo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function AS(e,t,n){return NS.apply(this,arguments)}function NS(){return NS=sn(ln().mark((function e(t,n,r){var i,a,o,u,s,c;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Zv(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ra.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Wy(Vm.comparator)).insert(o,lg.newNoDocument(o,ym.min())),s=rk().add(o),c=new ok(ym.min(),new Map,new Gy(pm),u,s),e.next=9,ES(i,c);case 9:i.ia=i.ia.remove(o),i.ra.delete(n),qS(i),e.next=16;break;case 14:return e.next=16,px(i.localStore,n,!1).then((function(){return jS(i,n,r)})).catch(Pw);case 16:case"end":return e.stop()}}),e)}))),NS.apply(this,arguments)}function RS(e,t){return PS.apply(this,arguments)}function PS(){return PS=sn(ln().mark((function e(t,n){var r,i,a;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zv(t),i=n.batch.batchId,e.prev=1,e.next=4,sx(r.localStore,n);case 4:return a=e.sent,US(r,i,null),FS(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,WS(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Pw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),PS.apply(this,arguments)}function OS(e,t,n){return DS.apply(this,arguments)}function DS(){return DS=sn(ln().mark((function e(t,n,r){var i,a;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zv(t),e.prev=1,e.next=4,function(e,t){var n=Zv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return Jv(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,US(i,n,r),FS(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,WS(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Pw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),DS.apply(this,arguments)}function LS(e,t){return MS.apply(this,arguments)}function MS(){return MS=sn(ln().mark((function e(t,n){var r,i,a,o;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m_((r=Zv(t)).remoteStore)||Gv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Zv(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Bs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.aa.get(i)||[]).push(n),r.aa.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Q_(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),MS.apply(this,arguments)}function FS(e,t){(e.aa.get(t)||[]).forEach((function(e){e.resolve()})),e.aa.delete(t)}function US(e,t,n){var r=Zv(e),i=r.ua[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ua[r.currentUser.toKey()]=i}}function jS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=vn(e.na.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ea.delete(a),n&&e.ta.fa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.na.delete(t),e.isPrimaryClient&&e.oa.Pi(t).forEach((function(t){e.oa.containsKey(t)||VS(e,t)}))}function VS(e,t){e.sa.delete(t.path.canonicalString());var n=e.ia.get(t);null!==n&&(f_(e.remoteStore,n),e.ia=e.ia.remove(t),e.ra.delete(n),qS(e))}function BS(e,t,n){var r,i=vn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof hS?(e.oa.addReference(a.key,t),zS(e,a)):a instanceof dS?(Gv("SyncEngine","Document no longer in limbo: "+a.key),e.oa.removeReference(a.key,t),e.oa.containsKey(a.key)||VS(e,a.key)):Xv()}}catch(o){i.e(o)}finally{i.f()}}function zS(e,t){var n=t.key,r=n.path.canonicalString();e.ia.get(n)||e.sa.has(r)||(Gv("SyncEngine","New document in limbo: "+n),e.sa.add(r),qS(e))}function qS(e){for(;e.sa.size>0&&e.ia.size<e.maxConcurrentLimboResolutions;){var t=e.sa.values().next().value;e.sa.delete(t);var n=new Vm(_m.fromString(t)),r=e.ca.next();e.ra.set(r,new mS(n)),e.ia=e.ia.insert(n,r),l_(e.remoteStore,new Mb(Xg(Wg(n.path)),r,2,fm.A))}}function WS(e,t,n){return KS.apply(this,arguments)}function KS(){return KS=sn(ln().mark((function e(t,n,r){var i,a,o,u;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Zv(t),a=[],o=[],u=[],e.t0=i.ea.isEmpty(),e.t0){e.next=9;break}return i.ea.forEach((function(e,t){u.push(i.la(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=nx.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.ta.Qo(a),e.next=9,function(){var e=sn(ln().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zv(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return wb.forEach(n,(function(t){return wb.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return wb.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Eb(e.t0)){e.next=10;break}throw e.t0;case 10:Gv("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=vn(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.ii.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.ii=r.ii.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),KS.apply(this,arguments)}function HS(e,t){return GS.apply(this,arguments)}function GS(){return GS=sn(ln().mark((function e(t,n){var r,i;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Zv(t)).currentUser.isEqual(n)){e.next=11;break}return Gv("SyncEngine","User change. New user:",n.toKey()),e.next=5,ox(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.aa.forEach((function(e){e.forEach((function(e){e.reject(new tm(em.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.aa.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,WS(r,i.hi);case 11:case"end":return e.stop()}}),e)}))),GS.apply(this,arguments)}function QS(e,t){var n=Zv(e),r=n.ra.get(t);if(r&&r.Zu)return rk().add(r.key);var i=rk(),a=n.na.get(t);if(!a)return i;var o,u=vn(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ea.get(s);i=i.unionWith(c.view.Ku)}}catch(l){u.e(l)}finally{u.f()}return i}function $S(e,t){return YS.apply(this,arguments)}function YS(){return YS=sn(ln().mark((function e(t,n){var r,i,a;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zv(t),e.next=3,mx(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Yu(i),e.abrupt("return",(r.isPrimaryClient&&BS(r,n.targetId,a.Hu),a));case 6:case"end":return e.stop()}}),e)}))),YS.apply(this,arguments)}function XS(e,t){return JS.apply(this,arguments)}function JS(){return JS=sn(ln().mark((function e(t,n){var r;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zv(t),e.abrupt("return",yx(r.localStore,n).then((function(e){return WS(r,e)})));case 2:case"end":return e.stop()}}),e)}))),JS.apply(this,arguments)}function ZS(e,t,n,r){return eI.apply(this,arguments)}function eI(){return eI=sn(ln().mark((function e(t,n,r,i){var a,o;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Zv(t),e.next=3,function(e,t){var n=Zv(e),r=Zv(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.fn(e,t).next((function(t){return t?n.ci.Ks(e,t):wb.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,T_(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(US(a,n,i||null),FS(a,n),function(e,t){Zv(Zv(e).Bs)._n(t)}(a.localStore,n)):Xv();case 11:return e.next=13,WS(a,o);case 13:e.next=16;break;case 15:Gv("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),eI.apply(this,arguments)}function tI(e,t){return nI.apply(this,arguments)}function nI(){return nI=sn(ln().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fI(r=Zv(t)),hI(r),!0!==n||!0===r.ha){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,rI(r,i.toArray());case 5:return a=e.sent,r.ha=!0,e.next=9,q_(r.remoteStore,!0);case 9:o=vn(a);try{for(o.s();!(u=o.n()).done;)s=u.value,l_(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ha){e.next=25;break}return c=[],l=Promise.resolve(),r.na.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return jS(r,t),px(r.localStore,t,!0)})),f_(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,rI(r,c);case 21:return function(e){var t=Zv(e);t.ra.forEach((function(e,n){f_(t.remoteStore,n)})),t.oa.bi(),t.ra=new Map,t.ia=new Wy(Vm.comparator)}(r),r.ha=!1,e.next=25,q_(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),nI.apply(this,arguments)}function rI(e,t,n){return iI.apply(this,arguments)}function iI(){return iI=sn(ln().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,g;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Zv(t),a=[],o=[],u=vn(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.na.get(c))||0===f.length){e.next=34;break}return e.next=11,dx(i.localStore,Xg(f[0]));case 11:l=e.sent,h=vn(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ea.get(p),e.next=20,$S(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,gx(i.localStore,c);case 36:return g=e.sent,e.next=39,dx(i.localStore,g);case 39:return l=e.sent,e.next=42,bS(i,aI(g),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.ta.Qo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),iI.apply(this,arguments)}function aI(e){return qg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function oI(e){var t=Zv(e);return Zv(Zv(t.localStore).persistence).Fs()}function uI(e,t,n,r){return sI.apply(this,arguments)}function sI(){return sI=sn(ln().mark((function e(t,n,r,i){var a,o,u,s;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Zv(t)).ha){e.next=3;break}return e.abrupt("return",void Gv("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.na.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,yx(a.localStore,ry(o[0]));case 10:return u=e.sent,s=ok.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,WS(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,px(a.localStore,n,!0);case 17:return jS(a,n,i),e.abrupt("break",20);case 19:Xv();case 20:case"end":return e.stop()}}),e)}))),sI.apply(this,arguments)}function cI(e,t,n){return lI.apply(this,arguments)}function lI(){return lI=sn(ln().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=fI(t)).ha){e.next=45;break}a=vn(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.na.has(u)){e.next=10;break}return Gv("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,gx(i.localStore,u);case 12:return s=e.sent,e.next=15,dx(i.localStore,s);case 15:return c=e.sent,e.next=18,bS(i,aI(s),c.targetId,!1);case 18:l_(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=vn(r),e.prev=30,h=ln().mark((function e(){var t;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.na.has(t),!e.t0){e.next=5;break}return e.next=5,px(i.localStore,t,!1).then((function(){f_(i.remoteStore,t),jS(i,t)})).catch(Pw);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),lI.apply(this,arguments)}function fI(e){var t=Zv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ES.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=QS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=AS.bind(null,t),t.ta.Qo=iS.bind(null,t.eventManager),t.ta.fa=aS.bind(null,t.eventManager),t}function hI(e){var t=Zv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=RS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=OS.bind(null,t),t}function dI(e,t,n){var r=Zv(e);(function(){var e=sn(ln().mark((function e(t,n,r){var i,a,o,u,s;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Zv(e),r=wk(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n._s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(fS(i)),a=new lS(i,t.localStore,n.M),e.next=15,n.da();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.ku(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.da();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,WS(t,s.Fu,void 0);case 31:return e.next=33,function(e,t){var n=Zv(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n._s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",($v("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var pI=function(){function e(){hn(this,e),this.synchronizeTabs=!1}return pn(e,[{key:"initialize",value:function(){var e=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=Jx(t.databaseInfo.databaseId),this.sharedClientState=this._a(t),this.persistence=this.wa(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.ma(t),this.localStore=this.ga(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return null}},{key:"ga",value:function(e){return ax(this.persistence,new rx,e.initialUser,this.M)}},{key:"wa",value:function(e){return new Px(Dx.zi,this.M)}},{key:"_a",value:function(e){return new Wx}},{key:"terminate",value:function(){var e=sn(ln().mark((function e(){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),vI=function(e){yn(n,e);var t=_n(n);function n(e,r,i){var a;return hn(this,n),(a=t.call(this)).ya=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return pn(n,[{key:"initialize",value:function(){var e=sn(ln().mark((function e(t){var r=this;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pi(kn(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ya.initialize(this,t);case 4:return e.next=6,hI(this.ya.syncEngine);case 6:return e.next=8,T_(this.ya.remoteStore);case 8:return e.next=10,this.persistence.Ts((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ga",value:function(e){return ax(this.persistence,new rx,e.initialUser,this.M)}},{key:"ma",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Mw(t,e.asyncQueue)}},{key:"wa",value:function(e){var t=ex(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?kw.withCacheSize(this.cacheSizeBytes):kw.DEFAULT;return new Xw(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Yx(),Xx(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"_a",value:function(e){return new Wx}}]),n}(pI),mI=function(e){yn(n,e);var t=_n(n);function n(e,r){var i;return hn(this,n),(i=t.call(this,e,r,!1)).ya=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return pn(n,[{key:"initialize",value:function(){var e=sn(ln().mark((function e(t){var r,i=this;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pi(kn(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ya.syncEngine,e.t0=this.sharedClientState instanceof qx,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Mr:ZS.bind(null,r),Or:uI.bind(null,r),Fr:cI.bind(null,r),Fs:oI.bind(null,r),kr:XS.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ts(function(){var e=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tI(i.ya.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_a",value:function(e){var t=Yx();if(!qx.vt(t))throw new tm(em.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ex(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new qx(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(vI),gI=function(){function e(){hn(this,e)}return pn(e,[{key:"initialize",value:function(){var e=sn(ln().mark((function e(t,n){var r=this;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return CS(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=HS.bind(null,this.syncEngine),e.next=12,q_(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Z_}},{key:"createDatastore",value:function(e){var t,n=Jx(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new $x(t));return function(e,t,n,r){return new r_(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return CS(o.syncEngine,e,0)},a=Hx.vt()?new Hx:new Kx,new a_(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new gS(e,t,n,r,i,a);return o&&(u.ha=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=sn(ln().mark((function e(t){var n;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zv(t),Gv("RemoteStore","RemoteStore shutting down."),n.fu.add(5),e.next=5,s_(n);case 5:n._u.shutdown(),n.wu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function yI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return sn(ln().mark((function r(){var i;return ln().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return sn(ln().mark((function e(){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var kI=function(){function e(t){hn(this,e),this.observer=t,this.muted=!1}return pn(e,[{key:"next",value:function(e){this.observer.next&&this.pa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Ia",value:function(){this.muted=!0}},{key:"pa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),bI=function(){function e(t,n){var r=this;hn(this,e),this.Ta=t,this.M=n,this.metadata=new nm,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then((function(e){e&&e.xu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return pn(e,[{key:"close",value:function(){return this.Ta.cancel()}},{key:"getMetadata",value:function(){var e=sn(ln().mark((function e(){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"da",value:function(){var e=sn(ln().mark((function e(){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Aa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Aa",value:function(){var e=sn(ln().mark((function e(){var t,n,r,i;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ra();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ea.decode(t),r=Number(n),isNaN(r)&&this.Pa("length string (".concat(n,") is not valid number")),e.next=9,this.ba(r);case 9:return i=e.sent,e.abrupt("return",new sS(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Va",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Ra",value:function(){var e=sn(ln().mark((function e(){var t,n;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Va()<0)){e.next=7;break}return e.next=3,this.va();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Va())<0&&this.Pa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=sn(ln().mark((function e(t){var n;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.va();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ea.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pa",value:function(e){throw this.Ta.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"va",value:function(){var e=sn(ln().mark((function e(){var t,n;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ta.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),wI=function(){function e(t){hn(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return pn(e,[{key:"lookup",value:function(){var e=sn(ln().mark((function e(t){var n,r=this;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new tm(em.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=sn(ln().mark((function e(t,n){var r,i,a,o,u,s;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zv(t),i=Ck(r.M)+"/documents",a={documents:n.map((function(e){return Sk(r.M,e)}))},e.next=5,r.ho("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Pk(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Jv(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Uy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=sn(ln().mark((function e(){var t,n=this;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Vm.fromPath(t);n.mutations.push(new jy(r,n.precondition(r)))})),e.next=7,function(){var e=sn(ln().mark((function e(t,n){var r,i,a;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zv(t),i=Ck(r.M)+"/documents",a={writes:n.map((function(e){return Ok(r.M,e)}))},e.next=3,r.oo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Xv();t=ym.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new tm(em.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?_y.updateTime(t):_y.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ym.min()))throw new tm(em.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _y.updateTime(t)}return _y.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),xI=function(){function e(t,n,r,i){hn(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.Sa=5,this.Do=new Zx(this.asyncQueue,"transaction_retry")}return pn(e,[{key:"run",value:function(){this.Sa-=1,this.Da()}},{key:"Da",value:function(){var e=this;this.Do.To(sn(ln().mark((function t(){var n,r;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new wI(e.datastore),(r=e.Ca(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.xa(t)}))}))})).catch((function(t){e.xa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Ca",value:function(e){try{var t=this.updateFunction(e);return!Fm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"xa",value:function(e){var t=this;this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Da(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Na",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!By(t)}return!1}}]),e}(),_I=function(){function e(t,n,r,i){var a=this;hn(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qv.UNAUTHENTICATED,this.clientId=dm.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gv("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Gv("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return pn(e,[{key:"getConfiguration",value:function(){var e=sn(ln().mark((function e(){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new tm(em.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new nm;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(sn(ln().mark((function n(){var r;return ln().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Q_(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function SI(e,t){return II.apply(this,arguments)}function II(){return II=sn(ln().mark((function e(t,n){var r,i;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Gv("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,ox(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),II.apply(this,arguments)}function EI(e,t){return TI.apply(this,arguments)}function TI(){return TI=sn(ln().mark((function e(t,n){var r,i;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,CI(t);case 3:return r=e.sent,Gv("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return B_(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return B_(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),TI.apply(this,arguments)}function CI(e){return AI.apply(this,arguments)}function AI(){return AI=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Gv("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,SI(t,new pI);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),AI.apply(this,arguments)}function NI(e){return RI.apply(this,arguments)}function RI(){return RI=sn(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Gv("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,EI(t,new gI);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),RI.apply(this,arguments)}function PI(e){return CI(e).then((function(e){return e.persistence}))}function OI(e){return CI(e).then((function(e){return e.localStore}))}function DI(e){return NI(e).then((function(e){return e.remoteStore}))}function LI(e){return NI(e).then((function(e){return e.syncEngine}))}function MI(e){return FI.apply(this,arguments)}function FI(){return FI=sn(ln().mark((function e(t){var n,r;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,NI(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=yS.bind(null,n.syncEngine),r.onUnlisten=xS.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),FI.apply(this,arguments)}function UI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new nm;return e.asyncQueue.enqueueAndForget(sn(ln().mark((function i(){return ln().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new kI({next:function(a){t.enqueueAndForget((function(){return nS(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new tm(em.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new tm(em.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new uS(Wg(n.path),a,{includeMetadataChanges:!0,Cu:!0});return eS(e,o)},i.next=3,MI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function jI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new nm;return e.asyncQueue.enqueueAndForget(sn(ln().mark((function i(){return ln().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new kI({next:function(n){t.enqueueAndForget((function(){return nS(e,o)})),n.fromCache&&"server"===r.source?i.reject(new tm(em.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new uS(n,a,{includeMetadataChanges:!0,Cu:!0});return eS(e,o)},i.next=3,MI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var VI=new Map;function BI(e,t,n){if(!n)throw new tm(em.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function zI(e,t,n,r){if(!0===t&&!0===r)throw new tm(em.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function qI(e){if(!Vm.isDocumentKey(e))throw new tm(em.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function WI(e){if(Vm.isDocumentKey(e))throw new tm(em.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function KI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Xv()}function HI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new tm(em.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=KI(e);throw new tm(em.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function GI(e,t){if(t<=0)throw new tm(em.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var QI=function(){function e(t){var n;if(hn(this,e),void 0===t.host){if(void 0!==t.ssl)throw new tm(em.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new tm(em.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,zI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return pn(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),$I=function(){function e(t,n,r){hn(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QI({}),this._settingsFrozen=!1,t instanceof Mm?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new tm(em.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mm(e.options.projectId)}(t))}return pn(e,[{key:"app",get:function(){if(!this._app)throw new tm(em.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new tm(em.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new im;switch(e.type){case"gapi":var t=e.client;return Jv(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new sm(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new tm(em.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=VI.get(e);t&&(Gv("ComponentProvider","Removing Datastore"),VI.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function YI(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=HI(e,$I))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&$v("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=qv.MOCK_USER;else{o=Pn(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new tm(em.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new qv(s)}e._authCredentials=new am(new rm(o,u))}}var XI=function(){function e(t,n,r){hn(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return pn(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new ZI(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),JI=function(){function e(t,n,r){hn(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return pn(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),ZI=function(e){yn(n,e);var t=_n(n);function n(e,r,i){var a;return hn(this,n),(a=t.call(this,e,r,Wg(i)))._path=i,a.type="collection",a}return pn(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new XI(this.firestore,null,new Vm(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(JI);function eE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Zn(e),BI("collection","path",t),e instanceof $I){var a=_m.fromString.apply(_m,[t].concat(r));return WI(a),new ZI(e,null,a)}if(!(e instanceof XI||e instanceof ZI))throw new tm(em.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(_m.fromString.apply(_m,[t].concat(r)));return WI(o),new ZI(e.firestore,null,o)}function tE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Zn(e),1===arguments.length&&(t=dm.R()),BI("doc","path",t),e instanceof $I){var a=_m.fromString.apply(_m,[t].concat(r));return qI(a),new XI(e,null,new Vm(a))}if(!(e instanceof XI||e instanceof ZI))throw new tm(em.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(_m.fromString.apply(_m,[t].concat(r)));return qI(o),new XI(e.firestore,e instanceof ZI?e.converter:null,new Vm(o))}function nE(e,t){return e=Zn(e),t=Zn(t),(e instanceof XI||e instanceof ZI)&&(t instanceof XI||t instanceof ZI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function rE(e,t){return e=Zn(e),t=Zn(t),e instanceof JI&&t instanceof JI&&e.firestore===t.firestore&&Zg(e._query,t._query)&&e.converter===t.converter}var iE=function(){function e(){var t=this;hn(this,e),this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new Zx(this,"async_queue_retry"),this.qa=function(){var e=Xx();e&&Gv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Do.Ao()};var n=Xx();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qa)}return pn(e,[{key:"isShuttingDown",get:function(){return this.Oa}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Ka(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;var t=Xx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.Ka(),this.Oa)return new Promise((function(){}));var n=new nm;return this.Ga((function(){return t.Oa&&t.La?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Ma.push(e),t.Qa()}))}},{key:"Qa",value:function(){var e=sn(ln().mark((function e(){var t=this;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Ma.length){e.next=14;break}return e.prev=1,e.next=4,this.Ma[0]();case 4:this.Ma.shift(),this.Do.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Eb(e.t0)){e.next=12;break}throw e.t0;case 12:Gv("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Ma.length>0&&this.Do.To((function(){return t.Qa()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.ka.then((function(){return t.Ba=!0,e().catch((function(e){t.$a=e,t.Ba=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Qv("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ba=!1,e}))}));return this.ka=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);var i=G_.createAndSchedule(this,e,t,n,(function(e){return r.ja(e)}));return this.Fa.push(i),i}},{key:"Ka",value:function(){this.$a&&Xv()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Wa",value:function(){var e=sn(ln().mark((function e(){var t;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ka,e.next=3,t;case 3:if(t!==this.ka){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"za",value:function(e){var t,n=vn(this.Fa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ha",value:function(e){var t=this;return this.Wa().then((function(){t.Fa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=vn(t.Fa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Wa()}))}},{key:"Ja",value:function(e){this.Ua.push(e)}},{key:"ja",value:function(e){var t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}]),e}();function aE(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=vn(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var oE=function(){function e(){hn(this,e),this._progressObserver={},this._taskCompletionResolver=new nm,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return pn(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),uE=function(e){yn(n,e);var t=_n(n);function n(e,r,i){var a;return hn(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new iE,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return pn(n,[{key:"_terminate",value:function(){return this._firestoreClient||cE(this),this._firestoreClient.terminate()}}]),n}($I);function sE(e){return e._firestoreClient||cE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function cE(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Lm(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new _I(e._authCredentials,e._appCheckCredentials,e._queue,r)}function lE(e,t,n){var r=new nm;return e.asyncQueue.enqueue(sn(ln().mark((function i(){return ln().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,SI(e,n);case 3:return i.next=5,EI(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===em.FAILED_PRECONDITION||e.code===em.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function fE(e){return function(e){return e.asyncQueue.enqueue(sn(ln().mark((function t(){var n,r;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,PI(e);case 2:return n=t.sent,t.next=5,DI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Zv(e);return t.fu.delete(0),o_(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(sE(e=HI(e,uE)))}function hE(e){return function(e){return e.asyncQueue.enqueue(sn(ln().mark((function t(){var n,r;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,PI(e);case 2:return n=t.sent,t.next=5,DI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=sn(ln().mark((function e(t){var n;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Zv(t)).fu.add(0),e.next=4,s_(n);case 4:n.wu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(sE(e=HI(e,uE)))}function dE(e,t){var n=sE(e=HI(e,uE)),r=new oE;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new bI(e,t)}(function(e,t){if(e instanceof Uint8Array)return yI(e,t);if(e instanceof ArrayBuffer)return yI(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Jx(t));e.asyncQueue.enqueueAndForget(sn(ln().mark((function t(){return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=dI,t.next=3,LI(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function pE(e,t){return function(e,t){return e.asyncQueue.enqueue(sn(ln().mark((function n(){return ln().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Zv(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n._s.getNamedQuery(e,t)}))},n.next=3,OI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(sE(e=HI(e,uE)),t).then((function(t){return t?new JI(e,null,t.query):null}))}function vE(e){if(e._initialized||e._terminated)throw new tm(em.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var mE=function(){function e(){hn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new tm(em.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Im(n)}return pn(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var gE=function(){function e(t){hn(this,e),this._byteString=t}return pn(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Tm.fromBase64String(t))}catch(t){throw new tm(em.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Tm.fromUint8Array(t))}}]),e}(),yE=pn((function e(t){hn(this,e),this._methodName=t})),kE=function(){function e(t,n){if(hn(this,e),!isFinite(t)||t<-90||t>90)throw new tm(em.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new tm(em.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return pn(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return pm(this._lat,e._lat)||pm(this._long,e._long)}}]),e}(),bE=/^__.*__$/,wE=function(){function e(t,n,r){hn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return pn(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Py(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ry(e,this.data,t,this.fieldTransforms)}}]),e}(),xE=function(){function e(t,n,r){hn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return pn(e,[{key:"toMutation",value:function(e,t){return new Py(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function _E(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xv()}}var SE=function(){function e(t,n,r,i,a,o){hn(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ya(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return pn(e,[{key:"path",get:function(){return this.settings.path}},{key:"Xa",get:function(){return this.settings.Xa}},{key:"Za",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"tc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.nc(e),r}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.Ya(),r}},{key:"ic",value:function(e){return this.Za({path:void 0,ec:!0})}},{key:"rc",value:function(e){return WE(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ya",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.nc(this.path.get(e))}},{key:"nc",value:function(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(_E(this.Xa)&&bE.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}]),e}(),IE=function(){function e(t,n,r){hn(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||Jx(t)}return pn(e,[{key:"ac",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new SE({Xa:e,methodName:t,uc:n,path:Im.emptyPath(),ec:!1,oc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function EE(e){var t=e._freezeSettings(),n=Jx(e._databaseId);return new IE(e._databaseId,!!t.ignoreUndefinedProperties,n)}function TE(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ac(a.merge||a.mergeFields?2:0,t,n,i);VE("Data must be an object, but it was:",o,r);var u,s,c=UE(r,o);if(a.merge)u=new Em(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=vn(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=BE(t,d,n);if(!o.contains(p))throw new tm(em.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));KE(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Em(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new wE(new sg(c),u,s)}var CE=function(e){yn(n,e);var t=_n(n);function n(){return hn(this,n),t.apply(this,arguments)}return pn(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Xa)throw 1===e.Xa?e.rc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.rc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(yE);function AE(e,t,n){return new SE({Xa:3,uc:t.settings.uc,methodName:e._methodName,ec:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var NE=function(e){yn(n,e);var t=_n(n);function n(){return hn(this,n),t.apply(this,arguments)}return pn(n,[{key:"_toFieldTransform",value:function(e){return new wy(e.path,new dy)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(yE),RE=function(e){yn(n,e);var t=_n(n);function n(e,r){var i;return hn(this,n),(i=t.call(this,e)).cc=r,i}return pn(n,[{key:"_toFieldTransform",value:function(e){var t=AE(this,e,!0),n=this.cc.map((function(e){return FE(e,t)})),r=new py(n);return new wy(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(yE),PE=function(e){yn(n,e);var t=_n(n);function n(e,r){var i;return hn(this,n),(i=t.call(this,e)).cc=r,i}return pn(n,[{key:"_toFieldTransform",value:function(e){var t=AE(this,e,!0),n=this.cc.map((function(e){return FE(e,t)})),r=new my(n);return new wy(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(yE),OE=function(e){yn(n,e);var t=_n(n);function n(e,r){var i;return hn(this,n),(i=t.call(this,e)).hc=r,i}return pn(n,[{key:"_toFieldTransform",value:function(e){var t=new yy(e.M,sy(e.M,this.hc));return new wy(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(yE);function DE(e,t,n,r){var i=e.ac(1,t,n);VE("Data must be an object, but it was:",i,r);var a=[],o=sg.empty();bm(r,(function(e,r){var u=qE(t,e,n);r=Zn(r);var s=i.sc(u);if(r instanceof CE)a.push(u);else{var c=FE(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Em(a);return new xE(o,u,i.fieldTransforms)}function LE(e,t,n,r,i,a){var o=e.ac(1,t,n),u=[BE(t,r,n)],s=[i];if(a.length%2!=0)throw new tm(em.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(BE(t,a[c])),s.push(a[c+1]);for(var l=[],f=sg.empty(),h=u.length-1;h>=0;--h)if(!KE(l,u[h])){var d=u[h],p=s[h];p=Zn(p);var v=o.sc(d);if(p instanceof CE)l.push(d);else{var m=FE(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new Em(l);return new xE(f,g,o.fieldTransforms)}function ME(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return FE(n,e.ac(r?4:3,t))}function FE(e,t){if(jE(e=Zn(e)))return VE("Unsupported field value:",t,e),UE(e,t);if(e instanceof yE)return function(e,t){if(!_E(t.Xa))throw t.rc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.rc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ec&&4!==t.Xa)throw t.rc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=vn(e);try{for(a.s();!(n=a.n()).done;){var o=FE(n.value,t.ic(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Zn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return sy(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=gm.fromDate(e);return{timestampValue:yk(t.M,n)}}if(e instanceof gm){var r=new gm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:yk(t.M,r)}}if(e instanceof kE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof gE)return{bytesValue:kk(t.M,e._byteString)};if(e instanceof XI){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.rc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:xk(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.rc("Unsupported field value: ".concat(KI(e)))}(e,t)}function UE(e,t){var n={};return wm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):bm(e,(function(e,r){var i=FE(r,t.tc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function jE(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof gm||e instanceof kE||e instanceof gE||e instanceof XI||e instanceof yE)}function VE(e,t,n){if(!jE(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=KI(n);throw"an object"===r?t.rc(e+" a custom object"):t.rc(e+" "+r)}}function BE(e,t,n){if((t=Zn(t))instanceof mE)return t._internalPath;if("string"==typeof t)return qE(e,t);throw WE("Field path arguments must be of type string or ",e,!1,void 0,n)}var zE=new RegExp("[~\\*/\\[\\]]");function qE(e,t,n){if(t.search(zE)>=0)throw WE("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Sn(mE,te(t.split(".")))._internalPath}catch(r){throw WE("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function WE(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new tm(em.INVALID_ARGUMENT,u+e+s)}function KE(e,t){return e.some((function(e){return e.isEqual(t)}))}var HE=function(){function e(t,n,r,i,a){hn(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return pn(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new XI(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new GE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(QE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),GE=function(e){yn(n,e);var t=_n(n);function n(){return hn(this,n),t.apply(this,arguments)}return pn(n,[{key:"data",value:function(){return pi(kn(n.prototype),"data",this).call(this)}}]),n}(HE);function QE(e,t){return"string"==typeof t?qE(e,t):t instanceof mE?t._internalPath:t._delegate._internalPath}var $E=function(){function e(t,n){hn(this,e),this.hasPendingWrites=t,this.fromCache=n}return pn(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),YE=function(e){yn(n,e);var t=_n(n);function n(e,r,i,a,o,u){var s;return hn(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return pn(n,[{key:"exists",value:function(){return pi(kn(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new XE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(QE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(HE),XE=function(e){yn(n,e);var t=_n(n);function n(){return hn(this,n),t.apply(this,arguments)}return pn(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return pi(kn(n.prototype),"data",this).call(this,e)}}]),n}(YE),JE=function(){function e(t,n,r,i){hn(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new $E(i.hasPendingWrites,i.fromCache),this.query=r}return pn(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new XE(n._firestore,n._userDataWriter,r.key,r,new $E(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new tm(em.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new XE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new $E(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new XE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new $E(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:ZE(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function ZE(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xv()}}function eT(e,t){return e instanceof YE&&t instanceof YE?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof JE&&t instanceof JE&&e._firestore===t._firestore&&rE(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function tT(e){if(Hg(e)&&0===e.explicitOrderBy.length)throw new tm(em.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var nT=pn((function e(){hn(this,e)}));function rT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var iT=function(e){yn(n,e);var t=_n(n);function n(e,r,i){var a;return hn(this,n),(a=t.call(this)).lc=e,a.fc=r,a.dc=i,a.type="where",a}return pn(n,[{key:"_apply",value:function(e){var t=EE(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new tm(em.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){vT(o,a);var s,c=[],l=vn(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(pT(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=pT(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||vT(o,a),u=ME(n,"where",o,"in"===a||"not-in"===a);var h=Cg.create(i,a,u);return function(e,t){if(t.S()){var n=Qg(e);if(null!==n&&!n.isEqual(t.field))throw new tm(em.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Gg(e);null!==r&&mT(e,t.field,r)}var i=function(e,t){var n,r=vn(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new tm(em.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new tm(em.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new JI(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new zg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(nT);var aT=function(e){yn(n,e);var t=_n(n);function n(e,r){var i;return hn(this,n),(i=t.call(this)).lc=e,i._c=r,i.type="orderBy",i}return pn(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new tm(em.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new tm(em.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ug(t,n);return function(e,t){if(null===Gg(e)){var n=Qg(e);null!==n&&mT(e,n,t.field)}}(e,r),r}(e._query,this.lc,this._c);return new JI(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new zg(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(nT);var oT=function(e){yn(n,e);var t=_n(n);function n(e,r,i){var a;return hn(this,n),(a=t.call(this)).type=e,a.wc=r,a.mc=i,a}return pn(n,[{key:"_apply",value:function(e){return new JI(e.firestore,e.converter,Jg(e._query,this.wc,this.mc))}}]),n}(nT);var uT=function(e){yn(n,e);var t=_n(n);function n(e,r,i){var a;return hn(this,n),(a=t.call(this)).type=e,a.gc=r,a.yc=i,a}return pn(n,[{key:"_apply",value:function(e){var t=dT(e,this.type,this.gc,this.yc);return new JI(e.firestore,e.converter,function(e,t){return new zg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(nT);function sT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new uT("startAt",t,!0)}function cT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new uT("startAfter",t,!1)}var lT=function(e){yn(n,e);var t=_n(n);function n(e,r,i){var a;return hn(this,n),(a=t.call(this)).type=e,a.gc=r,a.yc=i,a}return pn(n,[{key:"_apply",value:function(e){var t=dT(e,this.type,this.gc,this.yc);return new JI(e.firestore,e.converter,function(e,t){return new zg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(nT);function fT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new lT("endBefore",t,!1)}function hT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new lT("endAt",t,!0)}function dT(e,t,n,r){if(n[0]=Zn(n[0]),n[0]instanceof HE)return function(e,t,n,r,i){if(!r)throw new tm(em.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=vn(Yg(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Ym(t,r.key));else{var c=r.data.field(s.field);if(Pm(c))throw new tm(em.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new tm(em.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Fg(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=EE(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new tm(em.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new tm(em.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!$g(e)&&-1!==c.indexOf("/"))throw new tm(em.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(_m.fromString(c));if(!Vm.isDocumentKey(l))throw new tm(em.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Vm(l);u.push(Ym(t,f))}else{var h=ME(n,r,c);u.push(h)}}return new Fg(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function pT(e,t,n){if("string"==typeof(n=Zn(n))){if(""===n)throw new tm(em.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$g(t)&&-1!==n.indexOf("/"))throw new tm(em.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(_m.fromString(n));if(!Vm.isDocumentKey(r))throw new tm(em.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ym(e,new Vm(r))}if(n instanceof XI)return Ym(e,n._key);throw new tm(em.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(KI(n),"."))}function vT(e,t){if(!Array.isArray(e)||0===e.length)throw new tm(em.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new tm(em.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function mT(e,t,n){if(!n.isEqual(t))throw new tm(em.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var gT=function(){function e(){hn(this,e)}return pn(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(qm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nm(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Xv()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return bm(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new kE(Nm(e.latitude),Nm(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Om(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Dm(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Am(e);return new gm(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=_m.fromString(e);Jv(Hk(n));var r=new Mm(n.get(1),n.get(3)),i=new Vm(n.popFirst(5));return r.isEqual(t)||Qv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function yT(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var kT=function(e){yn(n,e);var t=_n(n);function n(e){var r;return hn(this,n),(r=t.call(this)).firestore=e,r}return pn(n,[{key:"convertBytes",value:function(e){return new gE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new XI(this.firestore,null,t)}}]),n}(gT),bT=function(){function e(t,n){hn(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=EE(t)}return pn(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=wT(e,this._firestore),i=yT(r.converter,t,n),a=TE(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,_y.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=wT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Zn(t))||t instanceof mE?LE(this._dataReader,"WriteBatch.update",i._key,t,n,o):DE(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,_y.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=wT(e,this._firestore);return this._mutations=this._mutations.concat(new Uy(t._key,_y.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new tm(em.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function wT(e,t){if((e=Zn(e)).firestore!==t)throw new tm(em.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var xT=function(e){yn(n,e);var t=_n(n);function n(e){var r;return hn(this,n),(r=t.call(this)).firestore=e,r}return pn(n,[{key:"convertBytes",value:function(e){return new gE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new XI(this.firestore,null,t)}}]),n}(gT);function _T(e){e=HI(e,XI);var t=HI(e.firestore,uE),n=sE(t),r=new xT(t);return function(e,t){var n=new nm;return e.asyncQueue.enqueueAndForget(sn(ln().mark((function r(){return ln().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=sn(ln().mark((function e(t,n,r){var i,a;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Zv(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ci.Ls(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new tm(em.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Q_(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,OI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new YE(t,r,e._key,n,new $E(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function ST(e){e=HI(e,JI);var t=HI(e.firestore,uE),n=sE(t),r=new xT(t);return function(e,t){var n=new nm;return e.asyncQueue.enqueueAndForget(sn(ln().mark((function r(){return ln().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=sn(ln().mark((function e(t,n,r){var i,a,o,u,s;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mx(t,n,!0);case 3:i=e.sent,a=new pS(n,i.li),o=a.Gu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Q_(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,OI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new JE(t,r,e,n)}))}function IT(e,t,n){e=HI(e,XI);var r=HI(e.firestore,uE),i=yT(e.converter,t,n);return AT(r,[TE(EE(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,_y.none())])}function ET(e,t,n){e=HI(e,XI);for(var r=HI(e.firestore,uE),i=EE(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return AT(r,[("string"==typeof(t=Zn(t))||t instanceof mE?LE(i,"updateDoc",e._key,t,n,o):DE(i,"updateDoc",e._key,t)).toMutation(e._key,_y.exists(!0))])}function TT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Zn(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||aE(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(aE(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof XI)l=HI(e.firestore,uE),f=Wg(e._key.path),c={next:function(t){n[s]&&n[s](NT(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=HI(e,JI);l=HI(p.firestore,uE),f=p._query;var v=new xT(l);c={next:function(e){n[s]&&n[s](new JE(l,v,p,e))},error:n[s+1],complete:n[s+2]},tT(e._query)}return function(e,t,n,r){var i=new kI(r),a=new uS(t,i,n);return e.asyncQueue.enqueueAndForget(sn(ln().mark((function t(){return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=eS,t.next=3,MI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Ia(),e.asyncQueue.enqueueAndForget(sn(ln().mark((function t(){return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=nS,t.next=3,MI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(sE(l),f,h,c)}function CT(e,t){return function(e,t){var n=new kI(t);return e.asyncQueue.enqueueAndForget(sn(ln().mark((function t(){return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Zv(e).Eu.add(t),t.next()},t.next=3,MI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Ia(),e.asyncQueue.enqueueAndForget(sn(ln().mark((function t(){return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Zv(e).Eu.delete(t)},t.next=3,MI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(sE(e=HI(e,uE)),aE(t)?t:{next:t})}function AT(e,t){return function(e,t){var n=new nm;return e.asyncQueue.enqueueAndForget(sn(ln().mark((function r(){return ln().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=SS,r.next=3,LI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(sE(e),t)}function NT(e,t,n){var r=n.docs.get(t._key),i=new xT(e);return new YE(e,i,t._key,r,new $E(n.hasPendingWrites,n.fromCache),t.converter)}var RT=function(e){yn(n,e);var t=_n(n);function n(e,r){var i;return hn(this,n),(i=t.call(this,e,r))._firestore=e,i}return pn(n,[{key:"get",value:function(e){var t=this,r=wT(e,this._firestore),i=new xT(this._firestore);return pi(kn(n.prototype),"get",this).call(this,e).then((function(e){return new YE(t._firestore,i,r._key,e._document,new $E(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){hn(this,e),this._firestore=t,this._transaction=n,this._dataReader=EE(t)}return pn(e,[{key:"get",value:function(e){var t=this,n=wT(e,this._firestore),r=new kT(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Xv();var i=e[0];if(i.isFoundDocument())return new HE(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new HE(t._firestore,r,n._key,null,n.converter);throw Xv()}))}},{key:"set",value:function(e,t,n){var r=wT(e,this._firestore),i=yT(r.converter,t,n),a=TE(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=wT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Zn(t))||t instanceof mE?LE(this._dataReader,"Transaction.update",i._key,t,n,o):DE(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=wT(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function PT(e,t){return function(e,t){var n=new nm;return e.asyncQueue.enqueueAndForget(sn(ln().mark((function r(){var i;return ln().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return NI(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new xI(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(sE(e=HI(e,uE)),(function(n){return t(new RT(e,n))}))}function OT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new RE("arrayUnion",t)}function DT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new PE("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Wv=e}(Mr),Ar(new ar("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new uE(i,new om(e.getProvider("auth-internal")),new lm(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),zr(zv,"3.4.8",e),zr(zv,"3.4.8","esm2017")}();function LT(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new tm("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function MT(){if("undefined"===typeof Uint8Array)throw new tm("unimplemented","Uint8Arrays are not available in this environment.")}function FT(){if("undefined"==typeof atob)throw new tm("unimplemented","Blobs are unavailable in Firestore in this environment.")}var UT=function(){function e(t){hn(this,e),this._delegate=t}return pn(e,[{key:"toBase64",value:function(){return FT(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return MT(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return FT(),new e(gE.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return MT(),new e(gE.fromUint8Array(t))}}]),e}();function jT(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=vn(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var VT=function(){function e(){hn(this,e)}return pn(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){vE(e=HI(e,uE));var n=sE(e),r=e._freezeSettings(),i=new gI;return lE(n,i,new vI(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){vE(e=HI(e,uE));var t=sE(e),n=e._freezeSettings(),r=new gI;return lE(t,r,new mI(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new tm(em.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new nm;return e._queue.enqueueAndForgetEvenWhileRestricted(sn(ln().mark((function n(){return ln().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=sn(ln().mark((function e(t){var n;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_b.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,_b.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(ex(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),BT=function(){function e(t,n,r){var i=this;hn(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Mm||(this._appCompat=t)}return pn(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||$v("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};YI(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return fE(this._delegate)}},{key:"disableNetwork",value:function(){return hE(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&zI("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new nm;return e.asyncQueue.enqueueAndForget(sn(ln().mark((function n(){return ln().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=LS,n.next=3,LI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(sE(e=HI(e,uE)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return CT(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new tm("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new tC(this,eE(this._delegate,e))}catch(t){throw GT(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new HT(this,tE(this._delegate,e))}catch(t){throw GT(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new JT(this,function(e,t){if(e=HI(e,$I),BI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new tm(em.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new JI(e,null,function(e){return new zg(_m.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw GT(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return PT(this._delegate,(function(n){return e(new qT(t,n))}))}},{key:"batch",value:function(){var e=this;return sE(this._delegate),new WT(new bT(this._delegate,(function(t){return AT(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return dE(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return pE(this._delegate,e).then((function(e){return e?new JT(t,e):null}))}}]),e}(),zT=function(e){yn(n,e);var t=_n(n);function n(e){var r;return hn(this,n),(r=t.call(this)).firestore=e,r}return pn(n,[{key:"convertBytes",value:function(e){return new UT(new gE(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return HT.forKey(t,this.firestore,null)}}]),n}(gT);var qT=function(){function e(t,n){hn(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new zT(t)}return pn(e,[{key:"get",value:function(e){var t=this,n=nC(e);return this._delegate.get(n).then((function(e){return new YT(t._firestore,new YE(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=nC(e);return n?(LT("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=nC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=nC(e);return this._delegate.delete(t),this}}]),e}(),WT=function(){function e(t){hn(this,e),this._delegate=t}return pn(e,[{key:"set",value:function(e,t,n){var r=nC(e);return n?(LT("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=nC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=nC(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),KT=function(){function e(t,n,r){hn(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return pn(e,[{key:"fromFirestore",value:function(e,t){var n=new XE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new XT(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new zT(t),n),i.set(n,a)),a}}]),e}();KT.INSTANCES=new WeakMap;var HT=function(){function e(t,n){hn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new zT(t)}return pn(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new tC(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new tC(this.firestore,eE(this._delegate,e))}catch(t){throw GT(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Zn(e))instanceof XI&&nE(this._delegate,e)}},{key:"set",value:function(e,t){t=LT("DocumentReference.set",t);try{return t?IT(this._delegate,e,t):IT(this._delegate,e)}catch(n){throw GT(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?ET(this._delegate,e):ET.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw GT(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return AT(HI(e.firestore,uE),[new Uy(e._key,_y.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=QT(n),a=$T(n,(function(t){return new YT(e.firestore,new YE(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return TT(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?_T(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=HI(e,XI);var t=HI(e.firestore,uE);return UI(sE(t),e._key,{source:"server"}).then((function(n){return NT(t,e,n)}))}(this._delegate):function(e){e=HI(e,XI);var t=HI(e.firestore,uE);return UI(sE(t),e._key).then((function(n){return NT(t,e,n)}))}(this._delegate),t.then((function(e){return new YT(n.firestore,new YE(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(KT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new tm("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new XI(n._delegate,r,new Vm(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new XI(n._delegate,r,t))}}]),e}();function GT(e,t,n){return e.message=e.message.replace(t,n),e}function QT(e){var t,n=vn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!jT(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function $T(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=jT(e[0])?e[0]:jT(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var YT=function(){function e(t,n){hn(this,e),this._firestore=t,this._delegate=n}return pn(e,[{key:"ref",get:function(){return new HT(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return eT(this._delegate,e._delegate)}}]),e}(),XT=function(e){yn(n,e);var t=_n(n);function n(){return hn(this,n),t.apply(this,arguments)}return pn(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Xv()}(void 0!==t),t}}]),n}(YT),JT=function(){function e(t,n){hn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new zT(t)}return pn(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,rT(this._delegate,function(e,t,n){var r=t,i=QE("where",e);return new iT(i,r,n)}(t,n,r)))}catch(i){throw GT(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,rT(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=QE("orderBy",e);return new aT(n,t)}(t,n)))}catch(r){throw GT(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,rT(this._delegate,function(e){return GI("limit",e),new oT("limit",e,"F")}(t)))}catch(n){throw GT(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,rT(this._delegate,function(e){return GI("limitToLast",e),new oT("limitToLast",e,"L")}(t)))}catch(n){throw GT(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,rT(this._delegate,sT.apply(void 0,arguments)))}catch(t){throw GT(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,rT(this._delegate,cT.apply(void 0,arguments)))}catch(t){throw GT(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,rT(this._delegate,fT.apply(void 0,arguments)))}catch(t){throw GT(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,rT(this._delegate,hT.apply(void 0,arguments)))}catch(t){throw GT(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return rE(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?ST(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=HI(e,JI);var t=HI(e.firestore,uE),n=sE(t),r=new xT(t);return jI(n,e._query,{source:"server"}).then((function(n){return new JE(t,r,e,n)}))}(this._delegate):function(e){e=HI(e,JI);var t=HI(e.firestore,uE),n=sE(t),r=new xT(t);return tT(e._query),jI(n,e._query).then((function(n){return new JE(t,r,e,n)}))}(this._delegate),t.then((function(e){return new eC(n.firestore,new JE(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=QT(n),a=$T(n,(function(t){return new eC(e.firestore,new JE(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return TT(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(KT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),ZT=function(){function e(t,n){hn(this,e),this._firestore=t,this._delegate=n}return pn(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new XT(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),eC=function(){function e(t,n){hn(this,e),this._firestore=t,this._delegate=n}return pn(e,[{key:"query",get:function(){return new JT(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new XT(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new ZT(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new XT(n._firestore,r))}))}},{key:"isEqual",value:function(e){return eT(this._delegate,e._delegate)}}]),e}(),tC=function(e){yn(n,e);var t=_n(n);function n(e,r){var i;return hn(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return pn(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new HT(this.firestore,e):null}},{key:"doc",value:function(e){try{return new HT(this.firestore,void 0===e?tE(this._delegate):tE(this._delegate,e))}catch(t){throw GT(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=HI(e.firestore,uE),r=tE(e),i=yT(e.converter,t);return AT(n,[TE(EE(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,_y.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new HT(t.firestore,e)}))}},{key:"isEqual",value:function(e){return nE(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(KT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(JT);function nC(e){return HI(e,XI)}var rC=function(){function e(){hn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Sn(mE,n)}return pn(e,[{key:"isEqual",value:function(e){return(e=Zn(e))instanceof mE&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Im.keyField().canonicalString())}}]),e}(),iC=function(){function e(t){hn(this,e),this._delegate=t}return pn(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new NE("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new CE("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=OT.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=DT.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new OE("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),aC={Firestore:BT,GeoPoint:kE,Timestamp:gm,Blob:UT,Transaction:qT,WriteBatch:WT,DocumentReference:HT,DocumentSnapshot:YT,Query:JT,QueryDocumentSnapshot:XT,QuerySnapshot:eC,CollectionReference:tC,FieldPath:rC,FieldValue:iC,setLogLevel:function(e){!function(e){Kv.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new ar("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},aC)))}(e,(function(e,t){return new BT(e,t,new VT)})),e.registerVersion("@firebase/firestore-compat","0.1.17")}(hi);var oC="firebasestorage.googleapis.com",uC=function(e){yn(n,e);var t=_n(n);function n(e,r){var i;return hn(this,n),(i=t.call(this,sC(e),"Firebase Storage: ".concat(r," (").concat(sC(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(mn(i),n.prototype),i}return pn(n,[{key:"_codeEquals",value:function(e){return sC(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Vn);function sC(e){return"storage/"+e}function cC(){return new uC("unknown","An unknown error occurred, please check the error payload for server response.")}function lC(){return new uC("canceled","User canceled the upload/download.")}function fC(){return new uC("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function hC(e){return new uC("invalid-argument",e)}function dC(){return new uC("app-deleted","The Firebase app was deleted.")}function pC(e){return new uC("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vC(e,t){return new uC("invalid-format","String does not match format '"+e+"': "+t)}function mC(e){throw new uC("internal-error","Internal error: "+e)}var gC,yC=function(){function e(t,n){hn(this,e),this.bucket=t,this.path_=n}return pn(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new uC("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===oC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new uC("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),kC=function(){function e(t){hn(this,e),this.promise_=Promise.reject(t)}return pn(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function bC(e){return"string"===typeof e||e instanceof String}function wC(e){return xC()&&e instanceof Blob}function xC(){return"undefined"!==typeof Blob}function _C(e,t,n,r){if(r<t)throw hC("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw hC("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function SC(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function IC(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(gC||(gC={}));var EC=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this;hn(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return pn(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=cC();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?dC():lC());else i(new uC("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new TC(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new TC(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===gC.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new TC(o,r))}else{var u=r.getErrorCode()===gC.ABORT;t(!1,new TC(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),TC=pn((function e(t,n,r){hn(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function CC(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function AC(){for(var e=CC(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(xC())return new Blob(n);throw new uC("unsupported-environment","This browser doesn't seem to support creating Blobs")}var NC={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},RC=pn((function e(t,n){hn(this,e),this.data=t,this.contentType=n||null}));function PC(e,t){switch(e){case NC.RAW:return new RC(OC(t));case NC.BASE64:case NC.BASE64URL:return new RC(DC(e,t));case NC.DATA_URL:return new RC(function(e){var t=new LC(e);return t.base64?DC(NC.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw vC(NC.DATA_URL,"Malformed data URL.")}return OC(t)}(t.rest)}(t),new LC(t).contentType)}throw cC()}function OC(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function DC(e,t){switch(e){case NC.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw vC(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case NC.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw vC(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw vC(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var LC=pn((function e(t){hn(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw vC(NC.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var MC=function(){function e(t,n){hn(this,e);var r=0,i="";wC(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return pn(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(wC(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(xC()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(AC.apply(null,i))}var a=n.map((function(e){return bC(e)?PC(NC.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function FC(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function UC(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function jC(e,t){return t}var VC=pn((function e(t,n,r,i){hn(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||jC})),BC=null;function zC(){if(BC)return BC;var e=[];e.push(new VC("bucket")),e.push(new VC("generation")),e.push(new VC("metageneration")),e.push(new VC("name","fullPath",!0));var t=new VC("name");t.xform=function(e,t){return function(e){return!bC(e)||e.length<2?e:UC(e)}(t)},e.push(t);var n=new VC("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new VC("timeCreated")),e.push(new VC("updated")),e.push(new VC("md5Hash",null,!0)),e.push(new VC("cacheControl",null,!0)),e.push(new VC("contentDisposition",null,!0)),e.push(new VC("contentEncoding",null,!0)),e.push(new VC("contentLanguage",null,!0)),e.push(new VC("contentType",null,!0)),e.push(new VC("metadata","customMetadata",!0)),BC=e}function qC(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new yC(n,r);return t._makeStorageReference(i)}})}(r,e),r}function WC(e,t,n){var r=FC(t);return null===r?null:qC(e,r,n)}function KC(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function HC(e,t,n){var r=FC(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=vn(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new yC(t,o));r.prefixes.push(u)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var s,c=vn(n.items);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new yC(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var GC=pn((function e(t,n,r,i){hn(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function QC(e){if(!e)throw cC()}function $C(e,t){return function(n,r){var i=WC(e,r,t);return QC(null!==i),i}}function YC(e,t){return function(n,r){var i=WC(e,r,t);return QC(null!==i),function(e,t,n,r){var i=FC(t);if(null===i)return null;if(!bC(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return SC("/b/"+o(i)+"/o/"+o(a),n,r)+IC({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function XC(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new uC("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new uC("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new uC("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new uC("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function JC(e){var t=XC(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new uC("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function ZC(e,t,n){var r=SC(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new GC(r,"GET",$C(e,n),i);return a.errorHandler=JC(t),a}function eA(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=SC(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new GC(o,"GET",function(e,t){return function(n,r){var i=HC(e,t,r);return QC(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=XC(t),s}function tA(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function nA(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=tA(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+KC(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=MC.getBlob(c,r,l);if(null===f)throw fC();var h={name:s.fullPath},d=SC(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new GC(d,"POST",$C(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=XC(t),v}var rA=pn((function e(t,n,r,i){hn(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function iA(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){QC(!1)}return QC(!!n&&-1!==(t||["active"]).indexOf(n)),n}var aA=262144;function oA(e,t,n,r,i,a,o,u){var s=new rA(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new uC("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw fC();var v=t.maxUploadRetryTime,m=new GC(n,"POST",(function(e,n){var i,o=iA(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?$C(t,a)(e,n):null,new rA(u,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=XC(e),m}var uA={STATE_CHANGED:"state_changed"},sA={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function cA(e){switch(e){case"running":case"pausing":case"canceling":return sA.RUNNING;case"paused":return sA.PAUSED;case"success":return sA.SUCCESS;case"canceled":return sA.CANCELED;default:return sA.ERROR}}var lA=pn((function e(t,n,r){hn(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function fA(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var hA=function(){function e(){var t=this;hn(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=gC.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=gC.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=gC.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return pn(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw mC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw mC("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw mC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw mC("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw mC("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),dA=function(e){yn(n,e);var t=_n(n);function n(){return hn(this,n),t.apply(this,arguments)}return pn(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(hA);function pA(){return new dA}var vA=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;hn(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=zC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return pn(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=c(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=tA(t,r,i),u={name:o.fullPath},s=SC(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=KC(o,n),f=e.maxUploadRetryTime,h=new GC(s,"POST",(function(e){var t;iA(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){QC(!1)}return QC(bC(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=XC(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,pA,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new GC(n,"POST",(function(e){var t=iA(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){QC(!1)}n||QC(!1);var i=Number(n);return QC(!isNaN(i)),new rA(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=XC(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,pA,n,r);e._request=a,a.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=aA*this._chunkMultiplier,n=new rA(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=oA(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,pA,i,a);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){aA*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=ZC(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,pA,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=nA(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,pA,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=lC(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=cA(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new lA(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(cA(this._state)){case sA.SUCCESS:fA(this._resolve.bind(null,this.snapshot))();break;case sA.CANCELED:case sA.ERROR:fA(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(cA(this._state)){case sA.RUNNING:case sA.PAUSED:e.next&&fA(e.next.bind(e,this.snapshot))();break;case sA.SUCCESS:e.complete&&fA(e.complete.bind(e))();break;default:e.error&&fA(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),mA=function(){function e(t,n){hn(this,e),this._service=t,this._location=n instanceof yC?n:yC.makeFromUrl(n,t.host)}return pn(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new yC(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return UC(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new yC(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw pC(e)}}]),e}();function gA(e,t,n){return yA.apply(this,arguments)}function yA(){return(yA=sn(ln().mark((function e(t,n,r){var i,a,o,u;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,kA(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,te(u.prefixes)),(a=n.items).push.apply(a,te(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,gA(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kA(e,t){null!=t&&"number"===typeof t.maxResults&&_C("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=eA(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,pA)}function bA(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=SC(t.fullServerUrl(),e.host,e._protocol),a=KC(n,r),o=e.maxOperationRetryTime,u=new GC(i,"PATCH",$C(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=JC(t),u}(e.storage,e._location,t,zC());return e.storage.makeRequestWithTokens(n,pA)}function wA(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=SC(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new GC(r,"GET",YC(e,n),i);return a.errorHandler=JC(t),a}(e.storage,e._location,zC());return e.storage.makeRequestWithTokens(t,pA).then((function(e){if(null===e)throw new uC("no-download-url","The given file does not have any download URLs.");return e}))}function xA(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=SC(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new GC(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=JC(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,pA)}function _A(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new yC(e._location.bucket,n);return new mA(e.storage,r)}function SA(e,t){if(e instanceof CA){var n=e;if(null==n._bucket)throw new uC("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new mA(n,n._bucket);return null!=t?SA(r,t):r}return void 0!==t?_A(e,t):e}function IA(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof CA)return new mA(e,t);throw hC("To use ref(service, url), the first argument must be a Storage instance.")}return SA(e,t)}function EA(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:yC.makeFromBucketSpec(n,e)}function TA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Pn(i,e.app.options.projectId))}var CA=function(){function e(t,n,r,i,a){hn(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=oC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?yC.makeFromBucketSpec(i,this._host):EA(this._host,this.app.options)}return pn(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=yC.makeFromBucketSpec(this._url,e):this._bucket=EA(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){_C("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){_C("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=sn(ln().mark((function e(){var t,n;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=sn(ln().mark((function e(){var t,n;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new mA(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new kC(dC());var a=function(e,t,n,r,i,a){var o=IC(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new EC(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=sn(ln().mark((function e(t,n){var r,i,a,o;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=c(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),AA="@firebase/storage",NA="0.9.5",RA="storage";function PA(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new vA(e,new MC(t),n)}(e=Zn(e),t,n)}function OA(e){return function(e){e._throwIfRoot("getMetadata");var t=ZC(e.storage,e._location,zC());return e.storage.makeRequestWithTokens(t,pA)}(e=Zn(e))}function DA(e){return function(e){var t={prefixes:[],items:[]};return gA(e,t).then((function(){return t}))}(e=Zn(e))}function LA(e,t){return IA(e=Zn(e),t)}function MA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};TA(e,t,n,r)}function FA(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new CA(r,i,a,n,Mr)}Ar(new ar(RA,FA,"PUBLIC").setMultipleInstances(!0)),zr(AA,NA,""),zr(AA,NA,"esm2017");var UA=function(){function e(t,n,r){hn(this,e),this._delegate=t,this.task=n,this.ref=r}return pn(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),jA=function(){function e(t,n){hn(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return pn(e,[{key:"snapshot",get:function(){return new UA(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new UA(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new UA(e,i,i._ref))}:{next:t.next?function(e){return t.next(new UA(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),VA=function(){function e(t,n){hn(this,e),this._delegate=t,this._service=n}return pn(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new BA(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new BA(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),BA=function(){function e(t,n){hn(this,e),this._delegate=t,this.storage=n}return pn(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return _A(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new jA(PA(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NC.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=PC(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new jA(new vA(this._delegate,new MC(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return DA(this._delegate).then((function(t){return new VA(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return kA(e=Zn(e),t)}(this._delegate,e||void 0).then((function(e){return new VA(e,t.storage)}))}},{key:"getMetadata",value:function(){return OA(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return bA(e=Zn(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return wA(Zn(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),xA(Zn(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw pC(e)}}]),e}(),zA=function(){function e(t,n){hn(this,e),this.app=t,this._delegate=n}return pn(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(qA(e))throw hC("ref() expected a child path but got a URL, use refFromURL instead.");return new BA(LA(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!qA(e))throw hC("refFromURL() expected a full URL but got a child path, use ref() instead.");try{yC.makeFromUrl(e,this._delegate.host)}catch(t){throw hC("refFromUrl() expected a valid full URL but got an invalid one.")}return new BA(LA(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};MA(this._delegate,e,t,n)}}]),e}();function qA(e){return/^[A-Za-z]+:\/\//.test(e)}function WA(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new zA(r,i)}!function(e){var t={TaskState:sA,TaskEvent:uA,StringFormat:NC,Storage:zA,Reference:BA};e.INTERNAL.registerComponent(new ar("storage-compat",WA,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.13")}(hi);hi.initializeApp({apiKey:"AIzaSyCXl2SOw1NrqF1ggoIxPS-gEo7upxrqeaI",authDomain:"linkedin-clone-9323f.firebaseapp.com",projectId:"linkedin-clone-9323f",storageBucket:"linkedin-clone-9323f.appspot.com",messagingSenderId:"260634537135",appId:"1:260634537135:web:71b0ce812853aff735f85a"}).firestore();var KA=hi.auth(),HA=new hi.auth.GoogleAuthProvider,GA=(hi.storage(),"SET_USER"),QA=function(e){return{type:GA,user:e}};var $A,YA,XA,JA,ZA,eN,tN,nN,rN,iN,aN,oN,uN,sN,cN,lN,fN,hN,dN,pN,vN,mN,gN,yN,kN,bN,wN,xN,_N,SN,IN,EN,TN,CN,AN,NN,RN,PN,ON,DN,LN,MN,FN,UN,jN,VN,BN,zN,qN,WN=n(184),KN=on.div($A||($A=H(["\n  background-color: white;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.08);\n  left: 0;\n  padding: 0 24px;\n  position: fixed;\n  top: 0;\n  width: 100vw;\n  z-index: 100;\n"]))),HN=on.div(YA||(YA=H(["\n  display: flex;\n  align-items: center;\n  margin: 0 auto;\n  min-height: 100%;\n  max-width: 1128px;\n"]))),GN=on.span(XA||(XA=H(["\n  margin-right: 8px;\n  font-size: 0px;\n"]))),QN=on.div(JA||(JA=H(["\n  opacity: 1;\n  flex-grow: 1;\n  position: relative;\n  & > div {\n    max-width: 280px;\n    input {\n      border: none;\n      box-shadow: none;\n      background-color: #eef3f8;\n      border-radius: 2px;\n      color: rgba(0, 0, 0, 0.9);\n      width: 218px;\n      padding: 0 8px 0 40px;\n      line-height: 1.75;\n      font-weight: 400;\n      font-size: 14px;\n      height: 34px;\n      border-color: #dce6f1;\n      vertical-align: text-top;\n    }\n  }\n"]))),$N=on.div(ZA||(ZA=H(["\n  width: 40px;\n  position: absolute;\n  z-index: 1;\n  top: 10px;\n  left: 2px;\n  border-radius: 0 2px 2px 0;\n  margin: 0;\n  pointer-events: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),YN=on.nav(eN||(eN=H(["\n  margin-left: auto;\n  display: block;\n  @media (max-width: 768px) {\n    position: fixed;\n    left: 0;\n    bottom: 0;\n    background: white;\n    width: 100%;\n  }\n"]))),XN=on.ul(tN||(tN=H(['\n  display: flex;\n  flex-wrap: nowrap;\n  list-style-type: none;\n  .active {\n    span:after {\n      content: "";\n      transform: scaleX(1);\n      border-bottom: 2px solid var(--white, #fff);\n      bottom: 0;\n      left: 0;\n      position: absolute;\n      transition: transform 0.2s ease-in-out;\n      width: 100%;\n      border-color: rgba(0, 0, 0, 0.9);\n    }\n  }\n']))),JN=on.li(nN||(nN=H(["\n  display: flex;\n  align-items: center;\n  a {\n    align-items: center;\n    background: transparent;\n    display: flex;\n    flex-direction: column;\n    font-size: 12px;\n    font-weight: 400;\n    justify-content: center;\n    line-height: 1.5;\n    min-height: 52px;\n    min-width: 80px;\n    position: relative;\n    text-decoration: none;\n    span {\n      color: rgba(0, 0, 0, 0.6);\n      display: flex;\n      align-items: center;\n    }\n    @media (max-width: 768px) {\n      min-width: 70px;\n    }\n  }\n  &:hover,\n  &:active {\n    a {\n      span {\n        color: rgba(0, 0, 0, 0.9);\n      }\n    }\n  }\n"]))),ZN=on.div(rN||(rN=H(["\n  position: absolute;\n  top: 45px;\n  background: white;\n  border-radius: 0 0 5px 5px;\n  width: 100px;\n  height: 40px;\n  font-size: 16px;\n  transition-duration: 167px;\n  text-align: center;\n  display: none;\n"]))),eR=on(JN)(iN||(iN=H(["\n  a > svg {\n    width: 24px;\n    border-radius: 50%;\n  }\n\n  a > img {\n    width: 24px;\n    height: 24px;\n    border-radius: 50%;\n  }\n\n  span {\n    display: flex;\n    align-items: center;\n  }\n\n  &:hover {\n    "," {\n      align-items: center;\n      display: flex;\n      justify-content: center;\n    }\n  }\n"])),ZN),tR=on(eR)(aN||(aN=H(["\n  border-left: 1px solid rgba(0, 0, 0, 0.08);\n"]))),nR=Ae((function(e){return{user:e.userState.user}}),(function(e){return{signOut:function(){return e((function(e){KA.signOut().then((function(){e(QA(null))})).catch((function(e){console.log(e.message)}))}))}}}))((function(e){return(0,WN.jsx)(KN,{children:(0,WN.jsxs)(HN,{children:[(0,WN.jsx)(GN,{children:(0,WN.jsx)("a",{href:"/home",children:(0,WN.jsx)("img",{src:"/linkedin-clone/images/home-logo.svg",alt:""})})}),(0,WN.jsxs)(QN,{children:[(0,WN.jsx)("div",{children:(0,WN.jsx)("input",{type:"text",placeholder:"Search"})}),(0,WN.jsx)($N,{children:(0,WN.jsx)("img",{src:"/linkedin-clone/images/search-icon.svg",alt:""})})]}),(0,WN.jsx)(YN,{children:(0,WN.jsxs)(XN,{children:[(0,WN.jsx)(JN,{className:"active",children:(0,WN.jsxs)("a",{children:[(0,WN.jsx)("img",{src:"/linkedin-clone/images/nav-home.svg",alt:""}),(0,WN.jsx)("span",{children:"Home"})]})}),(0,WN.jsx)(JN,{children:(0,WN.jsxs)("a",{children:[(0,WN.jsx)("img",{src:"/linkedin-clone/images/nav-network.svg",alt:""}),(0,WN.jsx)("span",{children:"My Network"})]})}),(0,WN.jsx)(JN,{children:(0,WN.jsxs)("a",{children:[(0,WN.jsx)("img",{src:"/linkedin-clone/images/nav-jobs.svg",alt:""}),(0,WN.jsx)("span",{children:"Jobs"})]})}),(0,WN.jsx)(JN,{children:(0,WN.jsxs)("a",{children:[(0,WN.jsx)("img",{src:"/linkedin-clone/images/nav-messaging.svg",alt:""}),(0,WN.jsx)("span",{children:"Messaging"})]})}),(0,WN.jsx)(JN,{children:(0,WN.jsxs)("a",{children:[(0,WN.jsx)("img",{src:"/linkedin-clone/images/nav-notifications.svg",alt:""}),(0,WN.jsx)("span",{children:"Notifications"})]})}),(0,WN.jsxs)(eR,{children:[(0,WN.jsxs)("a",{children:[e.user&&e.user.photoURL?(0,WN.jsx)("img",{src:e.user.photoURL,alt:""}):(0,WN.jsx)("img",{src:"/linkedin-clone/images/user.svg",alt:""}),(0,WN.jsxs)("span",{children:["Me",(0,WN.jsx)("img",{src:"/linkedin-clone/images/down-icon.svg",alt:""})]})]}),(0,WN.jsx)(ZN,{onClick:function(){return e.signOut()},children:(0,WN.jsx)("a",{children:"Sign Out"})})]}),(0,WN.jsx)(tR,{children:(0,WN.jsxs)("a",{children:[(0,WN.jsx)("img",{src:"/linkedin-clone/images/nav-work.svg",alt:""}),(0,WN.jsxs)("span",{children:["Work",(0,WN.jsx)("img",{src:"/linkedin-clone/images/down-icon.svg",alt:""})]})]})})]})})]})})})),rR=on.div(oN||(oN=H(["\n  grid-area: leftside;\n"]))),iR=on.div(uN||(uN=H(["\n  text-align: center;\n  overflow: hidden;\n  margin-bottom: 8px;\n  background-color: #fff;\n  border-radius: 5px;\n  transition: box-shadow 83ms;\n  position: relative;\n  border: none;\n  box-shadow: 0 0 0 1px rgb(0 0 0 / 15%), 0 0 0 rgb(0 0 0 / 20%);\n"]))),aR=on.div(sN||(sN=H(["\n  border-bottom: 1px solid rgba(0, 0, 0, 0.15);\n  padding: 12px 12px 16px;\n  word-wrap: break-word;\n  word-break: break-word;\n"]))),oR=on.div(cN||(cN=H(['\n  background: url("','/images/card-bg.svg");\n  background-position: center;\n  background-size: 462px;\n  height: 54px;\n  margin: -12px -12px 0;\n'])),"/linkedin-clone"),uR=on.div(lN||(lN=H(['\n  box-shadow: none;\n  background-image: url("','/images/photo.svg");\n  width: 72px;\n  height: 72px;\n  box-sizing: border-box;\n  background-clip: content-box;\n  background-color: white;\n  background-position: center;\n  background-size: 60%;\n  background-repeat: no-repeat;\n  border: 2px solid white;\n  margin: -38px auto 12px;\n  border-radius: 50%;\n'])),"/linkedin-clone"),sR=on.div(fN||(fN=H(["\n  font-size: 16px;\n  line-height: 1.5;\n  color: rgba(0, 0, 0, 0.9);\n  font-weight: 600;\n"]))),cR=on.div(hN||(hN=H(["\n  color: #0a66c2;\n  margin-top: 4px;\n  font-size: 12px;\n  line-height: 1.33;\n  font-weight: 400;\n"]))),lR=on.div(dN||(dN=H(["\n  border-bottom: 1px solid rgba(0, 0, 0, 0.15);\n  padding-top: 12px;\n  padding-bottom: 12px;\n\n  & > a {\n    text-decoration: none;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 4px 12px;\n\n    &:hover {\n      background-color: rgba(0, 0, 0, 0.08);\n    }\n\n    div {\n      display: flex;\n      flex-direction: column;\n      text-align: left;\n      span {\n        font-size: 12px;\n        line-height: 1.333;\n        &:first-child {\n          color: rgba(0, 0, 0, 0.6);\n        }\n        &:nth-child(2) {\n          color: rgba(0, 0, 0, 1);\n        }\n      }\n    }\n  }\n\n  svg {\n    color: rgba(0, 0, 0, 1);\n  }\n"]))),fR=on.a(pN||(pN=H(["\n  border-color: rgba(0, 0, 0, 0.8);\n  text-align: left;\n  padding: 12px;\n  font-size: 12px;\n  display: block;\n  span {\n    display: flex;\n    align-items: center;\n    color: rgba(0, 0, 0, 1);\n    svg {\n      color: rgba(0, 0, 0, 0.6);\n    }\n  }\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.08);\n  }\n"]))),hR=on(iR)(vN||(vN=H(["\n  padding: 8px 0 0;\n  text-align: left;\n  display: flex;\n  flex-direction: column;\n  a {\n    color: black;\n    padding: 4px 12px 4px 12px;\n    font-size: 12px;\n\n    &:hover {\n      color: #0a66c2;\n    }\n\n    span {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n    }\n\n    &:last-child {\n      color: rgba(0, 0, 0, 0.6);\n      text-decoration: none;\n      border-top: #d6cec2;\n      &:hover {\n        background-color: rgba(0, 0, 0, 0.08);\n      }\n    }\n  }\n"]))),dR=Ae((function(e){return{user:e.userState.user}}))((function(e){return(0,WN.jsxs)(rR,{children:[(0,WN.jsxs)(iR,{children:[(0,WN.jsxs)(aR,{children:[(0,WN.jsx)(oR,{}),(0,WN.jsxs)("a",{children:[(0,WN.jsx)(uR,{}),(0,WN.jsxs)(sR,{children:["Welcome, ",e.user?e.user.displayName:"there"]})]}),(0,WN.jsx)("a",{children:(0,WN.jsx)(cR,{children:"Add a photo"})})]}),(0,WN.jsx)(lR,{children:(0,WN.jsxs)("a",{children:[(0,WN.jsxs)("div",{children:[(0,WN.jsx)("span",{children:"Connections"}),(0,WN.jsx)("span",{children:"Grow your network"})]}),(0,WN.jsx)("img",{src:"/linkedin-clone/images/widget-icon.svg",alt:""})]})}),(0,WN.jsx)(fR,{children:(0,WN.jsxs)("span",{children:[(0,WN.jsx)("img",{src:"/linkedin-clone/images/item-icon.svg",alt:""}),"My Items"]})})]}),(0,WN.jsxs)(hR,{children:[(0,WN.jsx)("a",{children:(0,WN.jsx)("span",{children:"Groups"})}),(0,WN.jsx)("a",{children:(0,WN.jsxs)("span",{children:["Events",(0,WN.jsx)("img",{src:"/linkedin-clone/images/plus-icon.svg"})]})}),(0,WN.jsx)("a",{children:(0,WN.jsx)("span",{children:"Follow Hashtags"})}),(0,WN.jsx)("a",{children:(0,WN.jsx)("span",{children:"Discover more"})})]})]})})),pR=on.div(mN||(mN=H(["\n  grid-area: main;\n"]))),vR=on.div(gN||(gN=H(["\n  text-align: center;\n  overflow: hidden;\n  margin-bottom: 8px;\n  background-color: #fff;\n  border-radius: 5px;\n  position: relative;\n  border: none;\n  box-shadow: 0 0 0 1px rgb(0 0 0 / 15%), 0 0 0 rgb(0 0 0 / 20%);\n"]))),mR=on(vR)(yN||(yN=H(["\n  display: flex;\n  flex-direction: column;\n  color: #958b7b;\n  margin: 0 0 8px;\n  background: white;\n  div {\n    button {\n      outline: none;\n      color: rgba(0, 0, 0, 0.6);\n      font-size: 14px;\n      line-height: 1.5;\n      min-height: 48px;\n      background: transparent;\n      border: none;\n      display: flex;\n      align-items: center;\n      font-weight: 600;\n    }\n    &:first-child {\n      display: flex;\n      align-items: center;\n      padding: 8px 16px 0px 16px;\n      img {\n        width: 48px;\n        border-radius: 50%;\n        margin-right: 8px;\n      }\n      button {\n        margin: 4px 0;\n        flex-grow: 1;\n        border-radius: 35px;\n        padding-left: 16px;\n        border: 1px solid rgba(0, 0, 0, 0.15);\n        background-color: white;\n        text-align: left;\n      }\n    }\n    &:nth-child(2) {\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: space-around;\n      padding-bottom: 4px;\n\n      button {\n        img {\n          width: 18px;\n          margin: 0 4px 0 -2px;\n        }\n        span {\n          color: #70b5f9;\n        }\n      }\n    }\n  }\n"]))),gR=on(vR)(kN||(kN=H(["\n  padding: 0;\n  margin: 0 0 8px;\n  overflow: visible;\n"]))),yR=on.div(bN||(bN=H(["\n  padding-right: 40px;\n  flex-wrap: nowrap;\n  padding: 12px 16px 0;\n  margin-bottom: 8px;\n  align-items: center;\n  display: flex;\n  a {\n    margin-right: 12px;\n    flex-grow: 1;\n    overflow: hidden;\n    display: flex;\n    text-decoration: none;\n\n    img {\n      width: 48px;\n      height: 48px;\n    }\n    & > div {\n      display: flex;\n      flex-direction: column;\n      flex-grow: 1;\n      flex-basis: 0;\n      margin-left: 8px;\n      overflow: hidden;\n      span {\n        text-align: left;\n        &:first-child {\n          font-size: 14px;\n          font-weight: 700;\n          color: rgba(0, 0, 0, 1);\n        }\n        &:nth-child(n + 1) {\n          font-size: 12px;\n          color: rgba(0, 0, 0, 0.6);\n        }\n      }\n    }\n  }\n\n  button {\n    position: absolute;\n    right: 12px;\n    top: 0;\n    background: transparent;\n    border: none;\n    outline: none;\n    img {\n      width: 10px;\n      margin-top: 5px;\n      &:first-child {\n        margin-right: 1.8px;\n      }\n    }\n  }\n"]))),kR=on.div(wN||(wN=H(["\n  padding: 0 16px;\n  overflow: hidden;\n  color: rgba(0, 0, 0, 0.9);\n  font-size: 14px;\n  text-align: left;\n"]))),bR=on.div(xN||(xN=H(["\n  margin-top: 8px;\n  width: 100%;\n  display: block;\n  position: relative;\n  background-color: #f9fafb;\n  img {\n    object-fit: contain;\n    width: 100%;\n  }\n"]))),wR=on.ul(_N||(_N=H(["\n  line-height: 1.3;\n  display: flex;\n  align-items: flex-start;\n  overflow: auto;\n  margin: 0 16px;\n  padding: 8px 0;\n  border-bottom: 1px solid #e9e5df;\n  list-style: none;\n  li {\n    margin-right: 5px;\n    font-size: 12px;\n    button {\n      display: flex;\n    }\n  }\n"]))),xR=on.div(SN||(SN=H(["\n  align-items: center;\n  display: flex;\n  justify-content: flex-start;\n  margin: 0;\n  min-height: 40px;\n  padding: 4px 8px;\n  button {\n    display: inline-flex;\n    align-items: center;\n    padding: 8px;\n    color: #0a66c2;\n    img {\n      width: 20px;\n    }\n    @media (min-width: 768px) {\n      span {\n        margin-left: 8px;\n      }\n    }\n  }\n"]))),_R=function(e){return(0,WN.jsxs)(pR,{children:[(0,WN.jsxs)(mR,{children:[(0,WN.jsxs)("div",{children:[(0,WN.jsx)("img",{src:"/linkedin-clone/images/user.svg"}),(0,WN.jsx)("button",{children:"Start a post"})]}),(0,WN.jsxs)("div",{children:[(0,WN.jsxs)("button",{children:[(0,WN.jsx)("img",{src:"/linkedin-clone/images/icon_image.svg"}),(0,WN.jsx)("span",{children:"Photo"})]}),(0,WN.jsxs)("button",{children:[(0,WN.jsx)("img",{src:"/linkedin-clone/images/icon_film.svg"}),(0,WN.jsx)("span",{children:"Video"})]}),(0,WN.jsxs)("button",{children:[(0,WN.jsx)("img",{src:"/linkedin-clone/images/icon_images.svg"}),(0,WN.jsx)("span",{children:"Event"})]}),(0,WN.jsxs)("button",{children:[(0,WN.jsx)("img",{src:"/linkedin-clone/images/icon_document_alt.svg"}),(0,WN.jsx)("span",{children:"Write article"})]})]})]}),(0,WN.jsx)("div",{children:(0,WN.jsxs)(gR,{children:[(0,WN.jsxs)(yR,{children:[(0,WN.jsxs)("a",{children:[(0,WN.jsx)("img",{src:"/linkedin-clone/images/user.svg"}),(0,WN.jsxs)("div",{children:[(0,WN.jsx)("span",{children:"Title"}),(0,WN.jsx)("span",{children:"Info"}),(0,WN.jsx)("span",{children:"Date"})]})]}),(0,WN.jsxs)("button",{children:[(0,WN.jsx)("img",{src:"/linkedin-clone/images/social_flickr.svg"}),(0,WN.jsx)("img",{src:"/linkedin-clone/images/social_flickr.svg"})]})]}),(0,WN.jsx)(kR,{children:"Description"}),(0,WN.jsx)(bR,{children:(0,WN.jsx)("a",{children:(0,WN.jsx)("img",{src:"/linkedin-clone/images/hared-image.jpg"})})}),(0,WN.jsxs)(wR,{children:[(0,WN.jsx)("li",{children:(0,WN.jsxs)("button",{children:[(0,WN.jsx)("img",{src:"/linkedin-clone/images/like.svg"}),(0,WN.jsx)("img",{src:"/linkedin-clone/images/clapping.svg"}),(0,WN.jsx)("span",{children:"75"})]})}),(0,WN.jsx)("li",{children:(0,WN.jsx)("a",{children:"2 comments"})})]}),(0,WN.jsxs)(xR,{children:[(0,WN.jsxs)("button",{children:[(0,WN.jsx)("img",{src:"/linkedin-clone/images/icon_like_alt.svg"}),(0,WN.jsx)("span",{children:"Like"})]}),(0,WN.jsxs)("button",{children:[(0,WN.jsx)("img",{src:"/linkedin-clone/images/icon_comment.svg"}),(0,WN.jsx)("span",{children:"Comments"})]}),(0,WN.jsxs)("button",{children:[(0,WN.jsx)("img",{src:"/linkedin-clone/images/social_share.svg"}),(0,WN.jsx)("span",{children:"Share"})]}),(0,WN.jsxs)("button",{children:[(0,WN.jsx)("img",{src:"/linkedin-clone/images/arrow_right-up_alt.svg"}),(0,WN.jsx)("span",{children:"Send"})]})]})]})})]})},SR=on.div(IN||(IN=H(["\n  grid-area: rightside;\n"]))),IR=on.div(EN||(EN=H(["\n  text-align: center;\n  overflow: hidden;\n  margin-bottom: 8px;\n  background-color: #fff;\n  border-radius: 5px;\n  position: relative;\n  border: none;\n  box-shadow: 0 0 0 1px rgb(0 0 0 / 15%), 0 0 0 rgb(0 0 0 / 20%);\n  padding: 12px;\n"]))),ER=on.div(TN||(TN=H(["\n  display: inline-flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 16px;\n  width: 100%;\n  color: rgba(0, 0, 0, 0.6);\n"]))),TR=on.ul(CN||(CN=H(["\n  margin-top: 16px;\n  li {\n    display: flex;\n    align-items: center;\n    margin: 12px 0;\n    position: relative;\n    font-size: 14px;\n    & > div {\n      display: flex;\n      flex-direction: column;\n    }\n    button {\n      background-color: transparent;\n      color: rgba(0, 0, 0, 0.6);\n      box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.6);\n      padding: 16px;\n      align-items: center;\n      border-radius: 15px;\n      box-sizing: border-box;\n      font-weight: 600;\n      display: inline-flex;\n      justify-content: center;\n      max-height: 32px;\n      max-width: 480px;\n      text-align: center;\n      outline: none;\n    }\n  }\n"]))),CR=on.div(AN||(AN=H(['\n  background-image: url("https://static-exp1.licdn.com/sc/h/1b4vl1r54ijmrmcyxzoidwmxs");\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n  width: 48px;\n  height: 48px;\n  margin-right: 8px;\n']))),AR=on.a(NN||(NN=H(["\n  color: #0a66c2;\n  display: flex;\n  align-items: center;\n  font-size: 14px;\n"]))),NR=on(IR)(RN||(RN=H(["\n  img {\n    width: 100%;\n    height: 100%;\n  }\n"]))),RR=function(e){return(0,WN.jsxs)(SR,{children:[(0,WN.jsxs)(IR,{children:[(0,WN.jsxs)(ER,{children:[(0,WN.jsx)("h2",{children:"Add to your feed"}),(0,WN.jsx)("img",{src:""})]}),(0,WN.jsxs)(TR,{children:[(0,WN.jsxs)("li",{children:[(0,WN.jsx)("a",{children:(0,WN.jsx)(CR,{})}),(0,WN.jsxs)("div",{children:[(0,WN.jsx)("span",{children:"#Linkedin"}),(0,WN.jsx)("button",{children:"Follow"})]})]}),(0,WN.jsxs)("li",{children:[(0,WN.jsx)("a",{children:(0,WN.jsx)(CR,{})}),(0,WN.jsxs)("div",{children:[(0,WN.jsx)("span",{children:"#Video"}),(0,WN.jsx)("button",{children:"Follow"})]})]})]}),(0,WN.jsxs)(AR,{children:["View all recommendations",(0,WN.jsx)("img",{src:"/linkedin-clone/images/right-icon.svg",alt:""})]})]}),(0,WN.jsx)(NR,{children:(0,WN.jsx)("img",{src:"/linkedin-clone/images/job-ads.jpg",alt:""})})]})},PR=on.div(PN||(PN=H(["\n  padding-top: 52px;\n  max-width: 100%;\n"]))),OR=(on.div(ON||(ON=H(["\n  max-width: 1128px;\n  margin-left: auto;\n  margin-right: auto;\n"]))),on.section(DN||(DN=H(["\n  min-height: 50px;\n  padding: 16px 0;\n  box-sizing: content-box;\n  text-align: center;\n  text-decoration: underline;\n  display: flex;\n  justify-content: center;\n  h5 {\n    color: #0a66c2;\n    font-size: 14px;\n    a {\n      font-weight: 700;\n    }\n  }\n  p {\n    font-size: 14px;\n    color: #434649;\n    font-weight: 600;\n  }\n  @media (max-width: 768px) {\n    flex-direction: column;\n    padding: 0 5px;\n  }\n"])))),DR=on.div(LN||(LN=H(['\n  display: grid;\n  grid-template-areas: "leftside main rightside";\n  grid-template-columns: minmax(0, 5fr) minmax(0, 12fr) minmax(300px, 7fr);\n  column-gap: 25px;\n  row-gap: 25px;\n  grid-template-rows: auto;\n  margin: 25px 0;\n  @media (max-width: 768px) {\n    display: flex;\n    flex-direction: column;\n    padding: 0 5px;\n  }\n']))),LR=Ae((function(e){return{user:e.userState.user}}))((function(e){return(0,WN.jsxs)(PR,{children:[!e.user&&(0,WN.jsx)(V,{to:"/"}),(0,WN.jsxs)(OR,{children:[(0,WN.jsx)("h5",{children:(0,WN.jsx)("a",{children:"Hiring in a hurry? - "})}),(0,WN.jsx)("p",{children:"Find talented pros in record time with Upwork and keep business moving."})]}),(0,WN.jsxs)(DR,{children:[(0,WN.jsx)(dR,{}),(0,WN.jsx)(_R,{}),(0,WN.jsx)(RR,{})]})]})})),MR=on.div(MN||(MN=H(["\n  padding: 0px;\n"]))),FR=on.nav(FN||(FN=H(["\n  max-width: 1128px;\n  margin: auto;\n  padding: 12px 0 16px;\n  display: flex;\n  align-items: center;\n  position: relative;\n  justify-content: space-between;\n  flex-wrap: nowrap;\n\n  & > a {\n    width: 135px;\n    height: 34px;\n    @media (max-width: 768px) {\n      padding: 0 5px;\n    }\n  }\n"]))),UR=on.a(UN||(UN=H(["\n  font-size: 16px;\n  padding: 10px 12px;\n  text-decoration: none;\n  border-radius: 4px;\n  color: rgba(0, 0, 0, 0.6);\n  margin-right: 12px;\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.08);\n    color: rgba(0, 0, 0, 0.9);\n    text-decoration: none;\n  }\n"]))),jR=on.a(jN||(jN=H(["\n  box-shadow: inset 0 0 0 1px #0a66c2;\n  color: #0a66c2;\n  border-radius: 24px;\n  transition-duration: 167ms;\n  font-size: 16px;\n  font-weight: 600;\n  line-height: 40px;\n  padding: 10px 24px;\n  text-align: center;\n  background-color: rgba(0, 0, 0, 0);\n  &:hover {\n    background-color: rgba(112, 181, 249, 0.15);\n    color: #0a66c2;\n    text-decoration: none;\n  }\n"]))),VR=on.section(VN||(VN=H(["\n  display: flex;\n  align-content: start;\n  min-height: 700px;\n  padding-bottom: 130px;\n  padding-top: 40px;\n  padding: 60px 0;\n  position: relative;\n  flex-wrap: wrap;\n  width: 100%;\n  max-width: 1128px;\n  align-items: center;\n  margin: auto;\n  @media (max-width: 768px) {\n    margin: auto;\n    min-height: 0px;\n  }\n"]))),BR=on.div(BN||(BN=H(["\n  width: 100%;\n  h1 {\n    padding-bottom: 0;\n    width: 55%;\n    font-size: 56px;\n    color: #2977c9;\n    font-weight: 200;\n    line-height: 70px;\n    @media (max-width: 768px) {\n      text-align: center;\n      font-size: 20px;\n      width: 100%;\n      line-height: 2;\n    }\n  }\n  img {\n    z-index: -1;\n    width: 700px;\n    height: 670px;\n    position: absolute;\n    bottom: -2px;\n    right: -150px;\n    @media (max-width: 768px) {\n      top: 230px;\n      width: initial;\n      position: initial;\n      height: initial;\n    }\n  }\n"]))),zR=on.div(zN||(zN=H(["\n  margin-top: 100px;\n  width: 408px;\n  @media (max-width: 768px) {\n    margin-top: 20px;\n    width: 100%;\n  }\n"]))),qR=on.button(qN||(qN=H(["\n  display: flex;\n  justify-content: center;\n  background-color: #fff;\n  align-items: center;\n  height: 56px;\n  width: 100%;\n  border-radius: 28px;\n  box-shadow: inset 0 0 0 1px rgb(0 0 0 / 60%), inset 0 0 0 2px rgb(0 0 0 / 0%),\n    inset 0 0 0 1px rgb(0 0 0 / 0);\n  vertical-align: middle;\n  z-index: 0;\n  transition-duration: 167ms;\n  font-size: 20px;\n  color: rgba(0, 0, 0, 0.6);\n  &:hover {\n    background-color: rgba(207, 207, 207, 0.25);\n    color: rgba(0, 0, 0, 0.75);\n  }\n"]))),WR=Ae((function(e){return{user:e.userState.user}}),(function(e){return{signIn:function(){return e((function(e){KA.signInWithPopup(HA).then((function(t){e(QA(t.user))})).catch((function(e){return alert(e.message)}))}))}}}))((function(e){return(0,WN.jsxs)(MR,{children:[e.user&&(0,WN.jsx)(V,{to:"home"}),(0,WN.jsxs)(FR,{children:[(0,WN.jsx)("a",{href:"/",children:(0,WN.jsx)("img",{src:"/linkedin-clone/images/login-logo.svg",alt:""})}),(0,WN.jsxs)("div",{children:[(0,WN.jsx)(UR,{children:"Join now"}),(0,WN.jsx)(jR,{children:"Sign in"})]})]}),(0,WN.jsxs)(VR,{children:[(0,WN.jsxs)(BR,{children:[(0,WN.jsx)("h1",{children:"Welcome to your professional community"}),(0,WN.jsx)("img",{src:"/linkedin-clone/images/login-hero.svg",alt:""})]}),(0,WN.jsx)(zR,{children:(0,WN.jsxs)(qR,{onClick:function(){return e.signIn()},children:[(0,WN.jsx)("img",{src:"/linkedin-clone/images/google.svg",alt:""}),"Sign in with Google"]})})]})]})}));var KR=Ae((function(e){return{}}),(function(e){return{getUserAuth:function(){return e((function(e){KA.onAuthStateChanged(function(){var t=sn(ln().mark((function t(n){return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n&&e(QA(n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))}}}))((function(e){return(0,r.useEffect)((function(){e.getUserAuth()}),[]),(0,WN.jsx)("div",{className:"App",children:(0,WN.jsx)(K,{children:(0,WN.jsxs)(q,{children:[(0,WN.jsx)(B,{exact:!0,path:"/",element:(0,WN.jsx)(WR,{})}),(0,WN.jsx)(B,{path:"/home",element:(0,WN.jsxs)(WN.Fragment,{children:[(0,WN.jsx)(nR,{}),(0,WN.jsx)(LR,{})]})})]})})})}));function HR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HR(Object(n),!0).forEach((function(t){fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function QR(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var $R="function"===typeof Symbol&&Symbol.observable||"@@observable",YR=function(){return Math.random().toString(36).substring(7).split("").join(".")},XR={INIT:"@@redux/INIT"+YR(),REPLACE:"@@redux/REPLACE"+YR(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+YR()}};function JR(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ZR(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(QR(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(QR(1));return n(ZR)(e,t)}if("function"!==typeof e)throw new Error(QR(2));var i=e,a=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function l(){if(s)throw new Error(QR(3));return a}function f(e){if("function"!==typeof e)throw new Error(QR(4));if(s)throw new Error(QR(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(QR(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function h(e){if(!JR(e))throw new Error(QR(7));if("undefined"===typeof e.type)throw new Error(QR(8));if(s)throw new Error(QR(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(QR(10));i=e,h({type:XR.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(QR(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[$R]=function(){return this},e}return h({type:XR.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[$R]=p,r}function eP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function tP(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var nP=tP();nP.withExtraArgument=tP;var rP=nP,iP={user:null},aP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iP,t=arguments.length>1?arguments[1]:void 0;return t.type===GA?GR(GR({},e),{},{user:t.user}):e},oP=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:XR.INIT}))throw new Error(QR(12));if("undefined"===typeof n(void 0,{type:XR.PROBE_UNKNOWN_ACTION()}))throw new Error(QR(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(QR(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}({userState:aP}),uP=ZR(oP,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(QR(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=eP.apply(void 0,a)(n.dispatch),GR(GR({},n),{},{dispatch:r})}}}(rP)),sP=uP;i.createRoot(document.getElementById("root")).render((0,WN.jsx)(r.StrictMode,{children:(0,WN.jsx)(Ne,{store:sP,children:(0,WN.jsx)(KR,{})})}))}()}();
//# sourceMappingURL=main.61774aa5.js.map